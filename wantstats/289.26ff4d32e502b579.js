"use strict";(self.webpackChunkwantstats=self.webpackChunkwantstats||[]).push([[289],{7289:(Jl,Tt,k)=>{k.r(Tt),k.d(Tt,{ReportLayoutModule:()=>Hl});var M=k(9808),T=k(1083),O=k(9614),J=k(4339),C=k(3094),x=k(4168),b=k(4159),P=k(7489),t=k(5e3),S=k(8966),L=k(2820),A=k(3116),Y=k(5229),U=k(72),Z=k(7675),it=k(5337),y=k(4999),W=k(4829),Ht=k(1188),ot=k(429),Jt=k(509),zt=k(1074),Qt=k(620),kt=k(8188),Gt=k(3952),ut=k(9125),_t=k(4383),ft=k(1125);const St=function(a,o,e){return{type:a,reportId:o,reportName:e}};function Ft(a,o){if(1&a&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&a){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.kEZ(7,St,e.section,e.report_id,e.report_name)),t.xp6(2),t.AsE(" ",t.lcZ(3,5,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function jt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,3,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}const vt=function(a,o){return{reportId:a,reportName:o}};function Bt(a,o){if(1&a&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&a){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.WLB(6,vt,e.report_id,e.report_name)),t.xp6(2),t.hij(" ",t.lcZ(3,4,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function $t(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function Vt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," more Sections..."),t.qZA())}function Kt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," ...less Sections "),t.qZA())}function Wt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",8)(1,"label",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(5);return i.moreStatus=!i.moreStatus}),t.YNc(2,Vt,2,0,"span",2),t.YNc(3,Kt,2,0,"span",2),t.qZA()()}if(2&a){const e=t.oxw(5);t.xp6(2),t.Q6J("ngIf",!e.moreStatus),t.xp6(1),t.Q6J("ngIf",e.moreStatus)}}function Xt(a,o){if(1&a&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Sections"),t.qZA(),t.YNc(5,Ft,6,11,"a",11),t.YNc(6,jt,6,5,"a",12),t.YNc(7,Bt,6,9,"a",11),t.YNc(8,$t,6,4,"a",12),t.YNc(9,Wt,4,2,"a",13),t.qZA()()()),2&a){const e=o.$implicit,n=o.index,i=t.oxw(4);t.xp6(5),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)!=i.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)==i.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)!=i.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)==i.reportId),t.xp6(1),t.Q6J("ngIf",i.interConnectsMore.length&&n==i.interConnects.length-1)}}function te(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,Xt,10,5,"div",6),t.qZA()()),2&a){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.interConnects)}}function ee(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,te,3,1,"div",2),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isTopPlayer)}}const ne=function(a){return{companyId:a,menu:"Financial Overview",id:"SBU",key:"financial_overview"}};function ie(a,o){if(1&a&&(t.TgZ(0,"a",22)(1,"h6",15),t._uU(2),t.qZA()()),2&a){const e=t.oxw(2).$implicit;t.Q6J("queryParams",t.VKq(2,ne,null==e?null:e._id)),t.xp6(2),t.Oqu(null==e?null:e.name)}}function ae(a,o){if(1&a&&(t.TgZ(0,"a")(1,"h6",15),t._uU(2),t.qZA()()),2&a){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(null==e?null:e.name)}}function oe(a,o){if(1&a&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h6",10),t._uU(3,"Similar Companies"),t.qZA(),t.YNc(4,ie,3,4,"a",19),t.YNc(5,ae,3,1,"a",2),t.TgZ(6,"a",20)(7,"label",21),t._uU(8,"More Companies..."),t.qZA()()()()),2&a){const e=t.oxw(4);t.xp6(4),t.Q6J("ngIf","5f636e6394ef4c5219ac9cd1"!=e.reportId),t.xp6(1),t.Q6J("ngIf","5f636e6394ef4c5219ac9cd1"==e.reportId)}}function re(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,oe,9,2,"div",13),t.qZA()),2&a){const e=o.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0!=e&&e<(null==n.suggestion||null==n.suggestion.interConnect?null:n.suggestion.interConnect.data.length))}}function se(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,re,2,1,"div",6),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",null==e.suggestion||null==e.suggestion.interConnect?null:e.suggestion.interConnect.data)}}function ce(a,o){if(1&a&&(t.TgZ(0,"a",24)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&a){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.kEZ(7,St,e.section,e.report_id,e.report_name)),t.xp6(2),t.AsE(" ",t.lcZ(3,5,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function le(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,3,e.section),", ",e.main_section," "),t.xp6(3),t.hij("",e.report_name," Market")}}function de(a,o){if(1&a&&(t.TgZ(0,"a",14)(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()),2&a){const e=t.oxw().$implicit;t.s9C("routerLink",e.router_link),t.Q6J("queryParams",t.WLB(6,vt,e.report_id,e.report_name)),t.xp6(2),t.hij(" ",t.lcZ(3,4,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function pe(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"h6",16),t._uU(5),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,e.main_section)," "),t.xp6(3),t.hij("",e.report_name," Market")}}function ge(a,o){if(1&a&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Sections"),t.qZA(),t.YNc(5,ce,6,11,"a",23),t.YNc(6,le,6,5,"a",12),t.YNc(7,de,6,9,"a",11),t.YNc(8,pe,6,4,"a",12),t.qZA()()()),2&a){const e=o.$implicit,n=t.oxw(4);t.xp6(5),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)!=n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"==e.main_section&&(null==e?null:e.report_id)==n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)!=n.reportId),t.xp6(1),t.Q6J("ngIf","Market Dynamics"!=e.main_section&&(null==e?null:e.report_id)==n.reportId)}}function he(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,ge,9,4,"div",6),t.qZA()()),2&a){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.interConnectsMore)}}function me(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,he,3,1,"div",2),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isTopPlayer)}}function ue(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",4),t.YNc(2,ee,2,1,"div",2),t.YNc(3,se,3,1,"div",2),t.YNc(4,me,2,1,"div",2),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.interConnects&&(null==e.interConnects?null:e.interConnects.length)),t.xp6(1),t.Q6J("ngIf",e.isTopPlayer),t.xp6(1),t.Q6J("ngIf",e.moreStatus&&e.interConnectsMore&&(null==e.interConnectsMore?null:e.interConnectsMore.length))}}function _e(a,o){if(1&a&&(t.TgZ(0,"a",29)(1,"h6",15),t._uU(2),t.qZA()()),2&a){const e=t.oxw(2).$implicit;t.Q6J("queryParams",t.WLB(2,vt,null==e?null:e.report_id,null==e?null:e.report_name)),t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function fe(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).showMessage()}),t.TgZ(1,"h6",15),t._uU(2),t.qZA()()}if(2&a){const e=t.oxw(2).$implicit;t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function ve(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," more Reports..."),t.qZA())}function Ce(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," ...less Reports "),t.qZA())}function xe(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",8)(1,"label",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return i.moreReports=!i.moreReports}),t.YNc(2,ve,2,0,"span",2),t.YNc(3,Ce,2,0,"span",2),t.qZA()()}if(2&a){const e=t.oxw(2).index,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.moreReports&&5==e),t.xp6(1),t.Q6J("ngIf",n.moreReports&&5!=e)}}function be(a,o){if(1&a&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Reports"),t.qZA(),t.YNc(5,_e,3,5,"a",28),t.YNc(6,fe,3,1,"a",12),t.YNc(7,xe,4,2,"a",13),t.qZA()()()),2&a){const e=t.oxw(),n=e.$implicit,i=e.index,r=t.oxw(2);t.xp6(5),t.Q6J("ngIf",(null==n?null:n.report_id)!=r.reportId),t.xp6(1),t.Q6J("ngIf",(null==n?null:n.report_id)==r.reportId),t.xp6(1),t.Q6J("ngIf",(null==r.reportConnectData?null:r.reportConnectData.data.length)&&(null==r.reportConnectData?null:r.reportConnectData.data.length)>5&&(5==i||i==(null==r.reportConnectData?null:r.reportConnectData.data.length)-1))}}function we(a,o){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,be,8,3,"div",27),t.qZA()),2&a){const e=o.index,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!n.moreReports&&e<=5||n.moreReports)}}function ye(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,we,2,1,"div",25),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",null==e.reportConnectData?null:e.reportConnectData.data)}}function Me(a,o){if(1&a&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),t._uU(4,"Similar Reports"),t.qZA(),t.TgZ(5,"a",30)(6,"h6",15),t._uU(7),t.qZA()()()()()),2&a){const e=o.$implicit;t.xp6(5),t.Q6J("queryParams",t.WLB(2,vt,null==e?null:e.report_id,null==e?null:e.report_name)),t.xp6(2),t.hij("",null==e?null:e.report_name," market")}}function Oe(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,Me,8,5,"div",6),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",null==e.hardCodedReportConnectData?null:e.hardCodedReportConnectData.data)}}function Pe(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return i.openYtDailog(i.youtubeContents[0])}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(3),t.Q6J("src",null==e.youtubeContents[0]?null:e.youtubeContents[0].imgUrl,t.LSH)}}function Te(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("+",e.youtubeContents.length-1," more ")}}function ke(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("-",e.youtubeContents.length-1," ")}}function Se(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,Te,2,1,"span",2),t.YNc(2,ke,2,1,"span",2),t._uU(3,"Videos"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.videoStatus),t.xp6(1),t.Q6J("ngIf",e.videoStatus)}}function De(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"+4 more "),t.qZA())}function Ae(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"-4 "),t.qZA())}function Ze(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,De,2,0,"span",2),t.YNc(2,Ae,2,0,"span",2),t._uU(3,"Videos"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.videoStatus),t.xp6(1),t.Q6J("ngIf",e.videoStatus)}}function Re(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(2).openYtDailog(i)}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&a){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("src",null==e?null:e.imgUrl,t.LSH)}}const st=function(a){return{searchQuery:a}};function Ee(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,Re,4,1,"div",33),t.TgZ(2,"div",9)(3,"h6",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openYtDailog(i)}),t._uU(4),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"div",35),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"a",42)(10,"label",21),t._uU(11,"More Videos..."),t.qZA()()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e?null:e.imgUrl),t.xp6(2),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.hij(" ",t.Dn7(5,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(8,9,null==e?null:e.publishedAt)),t.xp6(2),t.Q6J("queryParams",t.VKq(11,st,n.reportName))}}function Ne(a,o){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,Ee,12,13,"div",40),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function Ie(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.videoStatus=!i.videoStatus}),t.TgZ(2,"div",8),t.YNc(3,Pe,4,1,"div",33),t.TgZ(4,"div",9)(5,"h6",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.openYtDailog(i.youtubeContents[0])}),t._uU(6),t.ALo(7,"slice"),t.qZA(),t.TgZ(8,"div",35),t._uU(9),t.ALo(10,"date"),t.qZA(),t.YNc(11,Se,4,2,"label",36),t.YNc(12,Ze,4,2,"label",36),t.qZA()()(),t.TgZ(13,"div",5),t.YNc(14,Ne,2,1,"div",25),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","110px")("expandedHeight","110px"),t.xp6(2),t.Q6J("ngIf",null==e.youtubeContents[0]?null:e.youtubeContents[0].imgUrl),t.xp6(2),t.Q6J("title",null==e.youtubeContents[0]?null:e.youtubeContents[0].title),t.xp6(1),t.hij(" ",t.Dn7(7,10,null==e.youtubeContents[0]?null:e.youtubeContents[0].title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(10,14,null==e.youtubeContents[0]?null:e.youtubeContents[0].publishedAt)),t.xp6(2),t.Q6J("ngIf",e.youtubeContents.length<5),t.xp6(1),t.Q6J("ngIf",e.youtubeContents.length>=5),t.xp6(2),t.Q6J("ngForOf",e.youtubeContents)}}function Le(a,o){if(1&a&&(t.TgZ(0,"a",46)(1,"label",21),t._uU(2,"More News..."),t.qZA()()),2&a){const e=t.oxw(2);t.Q6J("queryParams",t.VKq(1,st,e.reportName))}}function Ue(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("+",e.finalNews.length-1," more ")}}function Ye(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("-",e.finalNews.length-1," ")}}function qe(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,Ue,2,1,"span",2),t.YNc(2,Ye,2,1,"span",2),t._uU(3,"News"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.newStat),t.xp6(1),t.Q6J("ngIf",e.newStat)}}function He(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"+4 more "),t.qZA())}function Je(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"-4 "),t.qZA())}function ze(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,He,2,0,"span",2),t.YNc(2,Je,2,0,"span",2),t._uU(3,"News"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.newStat),t.xp6(1),t.Q6J("ngIf",e.newStat)}}function Qe(a,o){if(1&a&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h6",10),t._uU(3,"News Stories"),t.qZA(),t.TgZ(4,"h6",43)(5,"a",44),t._uU(6),t.ALo(7,"slice"),t.qZA()(),t.TgZ(8,"div",35),t._uU(9),t.qZA(),t.TgZ(10,"a",46)(11,"label",21),t._uU(12,"More News..."),t.qZA()()()()),2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(4),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.Q6J("href",null==e?null:e.link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(7,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(null==e?null:e.source),t.xp6(1),t.Q6J("queryParams",t.VKq(9,st,n.reportName))}}function Ge(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,Qe,13,11,"div",13),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function Fe(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.newStat=!i.newStat}),t.TgZ(2,"div",8)(3,"div",9)(4,"h6",10),t._uU(5,"News Stories"),t.qZA(),t.TgZ(6,"h6",43)(7,"a",44),t._uU(8),t.ALo(9,"slice"),t.qZA()(),t.TgZ(10,"div",35),t._uU(11),t.qZA(),t.YNc(12,Le,3,3,"a",45),t.YNc(13,qe,4,2,"label",36),t.YNc(14,ze,4,2,"label",36),t.qZA()()(),t.TgZ(15,"div",5),t.YNc(16,Ge,2,1,"div",6),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","90px")("expandedHeight","90px"),t.xp6(5),t.Q6J("title",null==e.finalNews[0]?null:e.finalNews[0].title),t.xp6(1),t.Q6J("href",null==e.finalNews[0]?null:e.finalNews[0].link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(9,11,null==e.finalNews[0]?null:e.finalNews[0].title,0,45),"... "),t.xp6(3),t.Oqu(null==e.finalNews[0]?null:e.finalNews[0].source),t.xp6(1),t.Q6J("ngIf",1==e.finalNews.length),t.xp6(1),t.Q6J("ngIf",e.finalNews.length<5&&e.finalNews.length>1),t.xp6(1),t.Q6J("ngIf",e.finalNews.length>=5),t.xp6(2),t.Q6J("ngForOf",e.finalNews)}}function je(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(2).openYtDailog(i)}),t.TgZ(1,"div",38),t._uU(2,"Industry Videos"),t.qZA(),t._UZ(3,"img",39),t.qZA()}if(2&a){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("src",null==e?null:e.imgUrl,t.LSH)}}function Be(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,je,4,1,"div",33),t.TgZ(2,"div",9)(3,"h6",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openYtDailog(i)}),t._uU(4),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"div",35),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"a",42)(10,"label",21),t._uU(11,"More Videos..."),t.qZA()()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e?null:e.imgUrl),t.xp6(2),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.hij(" ",t.Dn7(5,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(t.lcZ(8,9,null==e?null:e.publishedAt)),t.xp6(2),t.Q6J("queryParams",t.VKq(11,st,n.reportName))}}function $e(a,o){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,Be,12,13,"div",40),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",e<3)}}function Ve(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,$e,2,1,"div",25),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.youtubeContents)}}function Ke(a,o){if(1&a&&(t.TgZ(0,"div",41)(1,"div",9)(2,"h6",10),t._uU(3,"News Stories"),t.qZA(),t.TgZ(4,"h6",43)(5,"a",44),t._uU(6),t.ALo(7,"slice"),t.qZA()(),t.TgZ(8,"div",35),t._uU(9),t.qZA(),t.TgZ(10,"a",46)(11,"label",21),t._uU(12,"More News..."),t.qZA()()()()),2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(4),t.Q6J("title",null==e?null:e.title),t.xp6(1),t.Q6J("href",null==e?null:e.link,t.LSH),t.xp6(1),t.hij(" ",t.Dn7(7,5,null==e?null:e.title,0,45),"... "),t.xp6(3),t.Oqu(null==e?null:e.source),t.xp6(1),t.Q6J("queryParams",t.VKq(9,st,n.searchText))}}function We(a,o){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,Ke,13,11,"div",40),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",e<3)}}function Xe(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,We,2,1,"div",25),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.finalNews)}}function tn(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij("+",e.leadsArray.length-1," more ")}}function en(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij("-",e.leadsArray.length-1," ")}}const nn=function(a){return{vertical:a}};function an(a,o){if(1&a&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Top Leads"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",48),t._uU(6),t.ALo(7,"titlecase"),t.qZA()(),t.TgZ(8,"a",50)(9,"label",21),t._uU(10,"More Leads..."),t.qZA()()()()),2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(5),t.MGl("routerLink","/output-chart/leads-data/",e,""),t.xp6(1),t.hij(" ",t.lcZ(7,3,e)," "),t.xp6(2),t.Q6J("queryParams",t.VKq(5,nn,n.currentReport.vertical))}}function on(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,an,11,7,"div",49),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function rn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.leadsDb=!i.leadsDb}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Top Leads"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",48),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.TgZ(10,"label",21),t.YNc(11,tn,2,1,"span",2),t.YNc(12,en,2,1,"span",2),t._uU(13,"Leads"),t.qZA()()()(),t.TgZ(14,"div",5),t.YNc(15,on,2,1,"div",6),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.MGl("routerLink","/output-chart/leads-data/",e.leadsArray[0],""),t.xp6(1),t.hij(" ",t.lcZ(9,8,e.leadsArray[0])," "),t.xp6(3),t.Q6J("ngIf",!e.leadsDb),t.xp6(1),t.Q6J("ngIf",e.leadsDb),t.xp6(3),t.Q6J("ngForOf",e.leadsArray)}}function sn(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("+",(null==e.hardCodedFiling?null:e.hardCodedFiling.length)-1," more ")}}function cn(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij(" ",(null==e.hardCodedFiling?null:e.hardCodedFiling.length)-1," ")}}function ln(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,sn,2,1,"span",2),t.YNc(2,cn,2,1,"span",2),t._uU(3,"Fillings"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.fillingOverlap),t.xp6(1),t.Q6J("ngIf",e.fillingOverlap)}}function dn(a,o){if(1&a&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Regulatory Fillings (US)"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",52),t._uU(6),t.ALo(7,"titlecase"),t.qZA()()()()),2&a){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("queryParams",t.VKq(4,st,e)),t.xp6(1),t.hij(" ",t.lcZ(7,2,e)," ")}}function pn(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,dn,8,6,"div",49),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}const gn=function(){return{searchQuery:""}};function hn(a,o){1&a&&(t.TgZ(0,"a",54)(1,"label",55)(2,"span"),t._uU(3," more Fillings "),t.qZA()()()),2&a&&t.Q6J("queryParams",t.DdM(1,gn))}function mn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.fillingOverlap=!i.fillingOverlap}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Regulatory Fillings (US)"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",52),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.YNc(10,ln,4,2,"label",36),t.qZA()()(),t.TgZ(11,"div",5),t.YNc(12,pn,2,1,"div",6),t.YNc(13,hn,4,2,"a",53),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.Q6J("queryParams",t.VKq(10,st,e.hardCodedFiling[0])),t.xp6(1),t.hij(" ",t.lcZ(9,8,e.hardCodedFiling[0])," "),t.xp6(2),t.Q6J("ngIf",e.hardCodedFiling.length>1),t.xp6(2),t.Q6J("ngForOf",e.hardCodedFiling),t.xp6(1),t.Q6J("ngIf",e.fillingOverlap)}}function un(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("+",e.hardcodedStocks.length-1," more ")}}function _n(a,o){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij(" -",e.hardcodedStocks.length-1," ")}}function fn(a,o){if(1&a&&(t.TgZ(0,"label",21),t.YNc(1,un,2,1,"span",2),t.YNc(2,_n,2,1,"span",2),t._uU(3,"Stocks"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.stocksOverlap),t.xp6(1),t.Q6J("ngIf",e.stocksOverlap)}}const Dt=function(a,o){return{symbol:a,name:o}};function vn(a,o){if(1&a&&(t.TgZ(0,"div",47)(1,"div",9)(2,"h6",10),t._uU(3,"Top Stocks"),t.qZA(),t.TgZ(4,"h6",15)(5,"a",56),t._uU(6),t.ALo(7,"titlecase"),t.qZA()()()()),2&a){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("queryParams",t.WLB(5,Dt,e.ticker,e.name)),t.xp6(1),t.AsE(" ",t.lcZ(7,3,e.name),", ( ",e.ticker," ) ")}}function Cn(a,o){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,vn,8,8,"div",49),t.qZA()),2&a){const e=o.index;t.xp6(1),t.Q6J("ngIf",0!=e&&e<5)}}function xn(a,o){1&a&&(t.TgZ(0,"a",58)(1,"label",55)(2,"span"),t._uU(3," more Stocks "),t.qZA()()())}function bn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",31)(1,"mat-expansion-panel-header",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.stocksOverlap=!i.stocksOverlap}),t.TgZ(2,"div",47)(3,"div",9)(4,"h6",10),t._uU(5,"Top Stocks"),t.qZA(),t.TgZ(6,"h6",15)(7,"a",56),t._uU(8),t.ALo(9,"titlecase"),t.qZA()(),t.YNc(10,fn,4,2,"label",36),t.qZA()()(),t.TgZ(11,"div",5),t.YNc(12,Cn,2,1,"div",6),t.YNc(13,xn,4,0,"a",57),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("hideToggle",!1),t.xp6(1),t.Q6J("collapsedHeight","70px")("expandedHeight","70px"),t.xp6(6),t.Q6J("queryParams",t.WLB(11,Dt,e.hardcodedStocks[0].ticker,e.hardcodedStocks[0].name)),t.xp6(1),t.AsE(" ",t.lcZ(9,9,e.hardcodedStocks[0].name),", ( ",e.hardcodedStocks[0].ticker," ) "),t.xp6(2),t.Q6J("ngIf",e.hardcodedStocks.length>1),t.xp6(2),t.Q6J("ngForOf",e.hardcodedStocks),t.xp6(1),t.Q6J("ngIf",e.stocksOverlap)}}let X=(()=>{class a{constructor(e,n,i,r,c,l,d,f,h,u,_){this.youtubeService=e,this.newsService=n,this.dialog=i,this.activatedRoute=r,this.localStorageService=c,this.leadsService=l,this.reportService=d,this.secEdgarService=f,this.sharedInterconenctService=h,this.cpService=u,this.toastr=_,this.moreReports=!1,this.videoStatus=!1,this.fillingOverlap=!1,this.stocksOverlap=!1,this.moreStatus=!1,this.contents=[],this.news=[],this.finalNews=[],this.newStat=!1,this.interConnect=!0,this.reportConnect=!1,this.reportStatus=!1,this.leadsDb=!1,this.reportId="",this.topCompanies=[],this.fillingConnect=[],this.reportConnectData={section:"",data:[]},this.hardCodedReportConnectData={section:"",data:[]},this.leadsArray=[],this.reportName="",this.currentOrder="normalOrder",this.isTopPlayer=!1,this.interConnects=[],this.interConnectsMore=[],this.searchText="",this.moreNewsStatus=!1,this.moreVideosStatus=!1,this.hardCodedFiling=[],this.sectionDetails={Drivers:{main_section:"Market Dynamics",section_name:"Drivers",router_link:"/droctcontainer"},Restraints:{main_section:"Market Dynamics",section_name:"Restraints",router_link:"/droctcontainer"},Opportunities:{main_section:"Market Dynamics",section_name:"Opportunities",router_link:"/droctcontainer"},Challenges:{main_section:"Market Dynamics",section_name:"Challenges",router_link:"/droctcontainer"},Trends:{main_section:"Market Dynamics",section_name:"Trends",router_link:"/droctcontainer"},"Suuply / Value Chain Analysis":{main_section:"Supply/Value Chain Analysis",router_link:"/supply-chain-output"},Porters:{main_section:"Porter's 5 Forces",router_link:"/porters-forces-output"}},this.order={normalOrder:["Drivers","Restraints","Suuply / Value Chain Analysis","Porters","Opportunities","Challenges","Trends"],supplyChainOrder:["Suuply / Value Chain Analysis","Porters","Drivers","Restraints","Opportunities","Challenges","Trends"],porterOrder:["Porters","Suuply / Value Chain Analysis","Drivers","Restraints","Opportunities","Challenges","Trends"]},this.secHardcore=["Johnson & Johnson","Novartis Ag.","Medtronic Plc","Abbott Laboratories"],this.hardCodedCovidContents=[{imgUrl:"https://i.ytimg.com/vi/yrxYhv2O3wU/mqdefault.jpg",videoid:"yrxYhv2O3wU",title:"What coronavirus means for the global economy | Ray Dalio",publishedAt:"2020-04-09T16:16:13Z"},{imgUrl:"https://i.ytimg.com/vi/yFisxvUNfMs/mqdefault.jpg",videoid:"yFisxvUNfMs",title:"Coronavirus outbreak: The economic impact explained",publishedAt:"2020-03-06T11:30:03Z"},{imgUrl:"https://i.ytimg.com/vi/9nrZwjcjS1A/mqdefault.jpg",videoid:"9nrZwjcjS1A",title:"Coronavirus: impact on Global Economy - BBC News",publishedAt:"2020-05-01T11:43:10Z"},{imgUrl:"https://i.ytimg.com/vi/l9ViEIip9q4/mqdefault_live.jpg",videoid:"l9ViEIip9q4",title:"NDTV India LIVE TV - Watch Coronavirus Live Updates | Latest News in Hindi | \u0939\u093f\u0902\u0926\u0940 \u0938\u092e\u093e\u091a\u093e\u0930",publishedAt:"2020-03-02T09:47:22Z"},{imgUrl:"https://i.ytimg.com/vi/WA1Ji-Hj1qo/mqdefault.jpg",videoid:"WA1Ji-Hj1qo",title:"Ray Dalio on the Economic Impact of the Coronavirus Crisis",publishedAt:"2020-04-15T23:10:20Z"}],this.hardcodedStocks=[],this.hardCodedReports={section:"Report",data:[]},this.hardCodedNews=[{title:"Botox and fillers post-Covid-19: How appointments will ...",link:"https://www.harpersbazaar.com/uk/beauty/skincare/a32627354/botox-fillers-post-covid-19/",published:"22-May-2020",text:"Botox and fillers post-Covid-19: How appointments will completely change. An aesthetic doctor explains the future of cosmetic dermatology clinics.",source:"harpersbazaar.com",linkExists:!1},{title:"Thinking about booking in for filler or Botox? Expect a rather ...",link:"https://www.bodyandsoul.com.au/beauty/news-reviews/thinking-about-booking-in-for-filler-or-botox-expect-a-rather-long-waitlist/news-story/88ae8ba22e120102006e98409df321d7",published:"24-May-2020",text:"... next Botox, dermal filler or plastic surgery appointment might look like post-COVID-19. ... But what does it mean for elective areas of health care like cosmetic ... the country, we take a look at how your next appointment will change. ... The patient will be asked to complete the rest of the form and this will be ...",source:"Body and Soul",linkExists:!1},{title:"COVID-19 Impact on Global Biodegradable Dermal Fillers Industry 2020: Market Size, Share, Trends, Applications, SWOT Analysis by Top Key Players, Demand and Forecast Report to 2025 - Jewish Life News",link:"https://jewishlifenews.com/uncategorized/covid-19-impact-on-global-biodegradable-dermal-fillers-industry-2020-market-size-share-trends-applications-swot-analysis-by-top-key-players-demand-and-forecast-report-to-2025/",published:"Mon, 01 Jun 2020 07:44:00 GMT",text:'<a href="https://jewishlifenews.com/uncategorized/covid-19-impact-on-global-biodegradable-dermal-fillers-industry-2020-market-size-share-trends-applications-swot-analysis-by-top-key-players-demand-and-forecast-report-to-2025/" target="_blank">COVID-19 Impact on Global Biodegradable Dermal Fillers Industry 2020: Market Size, Share, Trends, Applications, SWOT Analysis by Top Key Players, Demand and Forecast Report to 2025</a>&nbsp;&nbsp;<font color="#6f6f6f">Jewish Life News</font>',source:"Jewish Life News",img:"CBMi2AFodHRwczovL2pld2lzaGxpZmVuZXdzLmNvbS91bmNhdGVnb3JpemVkL2NvdmlkLTE5LWltcGFjdC1vbi1nbG9iYWwtYmlvZGVncmFkYWJsZS1kZXJtYWwtZmlsbGVycy1pbmR1c3RyeS0yMDIwLW1hcmtldC1zaXplLXNoYXJlLXRyZW5kcy1hcHBsaWNhdGlvbnMtc3dvdC1hbmFseXNpcy1ieS10b3Ata2V5LXBsYXllcnMtZGVtYW5kLWFuZC1mb3JlY2FzdC1yZXBvcnQtdG8tMjAyNS_SAdwBaHR0cHM6Ly9qZXdpc2hsaWZlbmV3cy5jb20vdW5jYXRlZ29yaXplZC9jb3ZpZC0xOS1pbXBhY3Qtb24tZ2xvYmFsLWJpb2RlZ3JhZGFibGUtZGVybWFsLWZpbGxlcnMtaW5kdXN0cnktMjAyMC1tYXJrZXQtc2l6ZS1zaGFyZS10cmVuZHMtYXBwbGljYXRpb25zLXN3b3QtYW5hbHlzaXMtYnktdG9wLWtleS1wbGF5ZXJzLWRlbWFuZC1hbmQtZm9yZWNhc3QtcmVwb3J0LXRvLTIwMjUvYW1wLw",linkExists:!1},{title:"Dermal Fillers and Botulinum Toxin Market Research Global Industry Analysis and Opportunity Assessment (2020-2027) - Cole of Duty",link:"https://coleofduty.com/technology/2020/06/01/dermal-fillers-and-botulinum-toxin-market-research-global-industry-analysis-and-opportunity-assessment-2020-2027/",published:"Mon, 01 Jun 2020 12:09:10 GMT",text:'<a href="https://coleofduty.com/technology/2020/06/01/dermal-fillers-and-botulinum-toxin-market-research-global-industry-analysis-and-opportunity-assessment-2020-2027/" target="_blank">Dermal Fillers and Botulinum Toxin Market Research Global Industry Analysis and Opportunity Assessment (2020-2027)</a>&nbsp;&nbsp;<font color="#6f6f6f">Cole of Duty</font>',source:"Cole of Duty",img:"CBMingFodHRwczovL2NvbGVvZmR1dHkuY29tL3RlY2hub2xvZ3kvMjAyMC8wNi8wMS9kZXJtYWwtZmlsbGVycy1hbmQtYm90dWxpbnVtLXRveGluLW1hcmtldC1yZXNlYXJjaC1nbG9iYWwtaW5kdXN0cnktYW5hbHlzaXMtYW5kLW9wcG9ydHVuaXR5LWFzc2Vzc21lbnQtMjAyMC0yMDI3L9IBAA",linkExists:!1},{title:"Hyaluronic Acid Based Dermal Fillers Market Outlook, Trends Analysis, Top Manufacturers, Shares, Growth Opportunities, Statistics & Forecast to 2026 - Jewish Life News",link:"https://jewishlifenews.com/market-reports/hyaluronic-acid-based-dermal-fillers-market-outlook-trends-analysis-top-manufacturers-shares-growth-opportunities-statistics-forecast-to-2026/",published:"Mon, 01 Jun 2020 16:39:00 GMT",text:'<a href="https://jewishlifenews.com/market-reports/hyaluronic-acid-based-dermal-fillers-market-outlook-trends-analysis-top-manufacturers-shares-growth-opportunities-statistics-forecast-to-2026/" target="_blank">Hyaluronic Acid Based Dermal Fillers Market Outlook, Trends Analysis, Top Manufacturers, Shares, Growth Opportunities, Statistics & Forecast to 2026</a>&nbsp;&nbsp;<font color="#6f6f6f">Jewish Life News</font>',source:"Jewish Life News",img:"CBMiuAFodHRwczovL2pld2lzaGxpZmVuZXdzLmNvbS9tYXJrZXQtcmVwb3J0cy9oeWFsdXJvbmljLWFjaWQtYmFzZWQtZGVybWFsLWZpbGxlcnMtbWFya2V0LW91dGxvb2stdHJlbmRzLWFuYWx5c2lzLXRvcC1tYW51ZmFjdHVyZXJzLXNoYXJlcy1ncm93dGgtb3Bwb3J0dW5pdGllcy1zdGF0aXN0aWNzLWZvcmVjYXN0LXRvLTIwMjYv0gG8AWh0dHBzOi8vamV3aXNobGlmZW5ld3MuY29tL21hcmtldC1yZXBvcnRzL2h5YWx1cm9uaWMtYWNpZC1iYXNlZC1kZXJtYWwtZmlsbGVycy1tYXJrZXQtb3V0bG9vay10cmVuZHMtYW5hbHlzaXMtdG9wLW1hbnVmYWN0dXJlcnMtc2hhcmVzLWdyb3d0aC1vcHBvcnR1bml0aWVzLXN0YXRpc3RpY3MtZm9yZWNhc3QtdG8tMjAyNi9hbXAv",linkExists:!1}],this.hardCodedActionCameraNews=[{title:"What the Best Action Cameras Can Do That Your Phone Can't",link:"https://www.themanual.com/outdoors/the-best-action-cameras/",published:"19-Jun-2020",text:"Bringing its drone and camera expertise to the action camera market, DJI introduced the Osmo Action camera in 2019. Like the Hero8, the ...",source:"The Manual",linkExists:!1},{title:"T3 Awards 2020: GoPro HERO8 Black is king of the action ...",link:"https://www.t3.com/us/news/t3-awards-2020-gopro-hero-8-black-is-king-of-the-action-cameras",published:"08-Jun-2020",text:"GoPro has dominated the action camera market for a while now, and it hasn't let us down with its latest flagship shooter: the GoPro HERO8 ...",source:"T3",linkExists:!1},{title:"[Herald Interview] Linkflow seeks to be Korea's first hardware ...",link:"https://www.theinvestor.co.kr/view.php?ud=20200525000475",published:"25-May-2020",text:"... market not only because Korea takes up only a small segment, 0.8 percent of 1 trillion won ($805 million), of the global action camera market ...",source:"The Investor",linkExists:!1},{title:"Is GoPro Finally a Buy?",link:"https://www.fool.com/investing/2020/06/04/is-gopro-finally-a-buy.aspx",published:"04-Jun-2020",text:"The action camera market will always be a small one, but the company has been right-sized while it was making key changes. James Brumley.",source:"Motley Fool",linkExists:!1},{title:"Forget evil tech or rogue machines, here are the real concerns ...",link:"https://cio.economictimes.indiatimes.com/news/next-gen-technologies/forget-evil-tech-or-rogue-machines-here-are-the-real-concerns-of-ai-adoption/76522411",published:"23-Jun-2020",text:"The adoption of AI is increasing rapidly across the world with no industry remaining ... reasons \u2013 that governmental bodies around the world are taking action.",source:"ETCIO.com",linkExists:!1}],this.hardCodedNewsVerticalGarden=[{title:"Vertical Garden Construction Market 2021: Recent Study including Growth Factors",link:"https://www.mccourier.com/vertical-garden-construction-market-2021-recent-study-including-growth-factors-applications-regional-analysis-key-players-and-forecast-2028/",source:"The Courier",linkExists:!1},{title:"Vertical Garden Construction Market \u2013 Latest Trends",link:"https://thebrockvilleobserver.ca/uncategorized/219543/vertical-garden-construction-market-latest-trends-and-future-growth-analysis-2021-2026/",source:"Brockville Observer",linkExists:!1},{title:"Global Vertical Garden Construction Market-Industry Analysis",link:"https://clarkcountyblog.com/news/1137311/global-vertical-garden-construction-market-industry-analysis-and-forecast-2019-2027-by-type-application-and-region/",source:"Clark County Blog",linkExists:!1}],this.hardCodedNewsZeroEnergy=[{title:"World needs no new oil, gas projects under path to net-zero emissions by 2050",link:"https://www.spglobal.com/platts/en/market-insights/latest-news/natural-gas/051821-world-needs-no-new-oil-gas-projects-under-path-to-net-zero-emissions-by-2050-iea",source:"S&P Global",linkExists:!1},{title:"Deloitte to open new Milan headquarters at Allianz\u2019s Corso Italia 23 campus",link:"https://www.propertyfundsworld.com/2021/05/18/300415/deloitte-open-new-milan-headquarters-allianzs-corso-italia-23-campus",source:"Property Funds World",linkExists:!1},{title:"REELCAUSE Green Hydrogen Energy, Advanced Renewable Energy",link:"https://www.bignewsnetwork.com/news/269506996/reelcause-green-hydrogen-energy-advanced-renewable-energy",source:"Big News Network.com",linkExists:!1},{title:"Why setting net-zero carbon standards is imperative for mitigating climate change",link:"https://gulfbusiness.com/why-setting-net-zero-carbon-standards-is-imperative-for-mitigating-climate-change/",source:"Gulf Business",linkExists:!1},{title:"The future of green building is retrofit",link:"https://www.reminetwork.com/articles/future-green-building-retrofit/",source:"REMI Network",linkExists:!1}],this.hardCodedNewsLaminatedVeneerLumber=[{title:"3 Lumber Stocks to Consider Adding on Dips ",link:"https://www.entrepreneur.com/article/371721",source:"Entrepreneur",linkExists:!1},{title:"Mapping the timber industry boom in 2021",link:"https://www.archpaper.com/2021/04/2021-timber-map/",source:"The Architect's Newspaper",linkExists:!1},{title:"Raute's 1Q net sales increased by 4%",link:"https://www.lesprom.com/en/news/Rautes_1Q_net_sales_increased_by_4_98589/",source:"Lesprom",linkExists:!1},{title:"High lumber prices a boon to Alberta\u2019s forestry industry",link:"https://www.reddeeradvocate.com/news/high-lumber-prices-a-boon-to-albertas-forestry-industry/",source:"Red Deer Advocate",linkExists:!1},{title:"Ignore cynics talking rot, timber apartments are a hit with tenants",link:"https://www.smh.com.au/business/companies/ignore-cynics-talking-rot-timber-apartments-are-a-hit-with-tenants-20210505-p57p32.html",source:"Sydney Morning Herald",linkExists:!1}],this.hardCodedFacialFatTransferNews=[{title:"These Are the Top Plastic Surgery Trends of the Last Decade ...",link:"https://www.newbeauty.com/top-plastic-surgery-trends/",published:"6 days ago",source:"NewBeauty Magazine"},{title:"Could hand rejuvenation treatments be the choice for you?",link:"https://www.longevitylive.com/live-better/hand-rejuvenation-treatments/",published:"1 month ago",source:"Longevity LIVE"},{title:"Dr. Stark Is Taking Liposuction Results To The Next Level With ...",link:"https://hauteliving.com/hautebeauty/639366/dr-stark-is-taking-liposuction-results-to-the-next-level-with-vaser-lipo/",published:"1 week ago",source:"Haute Living"},{title:"These are the beauty treatments replacing cosmetic surgery in 2020",link:"https://www.womanandhome.com/beauty/beauty-news/cosmetic-beauty-trends-2020-ditch-surgery-343639/",published:"Jan 1, 2020",source:"woman&home"},{title:"Medical Director of Amaris B. Clinic Predicts 2020 Cosmetic ...",link:"https://www.biospectrumasia.com/news/54/15296/medical-director-of-amaris-b-clinic-predicts-2020-cosmetic-surgery-trend.html",published:"Jan 22, 2020",source:"BSA bureau"}],this.hardCodedHyaluronicAcid=[{title:"Croma-Pharma GmbH expands its portfolio introducing pure HA",link:"https://www.businesswire.com/news/home/20200715005327/en/Croma-Pharma-GmbH-expands-portfolio-introducing-pure-HA",published:"1 week ago",source:"Business Wire"},{title:"Valensa awarded patent for hyaluronic acid, astaxanthin joint ...",link:"https://www.nutritionaloutlook.com/view/valensa-awarded-patent-for-hyaluronic-acid-astaxanthin-joint-ingredients",published:"1 week ago",source:"Nutritional Outlook"},{title:"Are You Using Hyaluronic Acid Wrong - Hyaluronic Acid Myths ...",link:"https://www.harpersbazaar.com/beauty/skin-care/a31116680/are-you-misusing-hyaluronic-acid/",published:"2 weeks ago",source:"HarpersBAZAAR.com"},{title:"The HydraFacial Company Announces Launch of HydraFacial ...",link:"https://www.prnewswire.com/news-releases/the-hydrafacial-company-announces-launch-of-hydrafacial-connect-platform-301096937.html",published:"1 day ago",source:"PRNewswire"},{title:"AsSeenOnTV.pro and Kevin Harrington's DRTV Campaign ...",link:"https://www.prweb.com/releases/asseenontv_pro_and_kevin_harringtons_drtv_campaign_with_lenogen_by_lenovie/prweb17250950.htm",published:"2 days ago",source:"PR Web"}],this.hardCodedBotulinumToxin=[{title:"(2nd LD) ITC favors Medytox over Daewoong in botulinum toxin strain dispute",link:"https://en.yna.co.kr/view/AEN20200707000252320",published:"2 weeks ago",source:"Yonhap News"},{title:"Croma-Pharma announces submission for their botulinum ...",link:"https://www.businesswire.com/news/home/20200708005060/en/Croma-Pharma-announces-submission-botulinum-toxin-treat-glabellar",published:"2 weeks ago",source:"Business Wire"},{title:"Court rejects Medytox's request not to revoke lic...",link:"http://www.koreabiomed.com/news/articleView.html?idxno=8729",published:"2 weeks ago",source:"Korea Biomedical Review"},{title:"[News Focus] Who will win BTX strain dispute \u2013 Daewoong or Medytox?",link:"http://www.koreabiomed.com/news/articleView.html?idxno=8676",published:"2 weeks ago",source:"Korea Biomedical Review"},{title:"Yonhap News Summary",link:"https://en.yna.co.kr/view/AEN20200707005800320",published:"2 days ago",source:"Yonhap News"}],this.hardCodedWaterPurifier=[{title:"Onsitego collaborates with DuPont to launch maintenance services for water purifiers",link:"http://www.businessworld.in/article/Onsitego-collaborates-with-DuPont-to-launch-maintenance-services-for-water-purifiers/27-07-2020-301884/",published:"4 days ago",source:"BW Businessworld"},{title:"instrAction Names Florian Rohde as Managing Director and Chief Technical Officer",link:"https://www.globenewswire.com/news-release/2020/07/09/2059669/0/en/instrAction-Names-Florian-Rohde-as-Managing-Director-and-Chief-Technical-Officer.html",published:"3 weeks ago",source:"GlobeNewswire"},{title:"Interview with Sudish Panicker, MD and Head, BNY Mellon International Operations (India)",link:"https://indiacsr.in/interview-with-sudish-panicker-md-and-head-bny-mellon-international-operations-india/",published:"4 hours ago",source:"IndiaCSR"},{title:"Major role for wastewater epidemiology in tackling Covid-19, says group",link:"https://envirotecmagazine.com/2020/07/30/major-role-for-wastewater-epidemiology-in-tackling-covid-19-says-group/",published:"1 day ago",source:"Envirotec"},{title:"New solar material could clean drinking water",link:"https://www.eurekalert.org/pub_releases/2020-07/uarl-nsm071320.php",published:"2 weeks ago",source:"EurekAlert"}],this.hardCodedWearableAmbulatory=[{title:"Bardy Diagnostics names new CEO",link:"https://www.massdevice.com/bardy-diagnostics-names-new-ceo/",source:"Mass Device"},{title:"5 Lesser-Known Growth Stocks Rated 'Strong Buy'",link:"https://stocknews.com/news/irtc-stag-ramp-iipr-yext-5-lesser-known-growth-stocks-rated-strong-buy/",source:"StockNews.com"},{title:"This telemedicine system could get medtech sales reps back to ORs",link:"https://www.massdevice.com/this-telemedicine-system-could-get-medtech-sales-reps-back-to-ors/",source:"Mass Device"},{title:"Ascom UMS Selected Oxitone Medical as a Wearable Solution ...",link:"https://www.prnewswire.com/il/news-releases/ascom-ums-selected-oxitone-medical-as-a-wearable-solution-for-continuous-remote-monitoring-of-covid-19-patients-301086121.html",source:"PRNewswire"},{title:"Radar-Based Blood Pressure Sensors on the Way",link:"https://www.eetimes.com/radar-based-blood-pressure-sensors-on-the-way/",source:"EE Times"}],this.hardCodedCovidTestingKit=[{title:"Should You 'Buy the Dip' in Abbott Laboratories?",link:"https://stocknews.com/news/abt-should-you-buy-the-dip-in-abbott-laboratories/",source:"StockNews.com"},{title:"Are These DIY Gargling COVID-19 Test Kits the Answer to the Safe Return of Live Events?",link:"https://edm.com/news/testfrwd-diy-gargling-covid-19-test-kits",source:"EDM.com"},{title:"COVID-19 test kit for live events created by Austrian start-up",link:"https://djmag.com/news/covid-19-test-kit-live-events-created-austrian-start",source:"DJ Mag"},{title:"Rapid antigen tests are cheaper & give quick results but RT-PCR tests are more reliable, say scientists",link:"https://health.economictimes.indiatimes.com/news/medical-devices/rapid-antigen-tests-are-cheaper-give-quick-results-but-rt-pcr-tests-are-more-reliable-say-scientists/78106436",source:"ETHealthworld.com"},{title:"The rise of the COVID-19 test kit market",link:"https://www.healthcareglobal.com/medical-devices-and-pharma/rise-covid-19-test-kit-market",source:"Healthcare Global - Healthcare News, Magazine and Website"}],this.hardCodedPetroleumPitch=[{title:"Tesla's stock loses charge after Musk's battery pitch",link:"https://in.reuters.com/article/us-tesla-stocks/teslas-stock-loses-charge-after-musks-battery-pitch-idINKCN26E1WL",source:"Reuters India"},{title:"Coronavirus crisis gives oil exporters a crash course in energy transition",link:"https://www.arabnews.com/node/1736591/business-economy",source:"Arab News"},{title:"Proactive Investors One2One Investor Forum",link:"https://www.proactiveinvestors.com/register/event_details/294",source:"Proactive Investors USA & Canada"},{title:"Brett Icahn to Rejoin His Father\u2019s Firm",link:"https://www.wsj.com/articles/brett-icahn-poised-to-rejoin-his-fathers-firm-11601499938",source:"Wall Street Journal"},{title:"Stocks end higher on bargain hunting",link:"https://mb.com.ph/2020/09/11/stocks-end-higher-on-bargain-hunting/",source:"Manila Bulletin"}],this.hardCodedEuropeZincChemicals=[{title:"Trafigura builds stake in battery Ni future",link:"https://www.amm.com/Article/3955536/Trafigura-builds-stake-in-Europes-battery-Ni-future.html",source:"American Metal Market"},{title:"Firms sign agreement to develop zinc-air ESS market in India",link:"https://www.bestmag.co.uk/indnews/firms-sign-agreement-develop-zinc-air-ess-market-india",source:"bestmag"},{title:"A US$ 500 million giant merger in the field of PVC stabilizers ...",link:"https://www.oaoa.com/news/business/a-us-500-million-giant-merger-in-the-field-of-pvc-stabilizers-oyak-merged-akdeniz/article_ae1586f9-101a-54be-904b-5233735e31af.html",source:"Odessa American"},{title:"The place of Europe in the new plant breeding landscape ...",link:"https://www.europeanscientist.com/en/features/the-place-of-europe-in-the-new-plant-breeding-landscape-evolution-of-field-trials/",source:"The European Scientist"},{title:"The EU\u2019s Farm-2-Fork and Green Deal ...",link:"https://www.europeanscientist.com/en/agriculture/the-eus-farm-2-fork-and-green-deal-are-they-more-than-happy-talk/",source:"The European Scientist"}],this.hardCodedAcneTreatment=[{title:"How Does Clindamycin for Acne Work?",link:"https://www.healthline.com/health/clindamycin-for-acne",source:"Healthline"},{title:"First officially registered Acne patch by DermaAngel makes ...",link:"https://www.prnewswire.com/in/news-releases/first-officially-registered-acne-patch-by-dermaangel-makes-foray-into-the-indian-market-847831399.html",source:"PR Newswire India"},{title:"Albany Molecular Research Inc. (AMRI) Named Exclusive API ...",link:"https://www.marketscreener.com/news/latest/Albany-Molecular-Research-Inc-AMRI-Named-Exclusive-API-Supplier-for-Recently-Approved-Acne-Treatm--31652352/",source:"marketscreener.com"},{title:"The 5 Best Face Washes For Cystic Acne",link:"https://www.elitedaily.com/p/the-5-best-face-washes-for-cystic-acne-39555468",source:"Elite Daily"},{title:"Maskne Is Real \u2014 Here\u2019s How To Deal",link:"https://www.refinery29.com/en-us/2020/10/10136549/maskne-treatment",source:"Refinery29"}],this.hardCodedBronze=[{title:"Sri Lanka- Empty bullets, shells to be used as",link:"https://menafn.com/1101060904/Sri-Lanka-Empty-bullets-shells-to-be-used-as-raw-material-for-traditional-industries",source:"MENAFN.COM"},{title:"How Rosie Assoulin and Five Other Designers Created a...",link:"https://www.elle.com/fashion/a34349398/how-rosie-assoulin-and-five-other-designers-created-a-collection-using-upcycled-car-parts/",source:"ELLE.com"},{title:"Putting waste to good use: govt to reuse discarded railway...",link:"http://www.adaderana.lk/news/68748/putting-waste-to-good-use-govt-to-reuse-discarded-railway-sleepers-empty-shell-cases-and-other-material",source:"adaderana.lk"},{title:"Stainless Steel, Bronze, Brass, or Aluminum: How to Choose Handle Materials",link:"https://www.archdaily.com/929360/stainless-steel-bronze-brass-or-aluminum-how-to-choose-handle-materials",source:"ArchDaily"},{title:"Toppan Receives Bronze Class SAM Sustainability Award for 2nd Year",link:"https://www.printedelectronicsnow.com/contents/view_breaking-news/2020-02-10/toppan-receives-bronze-class-sam-sustainability-award-for-2nd-year/",source:"Printed Electronics Now Magazine"}],this.hardCodedBrass=[{title:"Analysis: Interpretation of the Development Plan for the New Energy Vehicle Industry",link:"https://news.metal.com/newscontent/101305330/analysis-interpretation-of-the-development-plan-for-the-new-energy-vehicle-industry",source:"SMM - Shanghai Metals Market"},{title:"Non-ferrous scrap exporters hesitant to ship to China",link:"https://www.argusmedia.com/en/news/2153113-nonferrous-scrap-exporters-hesitant-to-ship-to-china",source:"Argus Media"},{title:"UP's Ghunghroo Industry Sees Revival With Strong...",link:"https://swarajyamag.com/insta/ups-ghunghroo-industry-sees-revival-with-strong-export-demand-following-yogi-govts-scheme-for-artisans",source:"Swarajya"},{title:"Shimmering bells of Etah to shine globally",link:"http://www.millenniumpost.in/business/shimmering-bells-of-etah-to-shine-globally-422160",source:"Millennium Post"},{title:"China to allow imports of new-standard scrap metal from Nov. 1",link:"https://www.zawya.com/mena/en/markets/story/China_to_allow_imports_of_newstandard_scrap_metal_from_Nov_1-TR20201019nL4N2HA2XSX1/",source:"ZAWYA"}],this.hardCodedFertilityServices=[{title:"The Challenges of Commercializing Fertility",link:"https://hbswk.hbs.edu/item/the-challenges-of-commercializing-fertility",source:"Harvard Business School Working Knowledge"},{title:"Inception Fertility Announces Appointment of Nicole R. Braley...",link:"https://www.prnewswire.com/news-releases/inception-fertility-announces-appointment-of-nicole-r-braley-as-chief-marketing-officer-301167281.html",source:"PRNewswire"},{title:"INVO Bioscience Announces Pricing of Follow-on Public...",link:"https://www.prnewswire.com/news-releases/invo-bioscience-announces-pricing-of-follow-on-public-offering-and-listing-on-the-nasdaq-capital-market-301172506.html",source:"PRNewswire"},{title:"The most effective fertility supplements",link:"https://www.nutritionaloutlook.com/view/the-most-effective-fertility-supplements",source:"Nutritional Outlook"},{title:"Advanced Fertility Center of Chicago Welcomes Reproductive...",link:"https://www.prnewswire.com/news-releases/advanced-fertility-center-of-chicago-welcomes-reproductive-endocrinologist-dr-debra-schell-301158406.html",source:"PRNewswire"}],this.hardCodedNewsIndustrialRobotics=[{title:"North America robot sales see double-digit growth\n ",link:"https://www.todaysmedicaldevelopments.com/article/robot-sales-north-america-2022/ ",source:"Todays Medical Developments",linkExists:!1},{title:"Global robot sales bounce back to hit record highs ",link:"https://drivesncontrols.com/news/fullstory.php/aid/7072/Global_robot_sales_bounce_back_to_hit_record_highs.html ",source:"Drivesn controls",linkExists:!1},{title:"Robot Sales Surge in Europe, Asia and the Americas \u2013 IFR Reports ",link:"hhttps://www.businesswire.com/news/home/20220621005720/en/Robot-Sales-Surge-in-Europe-Asia-and-the-Americas-%E2%80%93-IFR-Reports ",source:"Business wire",linkExists:!1}],this.hardCodedNewsNextGenerationSequencing=[{title:"How Next-Generation Sequencing Can Help Us In The War Against Cancer ",link:"https://www.forbes.com/sites/forbestechcouncil/2022/06/24/how-next-generation-sequencing-can-help-us-in-the-war-against-cancer/ ",source:"Forbes",linkExists:!1},{title:"MGI to Take Another Crack at US Next-Gen Sequencing Market This Summer",link:"https://www.genomeweb.com/sequencing/mgi-take-another-crack-us-next-gen-sequencing-market-summer  ",source:"Genomweb",linkExists:!1},{title:"Merck illumina Launch Research Test To Unlock Deeper Insights Into Tumor Genome ",link:"https://medicaldialogues.in/news/industry/pharma/merck-illumina-launch-research-test-to-unlock-deeper-insights-into-tumor-genome-94984  ",source:"Medical Dialogues",linkExists:!1}],this.flag=1}ngOnInit(){if(window.scroll(0,0),"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType)if(this.activatedRoute.snapshot.queryParams.reportId)this.reportService.getById(this.activatedRoute.snapshot.queryParams.reportId).subscribe(e=>{if(e){this.localStorageService.set(O.cc.CURRENT_REPORT,{_id:e._id,title:e.title,category:e.category,vertical:e.vertical,cp:e.cp,me:{start_year:e.me.start_year,end_year:e.me.end_year,base_year:e.me.base_year},overlaps:e.overlaps,owner:e.owner,tocList:e.tocList,status:e.status,title_prefix:e.title_prefix,youtubeContents:e.youtubeContents}),this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.process();const i=P.indexOf(ot.a.reportIds,this.activatedRoute.snapshot.queryParams.reportId);i>-1?(this.leadsArray=ot.a.hardCodedLeads[i],this.hardcodedStocks=ot.a.hardCodedStocks[i],this.hardCodedFiling=ot.a.hardCodedFilings[i]):(this.getLeadsStocksFilings(P.flatMap(e.cp,"company_id")),this.localStorageService.set(O.cc.CURRENT_CP_IDS,P.flatMap(e.cp,"company_id")))}});else if(this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType){this.process();const e=P.indexOf(ot.a.reportIds,this.currentReport._id);e>-1?(this.leadsArray=ot.a.hardCodedLeads[e],this.hardcodedStocks=ot.a.hardCodedStocks[e],this.hardCodedFiling=ot.a.hardCodedFilings[e]):(this.cps=this.localStorageService.get(O.cc.CURRENT_CP_IDS),this.getLeadsStocksFilings(this.cps))}}getNewsVideos(e){this.finalNews=[],this.news=[],this.youtubeContents=[],e?"Corona Economy"==e?(this.hardCodedCovidContents.forEach(n=>{this.youtubeContents.push(n)}),this.getNewsAndVideos("Corona Economy",[])):(this.getVideos(e+" industry"),this.getNewsAndVideos(e+" industry",[])):(this.hardCodedCovidContents.forEach(n=>{this.youtubeContents.push(n)}),this.getNewsAndVideos("Corona Economy",[]))}process(){if(this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.currentReport&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType){if(this.reportId=this.currentReport._id,this.reportName=this.currentReport.title,this.overlaps=this.currentReport.overlaps?this.currentReport.overlaps:[],this.youtubeContents=this.currentReport.youtubeContents?this.currentReport.youtubeContents:[],this.cp=this.localStorageService.get(O.cc.CP),this.reportId==this.sharedInterconenctService.reportId)this.reportConnectData=this.sharedInterconenctService.reportConnectData,this.fillingConnect=this.sharedInterconenctService.fillingConnect,this.finalNews=this.sharedInterconenctService.finalNews;else{if(this.currentReport.overlaps){const e=this.overlaps.filter(n=>"Report"==n.section_name);if(e.length){const n={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){n.section=e[0].section_name;for(let i=0;i<e[0].data.length;i++)n.data.push(e[0].data[i])}this.reportConnectData=n,this.sharedInterconenctService.reportConnectData=this.reportConnectData}}this.getNewsAndVideos(this.reportName+" industry",[]),this.sharedInterconenctService.reportId=this.reportId}if(!this.isTopPlayer&&this.overlaps&&this.overlaps.length){const e={};this.overlaps.forEach(n=>{const i=[];if(n.data&&n.data.length)for(let r=0;r<2;r++)i.push(n.data[r]);e[n.section_name]=i}),this.interConnectData=e,this.sharedInterconenctService.interConnectData=this.interConnectData,this.orderInterConnects(this.currentOrder)}}}ngOnChanges(e){this.suggestion=e.suggestion.currentValue;const n=this.suggestion.orderType;"topPlayers"==n?this.isTopPlayer=!0:this.currentOrder="supplychain"==n?"supplyChainOrder":"porter"==n?"porterOrder":"normalOrder",this.sharedInterconenctService.sharedText.subscribe(i=>{this.searchText=i,("covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType)&&("newsVideos"==this.suggestion.orderType&&(this.hardCodedReportConnectData={section:"",data:[]},"Corona Economy"!=this.searchText&&(this.hardCodedReportConnectData=this.hardCodedReports)),this.getNewsVideos(this.searchText))})}getNewsAndVideos(e,n){"5e2ada2735e3250004e27b14"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedFacialFatTransferNews,this.sharedInterconenctService.finalNews=this.finalNews):"5e8455141591300004822f09"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedHyaluronicAcid,this.sharedInterconenctService.finalNews=this.finalNews):"5eb543c36e66720004958fe0"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedActionCameraNews,this.sharedInterconenctService.finalNews=this.finalNews):"5f02f5589be6f35140188cb3"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedBotulinumToxin,this.sharedInterconenctService.finalNews=this.finalNews):"5f22b1f843abd91218d1d533"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedWaterPurifier,this.sharedInterconenctService.finalNews=this.finalNews):"5e86cb182af83b0004733a74"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedWearableAmbulatory,this.sharedInterconenctService.finalNews=this.finalNews):"5f636e6394ef4c5219ac9cd1"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedCovidTestingKit,this.sharedInterconenctService.finalNews=this.finalNews):"5e212fdd7d97af0004f1dada"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedPetroleumPitch,this.sharedInterconenctService.finalNews=this.finalNews):"5f8432da2502900fe65a2953"!=this.reportId&&"5f8d25a7de8a618a3f0abb21"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5f97e2804b4e9c1a04010937"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedAcneTreatment,this.sharedInterconenctService.finalNews=this.finalNews):"5f9fe2bed5f1cc58807dcc0e"!=this.reportId&&"5fa157964fc5c58d57921c17"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5f9bf4f9d5f1cc58807dc82e"!=this.reportId&&"5fa021761bc9973c681dd60f"!=this.reportId||"covid"==this.suggestion.orderType||"newsVideos"==this.suggestion.orderType?"5e20382d7bd47f0004269ed0"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedFertilityServices,this.sharedInterconenctService.finalNews=this.finalNews):"5e98947ef6ba090004d9a844"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsVerticalGarden,this.sharedInterconenctService.finalNews=this.finalNews):"5e9f1075f2792f00046ee8f7"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsZeroEnergy,this.sharedInterconenctService.finalNews=this.finalNews):"5e79ebcb6d7f240004e4eafe"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsLaminatedVeneerLumber,this.sharedInterconenctService.finalNews=this.finalNews):"62b085714332013719059102"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsIndustrialRobotics,this.sharedInterconenctService.finalNews=this.finalNews):"62b30bd943320137190591c1"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?(this.finalNews=this.hardCodedNewsNextGenerationSequencing,this.sharedInterconenctService.finalNews=this.finalNews):e&&(this.news=[],"5e29b4258fb7610004367a42"==this.reportId&&"covid"!=this.suggestion.orderType&&"newsVideos"!=this.suggestion.orderType?this.finalNews=this.hardCodedNews:this.newsService.getAll(e,0).subscribe(i=>{this.news.push(i),this.getNewsData(this.news)})):(this.finalNews=this.hardCodedBronze,this.sharedInterconenctService.finalNews=this.finalNews):(this.finalNews=this.hardCodedBrass,this.sharedInterconenctService.finalNews=this.finalNews):(this.finalNews=this.hardCodedEuropeZincChemicals,this.sharedInterconenctService.finalNews=this.finalNews)}getVideos(e){this.contents=[],this.youtubeService.getAll(e.toLowerCase()).subscribe(n=>{n&&n.items.length&&n.items.forEach(i=>{this.contents.push({imgUrl:i.snippet&&i.snippet.thumbnails&&i.snippet.thumbnails.medium&&i.snippet.thumbnails.medium.url?i.snippet.thumbnails.medium.url:"",videoid:i.id&&i.id.videoId?i.id.videoId:"",title:i.snippet&&i.snippet.title?i.snippet.title:"",publishedAt:i.snippet&&i.snippet.publishedAt?i.snippet.publishedAt:""})})}),this.youtubeContents=this.contents}getVideoData(e){if(this.contents=[],e&&e.length){const n=Math.ceil(5/e.length);e.forEach(i=>{i.items.forEach((r,c)=>{c<n&&this.contents.push(r)})}),this.sharedInterconenctService.contents=this.contents}}getNewsData(e){if(this.finalNews=[],e&&e.length){const n=Math.ceil(5/e.length);e.forEach(i=>{i.forEach((r,c)=>{c<n&&this.finalNews.push(r)})}),this.sharedInterconenctService.finalNews=this.finalNews}}openYtDailog(e){this.dialog.open(Ht.L,{width:"650px",height:"350px",data:{url:e},disableClose:!1})}getTopLeadsCompany(e){this.leadsArray=[],e&&e.length&&this.leadsService.getTopLeadsCp(e,this.currentReport.vertical).then(n=>{n&&n.data&&(this.leadsArray=n.data)}).catch(n=>{})}orderInterConnects(e){const n=this.order[e];this.interConnects=[],n.length&&n.forEach(i=>{const r=this.interConnectData[i];if(r&&r.length&&r[0]){const c={report_id:r[0].report_id,report_name:r[0].report_name,main_section:this.sectionDetails[i].main_section,router_link:this.sectionDetails[i].router_link,section:void 0};this.sectionDetails[i].section_name&&(c.section=this.sectionDetails[i].section_name),this.interConnects.push(c)}if(r&&r.length>1&&r[1]){const c={report_id:r[1].report_id,report_name:r[1].report_name,main_section:this.sectionDetails[i].main_section,router_link:this.sectionDetails[i].router_link,section:void 0};this.sectionDetails[i].section_name&&(c.section=this.sectionDetails[i].section_name),this.interConnectsMore.push(c)}})}getLeadsStocksFilings(e){this.localInterConnects=this.localStorageService.get(O.cc.CURRENT_INTERCONNECTS),this.localInterConnects&&this.localInterConnects.reportId==this.currentReport._id?this.processInterConnectData(this.localInterConnects.data):this.cpService.getInterconnects({cps:e}).subscribe(n=>{n&&n.length&&(this.processInterConnectData(n),this.localStorageService.set(O.cc.CURRENT_INTERCONNECTS,{reportId:this.currentReport._id,data:n}))},n=>{console.log(n)})}processInterConnectData(e){this.hardcodedStocks=[],this.hardCodedFiling=[],this.leadsArray=[];const n=P.compact(P.flatMap(P.flatMap(e,"inter_connect"),"leads"));n.length&&n.forEach(i=>{this.leadsArray.push(i.split(",   ")[0])}),this.hardcodedStocks=P.remove(P.compact(P.flatMap(P.flatMap(e,"inter_connect"),"stocks")),i=>{if(""!=i.name&&""!=i.ticker)return i}),this.hardCodedFiling=P.compact(P.flatMap(P.flatMap(e,"inter_connect"),"filings"))}showMessage(){this.toastr.info("This report is not a part of current subscription.","Message")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Jt.F),t.Y36(zt.I),t.Y36(S.uw),t.Y36(T.gz),t.Y36(Z.n),t.Y36(Qt.C),t.Y36(L.r),t.Y36(kt.M),t.Y36(Gt.t),t.Y36(ut.t),t.Y36(_t._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-hardcoded-suggestions"]],inputs:{suggestion:"suggestion"},features:[t.TTD],decls:13,vars:10,consts:[["displayMode","flat","multi","true"],[1,"sug-head"],[4,"ngIf"],[3,"hideToggle",4,"ngIf"],[1,"bottom-line"],[1,"bgs"],["class","row col margin-one zero-padding bottom-line",4,"ngFor","ngForOf"],[1,"row","col","margin-one","zero-padding","bottom-line"],[1,"header-card"],[1,"widther"],[1,"dataOverlap"],[3,"routerLink","queryParams",4,"ngIf"],[3,"click",4,"ngIf"],["class","header-card",4,"ngIf"],[3,"routerLink","queryParams"],[1,"sectionName"],[1,"reportName"],[3,"click"],[1,"btns",3,"click"],["routerLink","/chart-results",3,"queryParams",4,"ngIf"],["routerLink","/top-bar-cp"],[1,"btns"],["routerLink","/chart-results",3,"queryParams"],["target","_blank",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",3,"routerLink","queryParams"],["class","row col margin-one zero-padding",4,"ngFor","ngForOf"],[1,"row","col","margin-one","zero-padding"],["class","row col margin-one zero-padding bottom-line",4,"ngIf"],["routerLink","/market-estimation","target","_blank",3,"queryParams",4,"ngIf"],["routerLink","/market-estimation","target","_blank",3,"queryParams"],["routerLink","/market-estimation",3,"queryParams"],[3,"hideToggle"],[1,"bottom-line",3,"collapsedHeight","expandedHeight","click"],["class","blue-block white-bg",3,"click",4,"ngIf"],[1,"sectionName","video-section",3,"title","click"],[1,"span"],["class","btns",4,"ngIf"],[1,"blue-block","white-bg",3,"click"],[1,"dataOverlap","padding-left-10"],[1,"suggestion-img",3,"src"],["class","header-card bottom-line",4,"ngIf"],[1,"header-card","bottom-line"],["routerLink","/output-chart/youtube",3,"queryParams"],[1,"sectionName",3,"title"],["target","_blank",3,"href"],["routerLink","/output-chart/api-search",3,"queryParams",4,"ngIf"],["routerLink","/output-chart/api-search",3,"queryParams"],[1,"header-card","blue-flex"],[3,"routerLink"],["class","header-card blue-flex",4,"ngIf"],["routerLink","/output-chart/leads-db",3,"queryParams"],[3,"collapsedHeight","expandedHeight","click"],["routerLink","/output-chart/sec-edgar",3,"queryParams"],["class","header-card","routerLink","/output-chart/sec-edgar",3,"queryParams",4,"ngIf"],["routerLink","/output-chart/sec-edgar",1,"header-card",3,"queryParams"],[1,"btns","btn-margin-left"],["routerLink","/stocks",3,"queryParams"],["class","header-card","routerLink","/stocks",4,"ngIf"],["routerLink","/stocks",1,"header-card"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-accordion",0)(1,"div",1),t._uU(2,"Suggested Interconnects"),t.qZA(),t.YNc(3,ue,5,3,"div",2),t.YNc(4,ye,3,1,"div",2),t.YNc(5,Oe,3,1,"div",2),t.YNc(6,Ie,15,16,"mat-expansion-panel",3),t.YNc(7,Fe,17,15,"mat-expansion-panel",3),t.YNc(8,Ve,2,1,"div",2),t.YNc(9,Xe,2,1,"div",2),t.YNc(10,rn,16,10,"mat-expansion-panel",3),t.YNc(11,mn,14,12,"mat-expansion-panel",3),t.YNc(12,bn,14,14,"mat-expansion-panel",3),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",n.interConnects&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.reportConnectData&&(null==n.reportConnectData?null:n.reportConnectData.data.length)&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardCodedReportConnectData&&(null==n.hardCodedReportConnectData?null:n.hardCodedReportConnectData.data.length)&&"newsVideos"==n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.youtubeContents&&n.youtubeContents.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.finalNews.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.youtubeContents&&n.youtubeContents.length&&("covid"==n.suggestion.orderType||"newsVideos"==n.suggestion.orderType)),t.xp6(1),t.Q6J("ngIf",n.finalNews.length&&("covid"==n.suggestion.orderType||"newsVideos"==n.suggestion.orderType)),t.xp6(1),t.Q6J("ngIf",n.leadsArray.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardCodedFiling.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType),t.xp6(1),t.Q6J("ngIf",n.hardcodedStocks.length&&"covid"!=n.suggestion.orderType&&"newsVideos"!=n.suggestion.orderType))},directives:[ft.pp,M.O5,M.sg,T.yS,ft.ib,ft.yz],pipes:[M.rS,M.OU,M.uU],styles:[".header-card[_ngcontent-%COMP%]{display:flex}.header-card[_ngcontent-%COMP%]   .suggestion-img[_ngcontent-%COMP%]{width:120px;height:70px;padding-left:10px}.header-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;padding-top:3px}.header-card[_ngcontent-%COMP%]   .span[_ngcontent-%COMP%]{font-size:10px;color:#333;line-height:1.2}.header-card[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{font-size:9px;border:none;color:#00f;background:rgba(0,0,0,.1);cursor:pointer}.header-card[_ngcontent-%COMP%]   .pads[_ngcontent-%COMP%]{padding:5px;cursor:pointer}  .mat-expansion-panel-header{padding:0 4px!important}  .col,   .col-3,   hr{margin:0!important;padding:0 10px 0 0!important}  .mat-expansion-panel-body{padding:0 4px!important}  .mat-expansion-panel{box-shadow:none!important;background:transparent}.sug-head[_ngcontent-%COMP%]{font-size:14px;font-weight:500;padding:0 0 5px 5px}.blue-block[_ngcontent-%COMP%]{height:80px;background-color:#2b5498;color:#fff;font-weight:500;padding:10px;font-size:12px;margin:5px 0}.widther[_ngcontent-%COMP%]{padding-left:10px;margin:5px 0}.blue-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.white-bg[_ngcontent-%COMP%]{background-color:transparent;padding:0}.reportName[_ngcontent-%COMP%]{font-size:10px;color:#4c4c4c}.sectionName[_ngcontent-%COMP%]{font-size:13px}.dataOverlap[_ngcontent-%COMP%]{font-size:11px;color:#000000de}.video-section[_ngcontent-%COMP%]{color:#4087ff;cursor:pointer;padding-top:14px!important}.bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.3)}.padding-left-10[_ngcontent-%COMP%]{padding-left:10px}a[_ngcontent-%COMP%]{color:#2b5498!important}a[_ngcontent-%COMP%]:hover{color:#007bff!important}.btn-margin-left[_ngcontent-%COMP%]{margin-left:10px}"]}),a})();const wn=["screenPie"],yn=["screenBar"],Mn=["screenImg"],On=["canvas"],Pn=["downloadLink"];function Tn(a,o){if(1&a&&(t.TgZ(0,"div",16),t._UZ(1,"div",17),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function kn(a,o){if(1&a&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Sn(a,o){if(1&a&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Dn(a,o){1&a&&(t.ynx(0,26),t.YNc(1,kn,2,1,"th",27),t.YNc(2,Sn,2,1,"td",28),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function An(a,o){1&a&&t._UZ(0,"tr",31)}function Zn(a,o){1&a&&t._UZ(0,"tr",32)}function Rn(a,o){if(1&a&&(t.TgZ(0,"div",18)(1,"p",19)(2,"span",20),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",21),t.YNc(6,Dn,3,1,"ng-container",22),t.YNc(7,An,1,0,"tr",23),t.YNc(8,Zn,1,0,"tr",24),t.qZA(),t.TgZ(9,"p",25)(10,"span",20),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function En(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function Nn(a,o){if(1&a&&t._UZ(0,"img",42),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function In(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i)}),t.qZA(),t.YNc(4,En,1,0,"i",36),t.qZA()(),t.TgZ(5,"div",37,38)(7,"p",19)(8,"span",20),t._uU(9,"Title\xa0:\xa0"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"div",39),t.YNc(12,Nn,1,1,"img",40),t.qZA(),t.TgZ(13,"p",25)(14,"span",20),t._uU(15,"Source\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(4),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Ln(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function Un(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i)}),t.qZA(),t.TgZ(4,"i",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(5,Ln,1,0,"i",36),t.qZA()(),t.TgZ(6,"div",37,44)(8,"p",19)(9,"span",20),t._uU(10,"Title\xa0:\xa0"),t.qZA(),t._uU(11),t.qZA(),t._UZ(12,"canvas",45),t.TgZ(13,"p",25)(14,"span",20),t._uU(15,"Source\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(5),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Yn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function qn(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33)(2,"div",34)(3,"i",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i)}),t.qZA(),t.TgZ(4,"i",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(5,Yn,1,0,"i",36),t.qZA()(),t.TgZ(6,"div",46,47)(8,"p",19)(9,"span",20),t._uU(10,"Title\xa0:\xa0"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"div",48)(13,"p",49),t._uU(14),t.qZA(),t._UZ(15,"canvas",50),t.qZA(),t.TgZ(16,"p",19),t._uU(17),t.qZA(),t.TgZ(18,"p",25)(19,"span",20),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(5),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Hn(a,o){if(1&a&&(t.TgZ(0,"div",12),t.ynx(1,13),t.YNc(2,Tn,2,1,"div",14),t.YNc(3,Rn,13,6,"div",15),t.YNc(4,In,17,4,"div",15),t.YNc(5,Un,17,10,"div",15),t.YNc(6,qn,22,11,"div",15),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const Jn=function(){return{orderType:"driver"}};let ct=(()=>{class a{constructor(e,n,i,r){this.dialog=e,this.authService=n,this.localStorageService=i,this.excelDownloadService=r,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){if(this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.permissions=this.authService.getUserPermissions(),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;const e=this.overlaps.filter(i=>"Drivers"==i.section_name);if(e.length){const i={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){i.section=e[0].section_name;for(let r=0;r<e[0].data.length&&r<2;r++)i.data.push(e[0].data[r])}this.interConnectData=i}const n=this.overlaps.filter(i=>"Report"==i.section_name);if(n.length){const i={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){i.section=n[0].section_name;for(let r=0;r<n[0].data.length&&r<2;r++)i.data.push(n[0].data[r])}this.reportConnectData=i}}window.scroll(0,0)}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}ngAfterViewInit(){}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(A.e),t.Y36(Z.n),t.Y36(it.O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-secondary-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(wn,5),t.Gf(yn,5),t.Gf(Mn,5),t.Gf(On,5),t.Gf(Pn,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},inputs:{secondaryOutputModel:"secondaryOutputModel"},decls:17,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid content-p",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"container-fluid","content-p"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption",2,"margin-top","15px !important"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"float-l-width","header-background"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,Hn,7,6,"div",6),t.qZA()(),t._UZ(9,"div"),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(12,"div",9),t._UZ(13,"img",null,10)(15,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("",null==n.secondaryOutputModel?null:n.secondaryOutputModel.heading,", ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.reportName," Market [",null==n.secondaryOutputModel?null:n.secondaryOutputModel.startYear," - ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.endYear,"] "),t.xp6(2),t.Q6J("ngForOf",null==n.secondaryOutputModel?null:n.secondaryOutputModel.mainData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,Jn)))},directives:[M.sg,M.RF,M.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,M.O5,W.jh,X],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:16px!important;text-align:justify}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;font-size:16px!important}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin-bottom:15px}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:20px;width:100%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding:15px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]     p{margin-bottom:15px!important;font-size:16px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}  .Bullet span:first-child{display:none}"]}),a})();const zn=["screenPie"],Qn=["screenBar"],Gn=["screenImg"],Fn=["canvas"],jn=["downloadLink"];let Bn=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.reportService=i,this.authService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.spinner.show()}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"EXECUTIVE_SUMMARY").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{console.log("error",n)})}generateImage(e){this.permissions.imageExport?"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()}):this.authService.showNotSubscribedMsg()}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e[0]&&e[0].content?(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(e[0].content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Executive Summary"},e.forEach(n=>{"EXECUTIVE SUMMARY"===n.section_name&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Executive Summary"})}),this.emptyList.push(e[0]),this.emptyList=P.uniq(this.emptyList),this.emptyList=P.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(L.r),t.Y36(A.e),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-executive-summary"]],viewQuery:function(e,n){if(1&e&&(t.Gf(zn,5),t.Gf(Qn,5),t.Gf(Gn,5),t.Gf(Fn,5),t.Gf(jn,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[ct],styles:[""]}),a})();var At=k(4594);const $n=["screenPie"],Vn=["screenBar"],Kn=["screenImg"],Wn=["canvas"],Xn=["downloadLink"];function ti(a,o){if(1&a&&(t.TgZ(0,"div",18),t._UZ(1,"div",19),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function ei(a,o){if(1&a&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function ni(a,o){if(1&a&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function ii(a,o){1&a&&(t.ynx(0,28),t.YNc(1,ei,2,1,"th",29),t.YNc(2,ni,2,1,"td",30),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function ai(a,o){1&a&&t._UZ(0,"tr",33)}function oi(a,o){1&a&&t._UZ(0,"tr",34)}function ri(a,o){if(1&a&&(t.TgZ(0,"div",20)(1,"p",21)(2,"span",22),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",23),t.YNc(6,ii,3,1,"ng-container",24),t.YNc(7,ai,1,0,"tr",25),t.YNc(8,oi,1,0,"tr",26),t.qZA(),t.TgZ(9,"p",27)(10,"span",22),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function si(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function ci(a,o){if(1&a&&t._UZ(0,"img",49),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function li(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",36)(3,"div",36)(4,"div",36)(5,"div",37),t.TgZ(6,"div",38)(7,"div",39)(8,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",41),t.YNc(10,si,1,0,"i",42),t.qZA()()(),t.TgZ(11,"div",43,44)(13,"p",45)(14,"span",22),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",46),t.YNc(18,ci,1,1,"img",47),t.qZA(),t.TgZ(19,"p",27)(20,"span",22),t._uU(21,"Source\xa0:\xa0"),t.qZA(),t._uU(22),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function di(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function pi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",36)(3,"div",36)(4,"div",36)(5,"div",37),t.TgZ(6,"div",38)(7,"div",39)(8,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t.TgZ(9,"i",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(10,di,1,0,"i",42),t.qZA()()(),t.TgZ(11,"div",43,51)(13,"p",45)(14,"span",22),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",52),t.TgZ(18,"p",27)(19,"span",22),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function gi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function hi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",35),t._UZ(2,"div",53),t.TgZ(3,"div",38)(4,"div",39)(5,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t.TgZ(6,"i",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(7,gi,1,0,"i",42),t.qZA()()(),t.TgZ(8,"div",54,55)(10,"p",45)(11,"span",22),t._uU(12,"Title\xa0:\xa0"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"div",56)(15,"p",57),t._uU(16),t.qZA(),t._UZ(17,"canvas",58),t.qZA(),t.TgZ(18,"p",21),t._uU(19),t.qZA(),t.TgZ(20,"p",27)(21,"span",22),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(7),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function mi(a,o){if(1&a&&(t.TgZ(0,"div",14),t.ynx(1,15),t.YNc(2,ti,2,1,"div",16),t.YNc(3,ri,13,6,"div",17),t.YNc(4,li,23,4,"div",17),t.YNc(5,pi,22,10,"div",17),t.YNc(6,hi,24,11,"div",17),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const ui=function(a){return{type:a}};function _i(a,o){if(1&a&&(t.ynx(0),t.TgZ(1,"a",59),t._uU(2),t.qZA(),t.BQk()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("queryParams",t.VKq(2,ui,e)),t.xp6(1),t.Oqu(e)}}const fi=function(){return{orderType:"driver"}};let vi=(()=>{class a{constructor(e,n,i,r,c,l,d,f){this.dialog=e,this.routes=n,this.reportService=i,this.reportSectionService=r,this.spinner=c,this.authService=l,this.localStorageService=d,this.excelDownloadService=f,this.reportData=[],this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.spinner.show()}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;const n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){const r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let c=0;c<n[0].data.length&&c<2;c++)r.data.push(n[0].data[c])}this.interConnectData=r}const i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){const r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let c=0;c<i[0].data.length&&c<2;c++)r.data.push(i[0].data[c])}this.reportConnectData=r}}this.reportService.getSectionKeyDetials(this.reportId,"MARKET_DYNAMICS").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(i=>{"introduction"===i.meta_info.section_key&&(this.reportData=this.reportSectionService.convertToReportDataElement(i.content)),this.emptyList.push(i.section_name),this.emptyList=P.uniq(this.emptyList)}),P.find(e,["meta_info.section_key","introduction"])&&this.reportData.length||this.reportData.push({data:`Following is the Market Dynamics Analysis for ${this.reportName} Market`,id:1,type:"TEXT"}),this.emptyList=P.remove(this.emptyList,i=>"MARKET DYNAMICS"!==i),this.compareList.forEach(i=>{let r=!1;this.emptyList=this.emptyList.filter(c=>!(!r&&c==i&&(this.driverList.push(c),r=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(A.e),t.Y36(Z.n),t.Y36(it.O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-drivers"]],viewQuery:function(e,n){if(1&e&&(t.Gf($n,5),t.Gf(Vn,5),t.Gf(Kn,5),t.Gf(Wn,5),t.Gf(Xn,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:21,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,"down-header","container-fluid"],[1,"sub-heading","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"tabular","col-8"],[4,"ngFor","ngForOf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid content-p",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"container-fluid","content-p"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption2"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["style","margin: 5px 8px !important;",4,"matCellDef"],["mat-header-cell",""],[2,"margin","5px 8px !important"],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033","padding","10px"],["screenImg",""],[1,"mat-caption",2,"text-align","center","font-size","15px","padding","5px"],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"col-10"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["routerLink","/droctcontainer","mat-raised-button","",1,"driver-btn",3,"queryParams"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t._uU(8,"Introduction"),t.qZA(),t.TgZ(9,"div"),t.YNc(10,mi,7,6,"div",6),t.qZA()(),t._UZ(11,"div"),t.qZA(),t.TgZ(12,"div",7),t._UZ(13,"app-hardcoded-suggestions",8),t.qZA()(),t.TgZ(14,"mat-toolbar",9),t.YNc(15,_i,3,4,"ng-container",10),t.qZA()()(),t.TgZ(16,"div",11),t._UZ(17,"img",null,12)(19,"a",null,13),t.qZA()),2&e&&(t.xp6(6),t.lnq("Market Dynamics, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(4),t.Q6J("ngForOf",n.reportData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,fi)),t.xp6(2),t.Q6J("ngForOf",n.driverList))},directives:[M.sg,M.RF,M.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.as,y.XQ,y.nj,y.Gk,M.O5,W.jh,X,At.Ye,T.yS],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;font-size:15px}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:15px!important;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}"]}),a})();var E=k(88),B=k(3176),F=k(9224);const Ci=["screen"],xi=["canvas"],bi=["downloadLink"];function wi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().analyze()}),t._uU(1,"Analyze"),t.qZA()}}let yi=(()=>{class a{constructor(e,n,i,r,c,l,d,f){this.dialogRef=e,this.data=n,this.localStorageService=i,this.excelDownloadService=r,this.activateRoutes=c,this.sharedAnalyticsService=l,this.routes=d,this.authService=f,this.finalObject=[],this.i=0,c.queryParams.subscribe(h=>this.typeParam=h.type)}ngOnInit(){this.i=0;const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.types=this.data.types,this.finalObject=this.data,this.reportId=e._id,this.generateTrees(),document.getElementById("scrollToTop").scrollTo(0,-100),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:this.typeParam,subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}generateTrees(){if(this.cnt=0,0==this.cnt){let e=this.finalObject.length;this.cnt=(this.cnt+1+e)%e,this.renderTree(this.finalObject[this.cnt]),this.showYear=this.finalObject[this.cnt].year,this.cnt++,this.cnt>0&&E.interval(()=>{this.finalObject.length>0&&(this.cnt=(this.cnt+1+e)%e,E.select("#driver-container1 svg").remove(),this.renderTree(this.finalObject[this.cnt]),this.showYear=this.finalObject[this.cnt].year)},1e3)}}renderTree(e){var f,c=E.select("#driver-container1").append("svg").attr("width",1e3).attr("height",260).append("g").attr("transform","translate(100,5)"),l=0,h=E.tree().size([245,400]);(f=E.hierarchy(e,function(g){return g.children})).x0=122.5,f.y0=0,function _(g){var v=h(f),w=v.descendants(),N=v.descendants().slice(1),D=c.selectAll("g.node").data(w,function(s){return s.id||(s.id=++l)}),I=D.enter().append("g").attr("class","node").attr("transform",function(s){return"translate("+g.y0+","+g.x0+")"});I.append("image").attr("href",function(s){return s.children||s._children?1==s.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(s){return s._children?"lightsteelblue":"#fff"}).style("color","#000"),I.append("text").attr("x",function(s){return 10}).attr("dy",function(s){return s.children||s._children?"-1em":"0.5em"}).attr("text-anchor",function(s){return s.children||s._children?"middle":"start"}).text(function(s){return 5==s.data.rating?s.data.name:s.data.rating>5&&s.data.rating<=10?s.data.rating>5&&s.data.rating<=7?s.data.name+" (medium impact)":s.data.name+" (high impact )":s.depth>0?s.data.name+" (low impact)":s.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(s){return s.data.percent>=70?"bold":"normal"}).call(function p(s,m){s.each(function(){for(var nt,R=E.select(this),et=R.text().split(/\s+/).reverse(),G=[],at=0,pt=R.attr("y"),rt=parseFloat(R.attr("dy")),K=R.text(null).append("tspan").attr("x",0).attr("y",pt).attr("dy",rt+"em");nt=et.pop();)G.push(nt),K.text(G.join(" ")),K.node().getComputedTextLength()>m&&(G.pop(),K.text(G.join(" ")),G=[nt],K=R.append("tspan").attr("x",0).attr("y",pt).attr("dy",1*++at+rt+"em").text(nt))})},480);var q=I.merge(D);q.attr("transform",function(s){return"translate("+s.y+","+s.x+")"}),q.select("image").attr("href",function(s){return s.children||s._children?s.data.rating>0?"../../assets/images/"+s.data.rating+".png":1==s.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),q.select("text").style("fill-opacity",1);var z=D.exit().attr("transform",function(s){return"translate("+g.y+","+g.x+")"}).remove();z.select("circle").attr("r",1e-6),z.select("text").style("fill-opacity",1e-6);var H=c.selectAll("path.link").data(N,function(s){return s.id});function Q(s,m){return`M ${s.y} ${s.x}\n            C ${(s.y+m.y)/2} ${s.x},\n              ${(s.y+m.y)/2} ${m.x},\n              ${m.y} ${m.x}`}H.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(s){return.5*s.data.rating+"px"}).attr("stroke",function(s){return s.data.rating>=4&&s.data.rating<=10?s.data.rating>=4&&s.data.rating<8?"#999":"red":"green"}).attr("d",function(s){var m={x:g.x0,y:g.y0};return Q(m,m)}).merge(H).attr("d",function(s){return Q(s,s.parent)}),H.exit().attr("d",function(s){var m={x:g.x,y:g.y};return Q(m,m)}).remove(),w.forEach(function(s){s.x0=s.x,s.y0=s.y})}(f)}doClose(){this.finalObject=[],E.select("#driver-container1").selectAll("svg").remove(),this.dialogRef.close()}clickout(){this.i++,this.i>1&&(this.finalObject=[])}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(it.O),t.Y36(T.gz),t.Y36(B.g),t.Y36(T.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-drivers-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ci,5),t.Gf(xi,5),t.Gf(bi,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.clickout()},!1,t.evT)},decls:28,vars:8,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["class","btn-link","role","button",3,"click",4,"ngIf"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner","float-l"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"margin-left","10px"],[1,"row"],["id","driver-container1"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["role","button",1,"btn-link",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1),t.YNc(3,wi,2,0,"a",2),t.qZA(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.doClose()}),t.qZA()()(),t.TgZ(7,"mat-card-content",6,7)(9,"div",8)(10,"p",9)(11,"span",10),t._uU(12,"Title :"),t.qZA(),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"span",11),t._uU(16),t.qZA()(),t.TgZ(17,"div",12),t._UZ(18,"div",13),t.TgZ(19,"p",14)(20,"span",10),t._uU(21,"Source :"),t.qZA(),t._uU(22,"Wantstats "),t.qZA()()()(),t.TgZ(23,"div",15),t._UZ(24,"img",null,16)(26,"a",null,17),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf","Drivers"==n.typeParam||"Restraints"==n.typeParam),t.xp6(10),t.HOy("Market Dynamics, ",t.lcZ(14,6,n.types),", ",n.reportName," Market [",n.startYear," - ",n.endYear,"]"),t.xp6(3),t.hij("Year ",n.showYear,""))},directives:[M.O5,F.dn],pipes:[M.rS],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}#driver-container[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;max-width:100%}.mat-caption[_ngcontent-%COMP%]{font-size:13px!important;margin:5px!important}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:15px!important;text-align:justify}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.3);display:block;padding:10px 20px 0;margin-bottom:10px}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{width:50%;margin:auto}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{list-style:none}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.accordion[_ngcontent-%COMP%]{margin:20px inherit}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:500px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}@media screen and (min-width: 600px) and (max-width: 1000px){.outer-year-conatiner[_ngcontent-%COMP%]{overflow:auto}}  .mat-dialog-container{padding:0!important}"]}),a})();var Ct=k(7357);const Mi=["screenPie"],Oi=["screenBar"],Pi=["screenImg"],Ti=["screen"],ki=["canvas"],Si=["downloadLink"],Di=["callAPIDialog"];function Ai(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"a",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).analyze()}),t._uU(1,"Analyze"),t.qZA()}}function Zi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,Ai,2,0,"a",16),t.qZA(),t.TgZ(3,"div",17)(4,"a",18),t._uU(5,"Send "),t._UZ(6,"i",19),t.qZA(),t.TgZ(7,"a",18),t._uU(8,"PPT "),t._UZ(9,"i",20),t.qZA(),t.TgZ(10,"i",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().generateImage("screen")}),t.qZA(),t._UZ(11,"i",22),t.TgZ(12,"i",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().openDroctDialog()}),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngIf","Drivers"==e.typeParam||"Restraints"==e.typeParam)}}function Ri(a,o){if(1&a&&(t.TgZ(0,"mat-card-content",25,26)(2,"div",27)(3,"p",28)(4,"span",29),t._uU(5,"Title\xa0:\xa0"),t.qZA(),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"span",30),t._uU(9),t.qZA()(),t.TgZ(10,"div"),t._UZ(11,"div",31),t.TgZ(12,"p",32)(13,"span",29),t._uU(14,"Source\xa0:\xa0"),t.qZA(),t._uU(15,"Wantstats "),t.qZA()()()),2&a){const e=t.oxw();t.xp6(6),t.HOy("Market Dynamics, ",t.lcZ(7,5,e.types),", ",e.reportName," Market [",e.startYear," - ",e.endYear,"]"),t.xp6(3),t.hij("Year ",e.showYear,"")}}function Ei(a,o){if(1&a&&(t.TgZ(0,"div",41),t._UZ(1,"div",42),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function Ni(a,o){if(1&a&&(t.TgZ(0,"th",51),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Ii(a,o){if(1&a&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Li(a,o){1&a&&(t.ynx(0,48),t.YNc(1,Ni,2,1,"th",49),t.YNc(2,Ii,2,1,"td",50),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function Ui(a,o){1&a&&t._UZ(0,"tr",53)}function Yi(a,o){1&a&&t._UZ(0,"tr",54)}function qi(a,o){if(1&a&&(t.TgZ(0,"div",43)(1,"p",28)(2,"span",29),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",44),t.YNc(6,Li,3,1,"ng-container",45),t.YNc(7,Ui,1,0,"tr",46),t.YNc(8,Yi,1,0,"tr",47),t.qZA(),t.TgZ(9,"p",32)(10,"span",29),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function Hi(a,o){if(1&a&&t._UZ(0,"img",64),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function Ji(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",55),t._UZ(2,"div",56),t.TgZ(3,"div",57)(4,"div",17)(5,"a",18),t._uU(6,"Send "),t._UZ(7,"i",19),t.qZA(),t.TgZ(8,"a",58),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(9,"PPT "),t._UZ(10,"i",20),t.qZA(),t.TgZ(11,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i.type,i)}),t.qZA(),t._UZ(12,"i",59),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openDialog(i)}),t.qZA()()()(),t.TgZ(14,"div",60,61)(16,"p",28)(17,"span",29),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"div",62),t.YNc(21,Hi,1,1,"img",63),t.qZA(),t.TgZ(22,"p",32)(23,"span",29),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25),t.qZA()()()}if(2&a){const e=t.oxw().$implicit;t.xp6(19),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function zi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",17)(3,"a",18),t._uU(4,"Send "),t._UZ(5,"i",19),t.qZA(),t.TgZ(6,"a",58),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(7,"PPT "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i.type,i)}),t.qZA(),t.TgZ(10,"i",65),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(11,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i.type,i)}),t.qZA(),t.TgZ(12,"i",66),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadExcel(i)}),t.qZA(),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openDialog(i)}),t.qZA()()(),t.TgZ(14,"div",67,68)(16,"p",28)(17,"span",29),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA(),t._UZ(20,"canvas",69),t.TgZ(21,"p",32)(22,"span",29),t._uU(23,"Source\xa0:\xa0"),t.qZA(),t._uU(24),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(19),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Qi(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",70)(2,"div",17)(3,"a",18),t._uU(4,"Send "),t._UZ(5,"i",19),t.qZA(),t.TgZ(6,"a",58),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(7,"PPT "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i.type,i)}),t.qZA(),t.TgZ(10,"i",65),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(11,"i",66),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadExcel(i)}),t.qZA(),t.TgZ(12,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).openDialog(i)}),t.qZA()()(),t.TgZ(13,"div",71,72)(15,"p",28)(16,"span",29),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t.TgZ(19,"div",73)(20,"p",74),t._uU(21),t.qZA(),t._UZ(22,"canvas",75),t.qZA(),t.TgZ(23,"p",76),t._uU(24),t.qZA(),t.TgZ(25,"p",32)(26,"span",29),t._uU(27,"Source\xa0:\xa0"),t.qZA(),t._uU(28),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(18),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Gi(a,o){if(1&a&&(t.TgZ(0,"div",36),t.ynx(1,37),t.YNc(2,Ei,2,1,"div",38),t.YNc(3,qi,13,6,"div",39),t.YNc(4,Ji,26,3,"div",40),t.YNc(5,zi,25,9,"div",40),t.YNc(6,Qi,29,10,"div",40),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}function Fi(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",33),t._uU(2),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,Gi,7,6,"div",35),t.qZA()()),2&a){const e=o.$implicit,n=o.index,i=t.oxw();t.xp6(2),t.hij(" ",e," "),t.xp6(2),t.Q6J("ngForOf",i.reportData[n])}}const ji=function(){return{orderType:"driver"}};let Bi=(()=>{class a{constructor(e,n,i,r,c,l,d,f,h,u,_){this.dialog=e,this.routes=n,this.activateRoutes=i,this.reportService=r,this.authService=c,this.reportSectionService=l,this.spinner=d,this.pptService=f,this.localStorageService=h,this.excelDownloadService=u,this.sharedAnalyticsService=_,this.ratingData=[],this.contentData=[],this.droctName=[],this.reportData=[],this.finalObject=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.open=!1,this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.permissions=this.authService.getUserPermissions(),this.reportDetails=this.localStorageService.get(O.cc.CURRENT_REPORT),this.sectionDetails=this.localStorageService.get(O.cc.CURRENT_SECTION),i.queryParams.subscribe(g=>this.typeParam=g.type)}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}getReportDetailsSuccess(e,n){if(e.map(i=>{i.meta&&i.meta.type===n.toUpperCase()&&this.ratingData.push(i.meta.data),i.meta_info.parent_section_key===n.toLowerCase()&&this.contentData.push(i)}),this.contentData&&this.contentData.length&&this.ratingData&&this.ratingData.length){this.contentData.map(r=>{if(this.droctName.push(r.meta.data.name),r.content){let c=this.reportSectionService.convertToReportDataElement(r.content);this.reportData.push(c)}});let i=this.ratingData;if(this.ratingData.length>0)if(this.ratingData[0].rating.length)P.map(this.ratingData[0].rating,"year").forEach(c=>{let l={name:this.droctType,year:c,children:[],types:this.types};i.forEach(d=>{if(d.rating.length>0){const f=P.find(d.rating,["year",c]);l.children.push({name:d.name,rating:f?f.rating:5}),l.children=P.uniqBy(l.children,"name")}}),this.finalObject.push(l)}),this.generateTrees();else{let r=[];for(let c=this.startYear;c<=this.endYear;c++)r.push(c);r.length&&(r.forEach(c=>{let l={name:this.droctType,year:c,children:[],types:this.types};i.forEach(d=>{l.children.push({name:d.name,rating:5}),l.children=P.uniqBy(l.children,"name")}),this.finalObject.push(l)}),this.generateTrees())}window.scroll(0,0)}else this.routes.navigate(["driveroutput"]);this.spinner.hide()}generateImage(e,n=null){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(i=>{this.canvas.nativeElement.src=i.toDataURL(),this.downloadLink.nativeElement.href=i.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(i=>{this.canvas.nativeElement.src=i.toDataURL(),this.downloadLink.nativeElement.href=i.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e?b(this.screenImg.nativeElement).then(i=>{this.canvas.nativeElement.src=i.toDataURL(),this.downloadLink.nativeElement.href=i.toDataURL("image/png"),this.downloadLink.nativeElement.download=n.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):b(this.screen.nativeElement).then(i=>{this.canvas.nativeElement.src=i.toDataURL(),this.downloadLink.nativeElement.href=i.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:this.typeParam,subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}openDialog(e){this.dialog.open(J.C,{width:"98%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}generateTrees(){if(this.cnt=0,0==this.cnt){let e=this.finalObject.length;this.cnt=(this.cnt+1+e)%e,this.renderTree(this.finalObject[this.cnt]),this.showYear=this.finalObject[this.cnt].year,this.cnt++,this.cnt>0&&(this.driverInterval=E.interval(()=>{this.finalObject.length>0&&(this.cnt=(this.cnt+1+e)%e,E.select("#driver-container svg").remove(),this.renderTree(this.finalObject[this.cnt]),this.showYear=this.finalObject[this.cnt].year)},1e3))}}renderTree(e){var f,c=E.select("#driver-container").append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),l=0,h=E.tree().size([245,300]);(f=E.hierarchy(e,function(g){return g.children})).x0=122.5,f.y0=0,function _(g){var v=h(f),w=v.descendants(),N=v.descendants().slice(1),D=c.selectAll("g.node").data(w,function(s){return s.id||(s.id=++l)}),I=D.enter().append("g").attr("class","node").attr("transform",function(s){return"translate("+g.y0+","+g.x0+")"});I.append("image").attr("href",function(s){return s.children||s._children?1==s.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(s){return s._children?"lightsteelblue":"#fff"}).style("color","#000"),I.append("text").attr("x",function(s){return 10}).attr("dy",function(s){return s.children||s._children?"-1em":"0.5em"}).attr("text-anchor",function(s){return s.children||s._children?"middle":"start"}).text(function(s){return 5==s.data.rating?s.data.name:s.data.rating>5&&s.data.rating<=10?s.data.rating>5&&s.data.rating<=7?s.data.name+" (medium impact)":s.data.name+" (high impact )":s.depth>0?s.data.name+" (low impact)":s.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(s){return s.data.percent>=70?"bold":"normal"}).call(function p(s,m){s.each(function(){for(var nt,R=E.select(this),et=R.text().split(/\s+/).reverse(),G=[],at=0,pt=R.attr("y"),rt=parseFloat(R.attr("dy")),K=R.text(null).append("tspan").attr("x",0).attr("y",pt).attr("dy",rt+"em");nt=et.pop();)G.push(nt),K.text(G.join(" ")),K.node().getComputedTextLength()>m&&(G.pop(),K.text(G.join(" ")),G=[nt],K=R.append("tspan").attr("x",0).attr("y",pt).attr("dy",1*++at+rt+"em").text(nt))})},380);var q=I.merge(D);q.attr("transform",function(s){return"translate("+s.y+","+s.x+")"}),q.select("image").attr("href",function(s){return s.children||s._children?s.data.rating>0?"../../assets/images/"+s.data.rating+".png":1==s.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),q.select("text").style("fill-opacity",1);var z=D.exit().attr("transform",function(s){return"translate("+g.y+","+g.x+")"}).remove();z.select("circle").attr("r",1e-6),z.select("text").style("fill-opacity",1e-6);var H=c.selectAll("path.link").data(N,function(s){return s.id});function Q(s,m){return`M ${s.y} ${s.x}\n            C ${(s.y+m.y)/2} ${s.x},\n              ${(s.y+m.y)/2} ${m.x},\n              ${m.y} ${m.x}`}H.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(s){return.5*s.data.rating+"px"}).attr("stroke",function(s){return s.data.rating>=4&&s.data.rating<=10?s.data.rating>=4&&s.data.rating<8?"#999":"red":"green"}).attr("d",function(s){var m={x:g.x0,y:g.y0};return Q(m,m)}).merge(H).attr("d",function(s){return Q(s,s.parent)}),H.exit().attr("d",function(s){var m={x:g.x,y:g.y};return Q(m,m)}).remove(),w.forEach(function(s){s.x0=s.x,s.y0=s.y})}(f)}ngOnInit(){this.spinner.show(),this.ratingData=[],this.finalObject=[],this.contentData=[],this.reportData=[],this.droctName=[],E.select("#driver-container").selectAll("svg").remove(),this.driverInterval&&this.driverInterval.stop(),this.activateRoutes.queryParams.subscribe(e=>{this.spinner.show(),this.ratingData=[],this.finalObject=[],this.contentData=[],this.reportData=[],this.droctName=[],E.select("#driver-container").selectAll("svg").remove(),this.showYear=null,this.types=e.type.toLowerCase(),this.droctType=e.type;const n=this.localStorageService.get(O.cc.CURRENT_REPORT);if(this.reportName=n.title,this.startYear=n.me.start_year,this.endYear=n.me.end_year,this.reportId=n._id,n.overlaps){this.overlaps=n.overlaps;let r=this.overlaps.filter(l=>l.section_name==this.droctType);if(r.length){let l={section:"",data:[]};if(r[0].data&&r[0].data.length&&r[0].section_name){l.section=r[0].section_name;for(let d=0;d<r[0].data.length&&d<2;d++)l.data.push(r[0].data[d])}this.interConnectData=l}let c=this.overlaps.filter(l=>"Report"==l.section_name);if(c.length){let l={section:"",data:[]};if(c[0].data&&c[0].data.length&&c[0].section_name){l.section=c[0].section_name;for(let d=0;d<c[0].data.length&&d<2;d++)l.data.push(c[0].data[d])}this.reportConnectData=l}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_DYNAMICS").subscribe(r=>{this.getReportDetailsSuccess(r,this.types),window.scroll(0,0)},r=>{console.log("error",r)})})}ngAfterViewInit(){}openDroctDialog(){this.dialog.open(yi,{width:"99%",data:this.finalObject,disableClose:!1}).afterClosed().subscribe(n=>{})}ngOnDestroy(){this.ratingData=[],this.finalObject=[],this.contentData=[],this.droctName=[],this.reportData=[],E.select("#driver-container").selectAll("svg").remove()}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(T.gz),t.Y36(L.r),t.Y36(A.e),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Ct._),t.Y36(Z.n),t.Y36(it.O),t.Y36(B.g))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-droct-driver-container"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Mi,5),t.Gf(Oi,5),t.Gf(Pi,5),t.Gf(Ti,5),t.Gf(ki,5),t.Gf(Si,5),t.Gf(Di,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:23,vars:11,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],["class","float-l-width header-background",4,"ngIf"],["class","padding20 outer-year-conatiner float-l-width",4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"down-header"],[1,"accordion"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"float-l-width","header-background"],[1,"float-l"],["class","btn-link","role","button",3,"click",4,"ngIf"],[1,"float-right"],[1,"btn-icon","ppt-btn"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],["role","button",1,"btn-link",3,"click"],[1,"padding20","outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center","font-size","14px","font-weight","500"],[1,"font-weight-bold"],[2,"margin-left","10px"],["id","driver-container"],[1,"mat-caption"],[1,"mat-head"],["id","contents",1,""],["class","seprator-div",4,"ngFor","ngForOf"],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p",4,"ngSwitchCase"],["class","",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"content-p"],[3,"innerHTML"],[1,""],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-8"],[1,"col-4","zero-padding"],[1,"btn-icon","ppt-btn",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"responsiveImg",3,"src"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"header-background","float-l-width"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","90%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],[1,"mat-caption",2,"text-align","center"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Zi,13,1,"div",4),t.YNc(5,Ri,16,7,"mat-card-content",5),t.TgZ(6,"div",6),t._UZ(7,"img",null,7)(9,"a",null,8),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.ALo(13,"titlecase"),t.qZA(),t.TgZ(14,"div",10),t.YNc(15,Fi,5,2,"div",11),t.qZA()(),t.TgZ(16,"div",12),t._UZ(17,"app-hardcoded-suggestions",13),t.qZA()()()(),t.TgZ(18,"div",6),t._UZ(19,"img",null,7)(21,"a",null,8),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.finalObject.length),t.xp6(1),t.Q6J("ngIf",n.finalObject.length),t.xp6(7),t.HOy(" Market Dynamics, ",t.lcZ(13,8,n.types),", ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(3),t.Q6J("ngForOf",n.droctName),t.xp6(2),t.Q6J("suggestion",t.DdM(10,ji)))},directives:[M.O5,F.dn,M.sg,M.RF,M.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,W.jh,X],pipes:[M.rS],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}#driver-container[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;max-width:100%}.mat-caption[_ngcontent-%COMP%]{font-size:13px!important;margin:5px!important}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:15px!important;text-align:justify}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.3);display:block;padding:10px 20px 0;margin-bottom:10px}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{width:50%;margin:auto}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{list-style:none}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.accordion[_ngcontent-%COMP%]{margin:20px inherit}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:500px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}@media screen and (min-width: 600px) and (max-width: 1000px){.outer-year-conatiner[_ngcontent-%COMP%]{overflow:auto}}"]}),a})();const $i=["screen"],Vi=["canvas"],Ki=["downloadLink"];let Wi=(()=>{class a{constructor(e,n,i,r,c){this.dialogRef=e,this.data=n,this.localStorageService=i,this.routes=r,this.authService=c,this.finalObject=[]}ngOnInit(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.data&&this.data.data&&(this.treeData=this.data.data,this.baseYear=this.data.baseYear,this.metric=this.data.metric),this.generateTrees(),window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}generateTrees(){this.renderTree(this.treeData)}renderTree(e){var f,c=E.select("#dendo-container1").append("svg").attr("width",850).attr("height",380).append("g").attr("transform","translate(230,5)"),l=0,d=750,h=E.tree().size([365,390]);(f=E.hierarchy(e,function(g){return g.children})).x0=182.5,f.y0=0,f.children.forEach(function u(g){g.children&&(parseInt(g.depth)>1?(g._children=g.children,g.children=null,g.data.open=!1):g.children.forEach(u))}),function _(g){var v=h(f),w=v.descendants(),N=v.descendants().slice(1),D=c.selectAll("g.node").data(w,function(p){return p.id||(p.id=++l)}),I=D.enter().append("g").attr("class","node").attr("transform",function(p){return"translate("+g.y0+","+g.x0+")"}).on("click",function V(p){p.children?(p._children=p.children,p.children=null,p.data.open=!1):(p.children=p._children,p._children=null,p.data.open=!0),_(p)});I.append("image").attr("href",function(p){return p.children||p._children?1==p.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","white").attr("text","+").attr("cursor","pointer").style("fill",function(p){return p._children?"lightsteelblue":"#fff"}).style("color","#000"),I.append("text").attr("x",function(p){return 10}).attr("dy",function(p){return p.children||p._children?"-1em":"0.5em"}).attr("text-anchor",function(p){return p.children||p._children?"end":"start"}).text(function(p){let s="";p&&p.data&&p.data.percent&&(s=p.data.percent,s=s.replace("%",""));let m="";return p.data.name&&(m=p.data.name.substring(p.data.name.indexOf("_")+1)),0==p.depth?p.data.name:3==p.depth&&void 0===p.data.amount?m:m+", "+p.data.amount+", "+s+"%"}).style("fill-opacity",1e-6).style("font","10px sans-serif").style("font-weight",function(p){return p.data.percent>=70?"bold":"normal"});var q=I.merge(D);q.transition().duration(d).attr("transform",function(p){return"translate("+p.y+","+p.x+")"}),q.select("image").attr("href",function(p){return p.children||p._children?1==p.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),q.select("text").style("fill-opacity",1);var z=D.exit().transition().duration(d).attr("transform",function(p){return"translate("+g.y+","+g.x+")"}).remove();z.select("circle").attr("r",1e-6),z.select("text").style("fill-opacity",1e-6);var H=c.selectAll("path.link").data(N,function(p){return p.id});function Q(p,s){return`M ${p.y} ${p.x}\n            C ${(p.y+s.y)/2} ${p.x},\n              ${(p.y+s.y)/2} ${s.x},\n              ${s.y} ${s.x}`}H.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(p){return"green"==p.data.color?"2px":"1px"}).attr("stroke",function(p){return p.data.color}).attr("d",function(p){var s={x:g.x0,y:g.y0};return Q(s,s)}).merge(H).transition().duration(d).attr("d",function(p){return Q(p,p.parent)}),H.exit().transition().duration(d).attr("d",function(p){var s={x:g.x,y:g.y};return Q(s,s)}).remove(),w.forEach(function(p){p.x0=p.x,p.y0=p.y})}(f)}analyze(){this.routes.navigateByUrl("/dashboard"),this.doClose()}doClose(){this.data=[],E.select("#dendo-container1").selectAll("svg").remove(),this.dialogRef.close()}clickout(){this.data=[]}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(T.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-market-estimation-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf($i,5),t.Gf(Vi,5),t.Gf(Ki,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.clickout()},!1,t.evT)},decls:31,vars:5,consts:[[1,"row","col","header-background","header1"],[1,"col-2"],["role","button",1,"analyze",3,"click"],[1,"col-4"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["id","dendo-container1"],[2,"width","100%"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1)(6,"div",3),t.TgZ(7,"div",1)(8,"div",4)(9,"i",5),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t._UZ(10,"i",6),t.TgZ(11,"i",7),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(12,"mat-card-content",8,9)(14,"div",10)(15,"p",11)(16,"span",12),t._uU(17,"Title :"),t.qZA(),t._uU(18),t.qZA()(),t.TgZ(19,"div"),t._UZ(20,"div",13),t.TgZ(21,"div",14)(22,"p",15)(23,"span",12),t._uU(24,"Source :"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()()(),t.TgZ(26,"div",16),t._UZ(27,"img",null,17)(29,"a",null,18),t.qZA()),2&e&&(t.xp6(18),t.xDo("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"], Base Year: ",n.baseYear," (",n.metric,")"))},directives:[F.dn],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0!important}.header1[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}"]}),a})();var ht=k(5758),wt=k(4128),gt=k(520);let Xi=(()=>{class a{constructor(e,n){this.http=e,this.marketEstimationService=n}getMarketBreakupRegionDataService(e,n){let i=[];return n&&n.children.forEach((r,c)=>{i.push(this.marketEstimationService.getMeDataByRegion(e,r.id))}),(0,wt.D)([...i])}getMarketBreakupSegmentDataService(e,n){let i=[];return n&&n.children&&n.children.forEach((r,c)=>{i.push(this.marketEstimationService.getMeDataBySegment(e,r.id))}),(0,wt.D)([...i])}getMarketBreakupDataService(e,n,i){let r=this.getMarketBreakupRegionDataService(e,n),c=this.getMarketBreakupSegmentDataService(e,i);return(0,wt.D)([r,c])}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(gt.eN),t.LFG(ht.L))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ta=["screen"],ea=["canvas"],na=["downloadLink"],ia=["callAPIDialog"],aa=function(){return{orderType:"driver"}};let oa=(()=>{class a{constructor(e,n,i,r,c,l,d,f,h,u){this.dialog=e,this.routes=n,this.localStorageService=i,this.marketEstimationService=r,this.spinner=c,this.authService=l,this.reportService=d,this.activatedRoute=f,this.sharedAnalyticsService=h,this.requestMarketBreakupDataService=u,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.baseYear="",this.cnt=0,this.metric="",this.bifurcationLevel=1,this.sharedAnalyticsService.setReload(!0)}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Market Estimation, "+this.reportName+" Market ["+this.startYear+" - "+this.endYear+"], Base Year: "+this.baseYear,this.downloadLink.nativeElement.click()})}ngOnInit(){this.sharedAnalyticsService.setReload(!0),this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.activatedRoute.snapshot.queryParams.reportId?this.reportService.getById(this.activatedRoute.snapshot.queryParams.reportId).subscribe(e=>{e&&(this.localStorageService.set(O.cc.CURRENT_REPORT,{_id:e._id,title:e.title,category:e.category,vertical:e.vertical,me:{start_year:e.me.start_year,end_year:e.me.end_year,base_year:e.me.base_year},overlaps:e.overlaps,owner:e.owner,tocList:e.tocList,status:e.status,title_prefix:e.title_prefix,youtubeContents:e.youtubeContents}),this.getAPIData())}):this.getAPIData()}getAPIData(){this.sharedAnalyticsService.setReload(!0);const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.activatedRoute.snapshot.queryParams&&(this.activatedRoute.snapshot.queryParams.reportId&&(this.reportId=this.activatedRoute.snapshot.queryParams.reportId,this.reportService.setReportData(this.reportId)),this.activatedRoute.snapshot.queryParams.reportName&&(this.reportName=this.activatedRoute.snapshot.queryParams.reportName)),this.marketEstimationService.getMeData(this.reportId).subscribe(n=>{this.activatedRoute.snapshot.queryParams&&n.data&&n.data[0]&&n.data[0].me&&(this.startYear=n.data[0].me.start_year,this.endYear=n.data[0].me.end_year,n.data[0].me.data&&(this.meData=n.data[0].me.data),n.data[0].me.bifurcationLevel&&(this.bifurcationLevel=n.data[0].me.bifurcationLevel)),this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){e&&e.data&&e.data[0]&&e.data[0].me&&(this.data=e.data[0].me.segment,this.allRegions=e.data[0].me.geo_segment,this.baseYear=e.data[0].me.base_year,this.regionData=[],this.allRegions.length?(this.allRegions.forEach(n=>{this.regionData.push({id:n.id,name:n.region,children:n.countries})}),this.regions={id:"1",name:"Region",children:this.regionData},this.orgCharts(this.regions)):this.spinner.hide())}getRegionDataSuccess(e,n){if(e&&e.data&&e.data[0]){!this.metric&&e.data[0].metric&&(this.metric=e.data[0].metric,this.metric="Kilo Tons"==this.metric?e.data[0].metric:"USD "+this.metric);let i=e.data[0].value;this.regions.children.forEach(r=>{if(r.id==n){let c=Object.keys(i[i.length-1]),l="",d="";c.forEach(f=>{f.includes("CAGR (%) ")&&(l=f)}),d=r.name.replace(/ /gi,"_"),r.amount=this.convertToTwoDecimal(i[i.length-1][this.baseYear]),r.percent=this.convertToTwoDecimal(i[i.length-1][l]),r.open=!0,r.color="#999",this.regions.open=!0,this.regions.color="#999",r.children.forEach(f=>{i.forEach(h=>{(h[d.toLowerCase()]==f.name||h[d]==f.name)&&(f.amount=this.convertToTwoDecimal(h[this.baseYear]),f.percent=this.convertToTwoDecimal(h[l]),f.color="#999")})})}r.children&&this.changeColor(r.children)})}}getSegmentDataSuccess(e,n){if(e&&e.data&&e.data[0]&&e.data[0].value){!this.metric&&e.data[0].metric&&(this.metric=e.data[0].metric,this.metric="Kilo Tons"==this.metric?e.data[0].metric:"USD "+this.metric);let i=e.data[0].value;this.treeData.children.forEach(r=>{if(r.id==n){let c=Object.keys(i[i.length-1]),l="",d="",f=r.name;c.forEach(h=>{h.includes("CAGR (%) ")?l=h:h.includes("_parent")&&(d=h)}),r.amount=this.convertToTwoDecimal(i[i.length-1][this.baseYear]),r.percent=this.convertToTwoDecimal(i[i.length-1][l]),r.open=!0,r.color="#999",this.regions.amount=this.convertToTwoDecimal(i[i.length-1][this.baseYear]),this.regions.percent=this.convertToTwoDecimal(i[i.length-1][l]),this.treeData.open=!0,this.treeData.color="#999",r.children.forEach(h=>{if(i.forEach(u=>{let _=h.name.replace(/ /gi,"_").toLowerCase();_=_.replace(/&/gi,"and"),_=_.replace(/-/gi,"_"),_=_.replace(/,/gi,"_"),_=_.replace(/\(/gi,""),_=_.replace(/\)/gi,""),_=_.replace(/\./gi,"_"),(u[d]==h.name||u[d]==_)&&(h.amount=this.convertToTwoDecimal(u[this.baseYear]),h.percent=this.convertToTwoDecimal(u[l]),h.color="#999")}),h.children&&h.children.length){let u=f+" "+h.name;u=u.replace(/ /gi,"_").toLowerCase(),u=u.replace(/&/gi,"and"),u=u.replace(/-/gi,"_"),u=u.replace(/,/gi,"_"),u=u.replace(/\(/gi,""),u=u.replace(/\)/gi,""),u=u.replace(/\./gi,"_");const g=P.find(this.meData,["key",u+"_value"]);if(g&&g.value){let v=g.value;h.children.forEach(w=>{v.forEach(N=>{let D=w.name.replace(/ /gi,"_").toLowerCase();D=D.replace(/&/gi,"and"),D=D.replace(/-/gi,"_"),D=D.replace(/,/gi,"_"),D=D.replace(/\(/gi,""),D=D.replace(/\)/gi,""),D=D.replace(/\./gi,"_"),(N[u]==w.name||N[u]==D)&&(w.amount=this.convertToTwoDecimal(N[this.baseYear]),w.percent=this.convertToTwoDecimal(N[l]),w.color="#999",w.open=!1)})})}else h.children.forEach(v=>{v.color="#999",v.open=!1})}})}r.children&&this.changeColor(r.children)})}}convertToTwoDecimal(e){return isNaN(e)?e:parseFloat(e).toFixed(2)}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}openDroctDialog(){this.dialog.open(Wi,{width:"99%",data:{data:this.treeData,baseYear:this.baseYear,metric:this.metric},disableClose:!1}).afterClosed().subscribe(i=>{})}orgCharts(e){let n=this;var i,r;i=$,r=JSONLoop,i(function(){var c={};n.data.forEach(function(d,f){d.pid?new r(c,"id","children").findNodeById(c,d.pid,function(u,_){u?console.error(u):(delete d.pid,_.children?_.children.push(d):_.children=[d])}):(delete d.pid,Object.assign(c,d))}),n.treeData=c,n.requestMarketBreakupDataService.getMarketBreakupDataService(n.reportId,n.regions,n.treeData).subscribe(d=>{let f=[],h=[];d&&d[0]&&(h=d[0],n.regions.children.forEach((u,_)=>{n.getRegionDataSuccess(h[_],u.id)})),d&&d[1]&&(f=d[1],n.treeData.children.length==f.length&&n.treeData.children.forEach((u,_)=>{n.getSegmentDataSuccess(f[_],u.id)})),n.treeData.children.push(n.regions),n.createChart(n.treeData,0)})})}createRegions(e){this.regionData=[],e.forEach(n=>{this.regionData.push({id:n.id,name:n.region,children:n.countries})}),this.regions={id:"1",name:"Region",children:this.regionData}}changeColor(e){let n=[];e.forEach(r=>{n.push(parseInt(r.amount))});let i=Math.max(...n);e.forEach(r=>{parseInt(r.amount)==i&&(r.color="green"),r.children&&this.changeColor(r.children)})}createChart(e,n){var h,l=E.select("#dendo-container").append("svg").attr("width",800).attr("height",380).append("g").attr("transform","translate(230,5)"),d=0,f=750,u=E.tree().size([365,340]);(h=E.hierarchy(e,function(v){return v.children})).x0=182.5,h.y0=0,h.children.forEach(function _(v){v.children&&(parseInt(v.depth)>1?(v._children=v.children,v.children=null,v.data.open=!1):v.children.forEach(_))}),function g(v){var w=u(h),N=w.descendants(),D=w.descendants().slice(1),I=l.selectAll("g.node").data(N,function(s){return s.id||(s.id=++d)}),q=I.enter().append("g").attr("class","node").attr("transform",function(s){return"translate("+v.y0+","+v.x0+")"}).on("click",function p(s){s.children?(s._children=s.children,s.children=null,s.data.open=!1):(s.children=s._children,s._children=null,s.data.open=!0),g(s)});q.append("image").attr("href",function(s){return s.children||s._children?1==s.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","white").attr("text","+").attr("cursor","pointer").style("fill",function(s){return s._children?"lightsteelblue":"#fff"}).style("color","#000"),q.append("text").attr("x",function(s){return 10}).attr("dy",function(s){return s.children||s._children?"-1em":"0.5em"}).attr("text-anchor",function(s){return s.children||s._children?"end":"start"}).text(function(s){let m="";s&&s.data&&s.data.percent&&(m=s.data.percent,m=m.replace("%",""));let R="";return s.data.name&&(R=s.data.name.substring(s.data.name.indexOf("_")+1)),0==s.depth||3==s.depth&&void 0===s.data.amount?R:R+", "+s.data.amount+", "+m+"%"}).style("fill-opacity",1e-6).style("font","10px sans-serif").style("font-weight",function(s){return s.data.percent>=70?"bold":"normal"});var z=q.merge(I);z.transition().duration(f).attr("transform",function(s){return"translate("+s.y+","+s.x+")"}),z.select("image").attr("href",function(s){return s.children||s._children?1==s.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),z.select("text").style("fill-opacity",1);var H=I.exit().transition().duration(f).attr("transform",function(s){return"translate("+v.y+","+v.x+")"}).remove();H.select("circle").attr("r",1e-6),H.select("text").style("fill-opacity",1e-6);var j=l.selectAll("path.link").data(D,function(s){return s.id});function V(s,m){return`M ${s.y} ${s.x}\n            C ${(s.y+m.y)/2} ${s.x},\n              ${(s.y+m.y)/2} ${m.x},\n              ${m.y} ${m.x}`}j.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(s){return"green"==s.data.color?"2px":"1px"}).attr("stroke",function(s){return s.data.color}).attr("d",function(s){var m={x:v.x0,y:v.y0};return V(m,m)}).merge(j).transition().duration(f).attr("d",function(s){return V(s,s.parent)}),j.exit().transition().duration(f).attr("d",function(s){var m={x:v.x,y:v.y};return V(m,m)}).remove(),N.forEach(function(s){s.x0=s.x,s.y0=s.y})}(h),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(Z.n),t.Y36(ht.L),t.Y36(U.t2),t.Y36(A.e),t.Y36(L.r),t.Y36(T.gz),t.Y36(B.g),t.Y36(Xi))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-market-estimation"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ta,5),t.Gf(ea,5),t.Gf(na,5),t.Gf(ia,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:33,vars:10,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],["id","main-div",1,"row"],[1,"col-9","m8",2,"margin-bottom","20px"],[1,"down-header","container-fluid"],[1,"header-background","float-l-width"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"padding20","outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center","font-size","14px","font-weight","500"],[1,"font-weight-bold"],["id","dendo-container"],[1,"mat-caption1",2,"font-size","13px !important","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"col-3"],[1,"suggestion",3,"suggestion"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"a",7),t.NdJ("click",function(){return n.analyze()}),t._uU(9,"Analyze"),t.qZA()(),t.TgZ(10,"div",8)(11,"i",9),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(12,"i",10),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(13,"mat-card-content",11,12)(15,"div",13)(16,"p",14)(17,"span",15),t._uU(18,"Title\xa0:\xa0"),t.qZA(),t._uU(19),t.qZA()(),t.TgZ(20,"div"),t._UZ(21,"div",16),t.TgZ(22,"p",17)(23,"span",15),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()(),t.TgZ(26,"div",18),t._UZ(27,"img",null,19)(29,"a",null,20),t.qZA()(),t.TgZ(31,"div",21),t._UZ(32,"app-hardcoded-suggestions",22),t.qZA()()()()),2&e&&(t.xp6(5),t.lnq("Market Breakup, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] "),t.xp6(14),t.xDo(" Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"], Base Year: ",n.baseYear," (",n.metric,") "),t.xp6(13),t.Q6J("suggestion",t.DdM(9,aa)))},directives:[F.dn,X],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.3);display:block;padding:10px 20px 0}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{width:50%;margin:auto}.accordion[_ngcontent-%COMP%]{margin:20px inherit}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-top:20px}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}.tabular2[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.mat-raised-button[_ngcontent-%COMP%]{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.margin-20-bottom[_ngcontent-%COMP%]{margin-bottom:20px}p[_ngcontent-%COMP%]{padding-left:15px}.table-caption[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.mat-caption1[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}#dendo-container[_ngcontent-%COMP%]{margin-left:-100px}@media screen and (min-width: 600px) and (max-width: 1000px){#dendo-container[_ngcontent-%COMP%]{width:auto;overflow:scroll;margin-left:0}#main-div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.suggestion[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.3);padding:10px 20px 0;width:460px;height:480px;display:flex;flex-wrap:wrap;overflow:scroll;margin-left:13px}}"]}),a})();const ra=["screenPie"],sa=["screenBar"],ca=["screenImg"],la=["canvas"],da=["downloadLink"];let pa=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.reportService=i,this.authService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{console.log("error",n)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?html2canvas(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?html2canvas(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&html2canvas(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"definition"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Definition, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=P.uniq(this.emptyList)}),this.emptyList=P.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(L.r),t.Y36(A.e),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-definition"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ra,5),t.Gf(sa,5),t.Gf(ca,5),t.Gf(la,5),t.Gf(da,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[ct],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const ga=["screenPie"],ha=["screenBar"],ma=["screenImg"],ua=["canvas"],_a=["downloadLink"];let fa=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.reportService=i,this.authService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.localStorageService.get(O.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"takeways"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Key takeaways, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=P.uniq(this.emptyList)}),this.emptyList=P.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}ngAfterViewInit(){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(L.r),t.Y36(A.e),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-key-takeaways"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ga,5),t.Gf(ha,5),t.Gf(ma,5),t.Gf(ua,5),t.Gf(_a,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[ct],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const va=["screenPie"],Ca=["screenBar"],xa=["screenImg"],ba=["canvas"],wa=["downloadLink"];let ya=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.reportService=i,this.reportSectionService=r,this.spinner=c,this.authService=l,this.localStorageService=d,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.localStorageService.get(O.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?html2canvas(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?html2canvas(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&html2canvas(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"assumptions"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"List of assumptions, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=P.uniq(this.emptyList)}),this.emptyList=P.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(A.e),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-list-of-assumptions"]],viewQuery:function(e,n){if(1&e&&(t.Gf(va,5),t.Gf(Ca,5),t.Gf(xa,5),t.Gf(ba,5),t.Gf(wa,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[ct],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Ma=["screenPie"],Oa=["screenBar"],Pa=["screenImg"],Ta=["canvas"],ka=["downloadLink"];let Sa=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.localStorageService.get(O.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"insights"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Market insights, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=P.uniq(this.emptyList)}),this.emptyList=P.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-market-insights"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ma,5),t.Gf(Oa,5),t.Gf(Pa,5),t.Gf(Ta,5),t.Gf(ka,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[ct],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Da=["screenPie"],Aa=["screenBar"],Za=["screenImg"],Ra=["canvas"],Ea=["downloadLink"];let Na=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.reportService=i,this.reportSectionService=r,this.spinner=c,this.authService=l,this.localStorageService=d,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.localStorageService.get(O.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"structure"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Market structure, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=P.uniq(this.emptyList)}),this.emptyList=P.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}ngAfterViewInit(){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(A.e),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-market-structure"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Da,5),t.Gf(Aa,5),t.Gf(Za,5),t.Gf(Ra,5),t.Gf(Ea,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[ct],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Ia=["screen"],La=["canvas"],Ua=["downloadLink"];function Ya(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadPieData()}),t.qZA()}}function qa(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadTableData()}),t.qZA()}}function Ha(a,o){if(1&a&&t._UZ(0,"img",23),2&a){const e=t.oxw(3);t.Q6J("src",e.reportData.data.imageUrl,t.LSH)}}function Ja(a,o){if(1&a&&(t.TgZ(0,"div",16,17)(2,"p",18)(3,"span",19),t._uU(4,"Title :"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",20),t.YNc(7,Ha,1,1,"img",21),t.qZA(),t.TgZ(8,"p",22)(9,"span",19),t._uU(10,"Source :"),t.qZA(),t._uU(11),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(5),t.hij("",e.reportData.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.reportData.data.imageUrl),t.xp6(4),t.hij("",e.reportData.data.metaDataValue.source," ")}}function za(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",24,17)(3,"div"),t._UZ(4,"br"),t.TgZ(5,"p",18)(6,"span",19),t._uU(7,"Title :"),t.qZA(),t._uU(8),t.qZA(),t._UZ(9,"canvas",25),t.TgZ(10,"p",22)(11,"span",19),t._uU(12,"Source :"),t.qZA(),t._uU(13),t.qZA()()()()),2&a){const e=t.oxw(2);t.xp6(8),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartData)("labels",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartLabels)("chartType",e.pieChartType)("options",e.pieChartOptions)("plugins",e.pieChartPlugins)("legend",e.pieChartLegend),t.xp6(4),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.source," ")}}function Qa(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",24)(2,"div",null,17),t._UZ(4,"br"),t.TgZ(5,"p",18)(6,"span",19),t._uU(7,"Title :"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"div",26)(10,"p",27),t._uU(11),t.qZA(),t._UZ(12,"canvas",28),t.qZA(),t.TgZ(13,"p",18),t._uU(14),t.qZA(),t.TgZ(15,"p",22)(16,"span",19),t._uU(17,"Source :"),t.qZA(),t._uU(18),t.qZA()()()()),2&a){const e=t.oxw(2);t.xp6(8),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data||null==e.reportData.data.data.metaDataValue?null:e.reportData.data.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartData)("labels",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.chartLabels)("options",e.barChartOptions)("plugins",e.barChartPlugins)("legend",e.barChartLegend)("chartType",e.barChartType),t.xp6(2),t.hij(" ",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",null==e.reportData||null==e.reportData.data||null==e.reportData.data.data?null:e.reportData.data.data.metaDataValue.source," ")}}function Ga(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",4),t.ynx(2,5),t.TgZ(3,"div",6)(4,"div",7)(5,"a",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().analyze()}),t._uU(6,"Analyze"),t.qZA()(),t.TgZ(7,"div",9)(8,"i",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().generateImage()}),t.qZA(),t.YNc(9,Ya,1,0,"i",11),t.YNc(10,qa,1,0,"i",11),t.TgZ(11,"i",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().doClose()}),t.qZA()()(),t.YNc(12,Ja,12,3,"div",13),t.YNc(13,za,14,8,"div",14),t.YNc(14,Qa,19,10,"div",14),t.BQk(),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngSwitch",null==e.reportData||null==e.reportData.data?null:e.reportData.data.type),t.xp6(7),t.Q6J("ngIf","PIE"===(null==e.reportData||null==e.reportData.data?null:e.reportData.data.type)),t.xp6(1),t.Q6J("ngIf","PIE"!==(null==e.reportData||null==e.reportData.data?null:e.reportData.data.type)),t.xp6(2),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}let Zt=(()=>{class a{constructor(e,n,i,r,c,l){this.dialogRef=e,this.reportData=n,this.excelDownloadService=i,this.toastr=r,this.routes=c,this.authService=l,this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}ngOnInit(){this.hide="IMAGE"!==this.reportData.type,this.barChartOptions.scales.xAxes[0].stacked=!1,this.barChartOptions.scales.yAxes[0].stacked=!1,window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}doClose(){this.dialogRef.close(),this.reportData={}}downLoadPieData(){this.excelDownloadService.generateExcelSheet([""],this.reportData.pieData,this.reportData.data.data.metaDataValue.title,"PIE")}downLoadTableData(){let e=this.reportData.barData,n=P.keys(e.dataStore[0]);this.excelDownloadService.generateExcelSheet(n,e.dataStore,e.title,"BAR")}analyze(){this.routes.navigateByUrl("/dashboard"),this.doClose()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(it.O),t.Y36(_t._W),t.Y36(T.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-me-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ia,5),t.Gf(La,5),t.Gf(Ua,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:6,vars:1,consts:[[4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"analyze","btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["class","btn-icon fa fa-file-excel-o",3,"click",4,"ngIf"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],["class","container-fluid float-l-width",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],[1,"container-fluid","float-l-width"],["screen",""],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"mat-caption"],[1,"responsiveImg",3,"src"],[1,"container-fluid","float-l"],["height","100","baseChart","",3,"data","labels","chartType","options","plugins","legend"],[2,"display","flex","align-items","center","width","95%"],[1,"mat-caption",2,"text-align","left"],["height","100","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.YNc(0,Ga,15,6,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",null,2)(4,"a",null,3),t.qZA()),2&e&&t.Q6J("ngIf",n.reportData)},directives:[M.O5,M.RF,M.n9,W.jh],styles:[".responsiveImg[_ngcontent-%COMP%]{width:80%;height:80%}.card-border[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right[_ngcontent-%COMP%]{float:right}.modal-container[_ngcontent-%COMP%]{width:100%!important}  .mat-dialog-container{width:100%!important;padding:0!important}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:17px 0;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}  .mat-select-value,   .mat-select-arrow,   .mat-select-placeholder{color:#fff!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.align-centers[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}"]}),a})();var yt=k(8656);let Rt=(()=>{class a{transform(e,n){let i=e;if(i.includes("CAGR (%) (")){let r=i.split("-");return r&&r.length&&(n=parseInt(n,10)+1,r[0]=r[0].replace(/\([0-9]+/,"("+n),i=r.join("-")),i}return i}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"changeTableCAGRYear",type:a,pure:!0}),a})(),Et=(()=>{class a{constructor(e){this.MarketEstimationService=e}transform(e,n){let i=e.split("_").join(" ");return e&&n.forEach(r=>{let c,l=P.find(n,["id",r.pid]);l&&(c=r.name.replace(l.name,"").replace("_","")),i==this.MarketEstimationService.replacedTxtWithSegName(r.name)&&(i=i.replace(i,c))}),i}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(ht.L,16))},a.\u0275pipe=t.Yjl({name:"giveSegmentName",type:a,pure:!0}),a})(),Nt=(()=>{class a{transform(e){let n=e;return e&&(n=e.toString().replace(/parent/g," ")),n}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"removeParent",type:a,pure:!0}),a})();const Fa=["screenPie"],ja=["screenBar"],Ba=["screenImg"],$a=["canvas"],Va=["downloadLink"];function Ka(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i,0)}),t.qZA()}}function Wa(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sendChartToWhatsApp()}),t._uU(4,"Send "),t._UZ(5,"i",20),t.qZA(),t.TgZ(6,"a",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().addSlideToPPT(i)}),t._uU(7,"PPT "),t._UZ(8,"i",21),t.qZA(),t.TgZ(9,"i",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i)}),t.qZA(),t.TgZ(10,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadPpt(i)}),t.qZA(),t.TgZ(11,"i",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downLoadPieData()}),t.qZA(),t.YNc(12,Ka,1,0,"i",25),t.qZA()(),t.TgZ(13,"div",26,27)(15,"p",28)(16,"span",29),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"canvas",30),t.TgZ(20,"p",31)(21,"span",29),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(12),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function Xa(a,o){if(1&a&&(t.TgZ(0,"div",13),t.ynx(1,14),t.YNc(2,Wa,24,10,"div",15),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","PIE")}}function to(a,o){if(1&a&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&a){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.chart_title[e])}}function eo(a,o){if(1&a&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"changeTableCAGRYear"),t.ALo(3,"giveSegmentName"),t.ALo(4,"removeParent"),t.qZA()),2&a){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,t.xi3(3,4,t.lcZ(4,7,e),n.segments),n.base_year)," ")}}function no(a,o){if(1&a&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"giveSegmentName"),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e[n],i.segments)," ")}}function io(a,o){1&a&&(t.ynx(0,43),t.YNc(1,eo,5,9,"th",44),t.YNc(2,no,3,4,"td",45),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function ao(a,o){1&a&&t._UZ(0,"tr",48)}function oo(a,o){1&a&&t._UZ(0,"tr",49)}function ro(a,o){if(1&a&&(t.TgZ(0,"div",37)(1,"p",28)(2,"span",29),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",38),t.YNc(6,io,3,1,"ng-container",39),t.YNc(7,ao,1,0,"tr",40),t.YNc(8,oo,1,0,"tr",41),t.qZA(),t.TgZ(9,"p",42)(10,"span",29),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function so(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(i,r)}),t.qZA()}}function co(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",51),t._UZ(2,"div",52),t.TgZ(3,"div",53)(4,"div",18)(5,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(6,"Send "),t._UZ(7,"i",20),t.qZA(),t.TgZ(8,"a",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(9,"PPT "),t._UZ(10,"i",21),t.qZA(),t.TgZ(11,"i",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i)}),t.qZA(),t.TgZ(12,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(13,"i",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).downLoadPieData()}),t.qZA(),t.YNc(14,so,1,0,"i",25),t.qZA()()(),t.TgZ(15,"div",26,27)(17,"p",28)(18,"span",29),t._uU(19,"Title\xa0:\xa0"),t.qZA(),t._uU(20),t.qZA(),t._UZ(21,"canvas",54),t.TgZ(22,"p",31)(23,"span",29),t._uU(24,"Source\xa0:\xa0"),t.qZA(),t._uU(25),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(14),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function lo(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(i,r)}),t.qZA()}}function po(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",17)(2,"div",55)(3,"a",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().analyze(i)}),t._uU(4,"Analyze"),t.qZA()(),t.TgZ(5,"div",18)(6,"a",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(7,"Send "),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"a",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(10,"PPT "),t._UZ(11,"i",21),t.qZA(),t.TgZ(12,"i",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i)}),t.qZA(),t.TgZ(13,"i",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(14,"i",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().downLoadTableData(i)}),t.qZA(),t.YNc(15,lo,1,0,"i",25),t.qZA()(),t.TgZ(16,"div",57,58)(18,"p",28)(19,"span",29),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"div",59)(23,"p",60),t._uU(24),t.qZA(),t._UZ(25,"canvas",61),t.qZA(),t.TgZ(26,"p",62),t._uU(27),t.qZA(),t.TgZ(28,"p",31)(29,"span",29),t._uU(30,"Source\xa0:\xa0"),t.qZA(),t._uU(31),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(15),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.chartOptions)("plugins",n.chartPlugins)("legend",n.chartLegend)("chartType",n.chartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function go(a,o){if(1&a&&t._UZ(0,"p",63),2&a){const e=t.oxw().$implicit;t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function ho(a,o){if(1&a&&(t.TgZ(0,"div",13),t.ynx(1,14),t.YNc(2,ro,13,6,"div",34),t.YNc(3,co,26,10,"div",35),t.YNc(4,po,32,11,"div",35),t.YNc(5,go,1,1,"p",36),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR"),t.xp6(1),t.Q6J("ngSwitchCase","TEXT")}}function mo(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,to,2,1,"div",33),t.YNc(2,ho,6,5,"div",6),t.qZA()),2&a){const e=o.$implicit,n=o.index;t.xp6(1),t.Q6J("ngIf",n>0),t.xp6(1),t.Q6J("ngForOf",e)}}const uo=function(){return{orderType:"driver"}};let _o=(()=>{class a{constructor(e,n,i,r,c,l,d,f,h,u,_,g,v){this.routes=e,this.dialog=n,this.authService=i,this.activatedRoutes=r,this.marketEstimationService=c,this.spinner=l,this.pptService=d,this.localStorageService=f,this.reportSectionService=h,this.sharedAnalyticsService=u,this.excelDownloadService=_,this.toastr=g,this.segmentService=v,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.allRegions=[],this.base_year="",this.start_year="",this.end_year="",this.pieChartData="",this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.allKeys=[],this.reportDataArray=[],this.selectedRegion="",this.labelX="",this.metric="",this.chart_title=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.chartOptions=x.barChartOptions,this.chartType=x.barChartType,this.chartLegend=x.barChartLegend,this.chartPlugins=x.barChartPlugins,this.chartLabels=[],this.chartData=[],this.renderBar=!1,this.colMetaData=[],this.dataStore=[],this.dataForTable=[],this.renderTable=!1,this.analyzeDataArray=[],this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.bifurcationLevel=1}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show();const e=this.activatedRoutes.snapshot.queryParams;e&&e.segmentId&&(this.paramsSegmentId=e.segmentId),this.activatedRoutes.queryParams.subscribe(n=>{if(n&&n.segmentId){this.spinner.show();const i=P.find(this.allRegions,["id",n.segmentId]);i&&(this.reportData=[],this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.onRegionSelected(i.id,i.region))}}),this.dataStore=[],this.dataForTable=[],this.colMetaData=[],this.getAPIData()}sendChartToWhatsApp(){return this.authService.showNotSubscribedMsg()}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}getAPIData(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let c=0;c<n[0].data.length&&c<2;c++)r.data.push(n[0].data[c])}this.interConnectData=r}let i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){let r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let c=0;c<i[0].data.length&&c<2;c++)r.data.push(i[0].data[c])}this.reportConnectData=r}}this.marketEstimationService.getMeData(this.reportId).subscribe(n=>{n&&n.data&&n.data.length&&(this.getReportDetailsSuccess(n),this.segments=n.data[0].me.segment),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){if(e&&e.data&&e.data.length>0&&(e.data[0].me&&e.data[0].me.geo_segment&&e.data[0].me.geo_segment.length>0&&e.data[0].me.geo_segment.forEach(n=>{this.allRegions.push(n)}),this.base_year=e.data[0].me.base_year,this.bifurcationLevel=e.data[0].me.bifurcationLevel),this.paramsSegmentId){const n=P.find(this.allRegions,["id",this.paramsSegmentId]);n&&this.onRegionSelected(n.id,n.region)}else this.spinner.hide()}onRegionSelected(e,n){this.selectedRegion=n,this.segmentService.getDataByRegion(this.reportId,e).subscribe(i=>{i&&i.data&&this.getRegionDataSuccess(i)},i=>{this.spinner.hide()})}getRegionDataSuccess(e){if(e&&(this.regionData=e),this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],e&&e.data&&e.data.length){let n;this.chart_title=[],e.data.forEach(r=>{if(r.title.includes("BY COUNTRIES")&&(n=r,n)){let d="";d=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),this.pieData={title:`${this.reportName} Market [${this.base_year}] by ${this.selectedRegion} - (${d})`,source:"Wantstats",calType:"BY_VALUE",columns:[]},this.metric=n.metric&&"Kilo Tons"==n.metric?n.metric:"USD "+(n.metric?n.metric:"Mn"),this.dataStore=[];let f="";n.rowHeaders.forEach(h=>{h.includes("%")||parseInt(h)||(f=h)}),n.value&&n.value.forEach(h=>{let u=h[this.base_year];isNaN(u)||(u=parseFloat(u).toFixed(2));let _={header:P.startCase(h[f]).split("_").join(" "),value:u},g=Object.assign({},h),v=Object.keys(g);v=v.filter(w=>w.includes("%")),v.forEach(w=>{delete g[w]}),delete Object.assign(g,{rowHeader:g[f]})[f],"Total"!=g.rowHeader&&this.pieData.columns.push(_)}),this.pieChartData=JSON.stringify(this.pieData)}if(n=r,n){let d=n.text;this.segments.forEach(h=>{let u,g,_=P.find(this.segments,["id",h.pid]);_&&h.name.includes(_.name+"_")?(g=_.name,u=h.name.replace(_.name,"").split("_").join("")):u=h.name,d.toLowerCase().includes(this.marketEstimationService.replacedTxtWithSegName(h.name.toLowerCase()))&&(u.split(" ").forEach(v=>{d=d.split(this.marketEstimationService.replacedTxtWithSegName(" "+v.toLowerCase()+" ")).join(" "+v+" ").split(g).join(""),g=""}),d=d.replace(this.reportName,this.reportName.toLowerCase()))}),n.custom_text&&(d=d+"<br><br>"+n.custom_text),this.textData={content:d},this.dataStore=[],this.dataForTable=[];let f="";if(n.value&&n.value.length&&Object.keys(n.value[0]).forEach(h=>{parseInt(h)||h.includes("%")||"undefined"!==h&&(f=h)}),n.value&&(n.value.forEach(h=>{let u=Object.assign({},h),_=Object.assign({},h),g=Object.keys(_);g=g.filter(w=>w.includes("%")),g.forEach(w=>{delete _[w]}),g=Object.keys(_),g.includes("rowHeader")||delete Object.assign(_,{rowHeader:_[f]})[f],"Total"!=_.rowHeader&&this.dataStore.push(_),Object.keys(u).forEach(w=>{isNaN(u[w])||(u[w]=parseFloat(u[w]).toFixed(2))}),this.dataForTable.push(u)}),this.colMetaData=[],this.dataStore&&this.dataStore.length)){let h={},u=this.dataStore[0];if(u){let _=Object.keys(u);this.colMetaData.push({header:this.reportName+" Market",name:"rowHeader",type:"text"});for(let g of _)this.colMetaData.push({name:g,header:g,type:"number"}),h[g]=""}}}let c=!0;if(this.dataStore&&this.dataStore.length){c=!0;for(let d of this.dataStore){let f=P.keys(d),h=!0;for(let u of f)if("rowHeader"!=u&&0!=d[u]){h=!1;break}if(0==h){c=!1;break}}}let l=this.dataStore;if(l&&l[0]&&0==c){let d=Object.keys(l[0]),f=[];this.dataForBarChart=[],l.forEach(_=>{let g=_.rowHeader.split("_").join(" ");this.segments.forEach(v=>{let w,N=P.find(this.segments,["id",v.pid]);N&&(w=v.name.replace(N.name,"").replace("_","")),g==this.marketEstimationService.replacedTxtWithSegName(v.name)&&(g=g.replace(g,w))}),f.push(g)}),d=d.filter(_=>"rowHeader"!==_),d.forEach(_=>{let g={};for(let v=0;v<f.length;v++)g[f[v]]=l[v][_];g.rowHeader=_,isNaN(g.rowHeader)||this.dataForBarChart.push(g)}),r.title.includes("BY COUNTRIES")?this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.selectedRegion):this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+this.marketEstimationService.getRegionTitle(r.title,this.segments));let h="";if(r.title.includes("BY COUNTRIES"))h=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.selectedRegion,this.tabSelected=this.selectedRegion,this.subSegmentSelected="";else{let _=this.marketEstimationService.getRegionTitle(r.title,this.segments);h=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+_,this.title=_;let v=this.title.replace(/ by /gi," by ").split(" by ");this.tabSelected=v[1],this.subSegmentSelected=v[0],"Regions"==this.tabSelected&&(this.tabSelected="Region")}this.analyzeData={reportId:this.reportId,tabSelected:this.tabSelected,subSegmentSelected:this.subSegmentSelected},this.analyzeDataArray.push(this.analyzeData);let u="";if(u=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),this.barData={title:h,source:"Wantstats",columnMetaData:this.colMetaData,dataStore:this.dataForBarChart,labelY:u},this.allKeys=[],this.dataForTable&&this.dataForTable.length){let _=Object.keys(this.dataForTable[0]);_.forEach(w=>{parseInt(w)||w.includes("%")||"undefined"!==w&&this.allKeys.push(w)}),_.forEach(w=>{"undefined"!==w&&(parseInt(w)||w.includes("CAGR (%) ("))&&this.allKeys.push(w)});let g="",v="";if(v=r.metric&&"Kilo Tons"==r.metric?r.metric:"USD "+(r.metric?r.metric:"Mn"),r.title.includes("BY COUNTRIES")?g=`${this.reportName} Market [${this.startYear} - ${this.endYear}] by ${this.selectedRegion} - (${v})`:r.title&&(g=`${this.reportName} Market [${this.startYear} - ${this.endYear}], ${this.marketEstimationService.getRegionTitle(r.title,this.segments)} - (${v})`),this.dataForTable.length&&(this.tableData={title:g,source:"Wantstats",rows:this.allKeys.length,columns:this.allKeys,dataStore:this.dataForTable}),this.textData.content){let w=this.textData.content;w=w.replace(/%%/g,"%"),this.textData.content=w}this.barChartJson.push(JSON.stringify(this.barData)),this.textDataJson.push(this.textData),this.tableDataJson.push(JSON.stringify(this.tableData))}}});let i=[{data:this.pieChartData,order_id:1,type:"PIE"}];for(let r=0;r<this.barChartJson.length;r++)this.reportDataArray.push(this.reportSectionService.convertToReportDataElement([{data:this.barChartJson[r],order_id:2,type:"BAR"},{data:this.tableDataJson[r],order_id:3,type:"TABLE"},{data:this.textDataJson[r],order_id:4,type:"TEXT"}]));this.reportData=this.reportSectionService.convertToReportDataElement(i),this.reportData&&this.reportData.length&&this.reportData[0].data&&this.reportData[0].data.chartLabels&&(this.reportData[0].data.chartLabels=this.reportData[0].data.chartLabels.map(r=>r+", "+this.metric))}this.spinner.hide(),window.scroll(0,0),this.rederBarChart()}rederBarChart(){this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.renderBar=!0}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e,n){let i={data:e,pieData:this.pieData.columns,barData:JSON.parse(this.tableDataJson[n])};this.dialog.open(Zt,{width:"99%",data:i,disableClose:!1}).afterClosed().subscribe(c=>{})}analyze(e){this.sharedAnalyticsService.data=this.analyzeDataArray[e],this.routes.navigateByUrl("/dashboard")}downLoadPieData(){this.excelDownloadService.downloadExcel({type:"PIE",data:{metaDataValue:this.pieData}})}downLoadTableData(e){let n=JSON.parse(this.tableDataJson[e]),i=P.keys(n.dataStore[0]);this.excelDownloadService.generateExcelSheet(i,n.dataStore,n.title,"BAR")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.F0),t.Y36(S.uw),t.Y36(A.e),t.Y36(T.gz),t.Y36(ht.L),t.Y36(U.t2),t.Y36(Ct._),t.Y36(Z.n),t.Y36(Y.A),t.Y36(B.g),t.Y36(it.O),t.Y36(_t._W),t.Y36(yt.B))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-me-region"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Fa,5),t.Gf(ja,5),t.Gf(Ba,5),t.Gf($a,5),t.Gf(Va,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:18,vars:8,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid margin-20-bottom",4,"ngSwitchCase"],[1,"container-fluid","margin-20-bottom"],[1,"float-l-width","header-background"],[1,"float-right"],[1,"btn-icon","ppt-btn",3,"click"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],[1,"mat-caption",2,"text-align","center","margin-top","15px","font-size","14px","font-weight","500"],[1,"font-weight-bold"],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"mat-caption",2,"font-size","13px !important","margin-top","10px"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],["class","down-header container-fluid",4,"ngIf"],["class","container-fluid over-flow",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],["class","content-p container-fluid",3,"innerHTML",4,"ngSwitchCase"],[1,"container-fluid","over-flow"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-caption",2,"font-size","13px !important","margin-top","10px"],[3,"matColumnDef"],["class","first-letter-caps","mat-header-cell","",4,"matHeaderCellDef"],["class","first-letter-caps","mat-cell","",4,"matCellDef"],["mat-header-cell","",1,"first-letter-caps"],["mat-cell","",1,"first-letter-caps"],["mat-header-row",""],["mat-row",""],[1,"container-fluid"],[1,"row","col","header-background"],[1,"col-8"],[1,"col-4","zero-padding"],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],[1,"mat-caption",2,"text-align","center"],[1,"content-p","container-fluid",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,Xa,3,2,"div",6),t.YNc(9,mo,3,2,"div",7),t.qZA()(),t._UZ(10,"div"),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-hardcoded-suggestions",9),t.qZA()()()(),t.TgZ(13,"div",10),t._UZ(14,"img",null,11)(16,"a",null,12),t.qZA()),2&e&&(t.xp6(6),t.HOy("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] By ",n.selectedRegion,""),t.xp6(2),t.Q6J("ngForOf",n.reportData),t.xp6(1),t.Q6J("ngForOf",n.reportDataArray),t.xp6(3),t.Q6J("suggestion",t.DdM(7,uo)))},directives:[M.sg,M.RF,M.n9,M.O5,W.jh,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,X],pipes:[Rt,Et,Nt],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.card-border{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border{border:0!important}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.desc{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-year-conatiner{position:relative}.outer-year-conatiner .year-container{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner .center{text-align:center}.align-center{color:#0000008a;align-items:center}.tabular2{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading{font-weight:500;font-size:15px;margin:5px 0}.listing{padding:0;list-style:none;display:flex;margin:0}.listing li{margin:0 10px}.mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer{padding-bottom:20px}div.comment-item{outline:none}.conponent-table{width:100%}.my-sidebar{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg{border:1px solid #ddd;border-radius:4px;padding:5px;width:500px}.responsiveImg:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div th.mat-header-cell:first-of-type,.seprator-div td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div th.mat-header-cell:last-of-type,.seprator-div td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div tr.mat-header-row{height:20px!important}.seprator-div tr.mat-row{height:32px!important}.main-container{padding:0}.border{border:1px solid #00000033}.margin-20-bottom{margin-bottom:20px}p{padding-left:15px}.table-caption{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.first-letter-caps{text-transform:capitalize}.over-flow{overflow-x:auto}.purchase-notification{border:2px solid black;padding:2px;font-size:1.2em;font-weight:700;text-align:center}\n"],encapsulation:2}),a})();var fo=k(7271);let vo=(()=>{class a{transform(e){let n=e;return e&&(n=e.toString().replace(/_/g," ")),n}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"replaceUnderscoreWithSpace",type:a,pure:!0}),a})();const Co=["screenPie"],xo=["screenBar"],bo=["screenImg"],wo=["canvas"],yo=["downloadLink"];function Mo(a,o){if(1&a&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&a){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.chart_title[e])}}function Oo(a,o){if(1&a&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"changeTableCAGRYear"),t.ALo(3,"giveSegmentName"),t.ALo(4,"removeParent"),t.qZA()),2&a){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,t.xi3(3,4,t.lcZ(4,7,e),n.segments),n.base_year)," ")}}function Po(a,o){if(1&a&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"giveSegmentName"),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e[n],i.segments)," ")}}function To(a,o){1&a&&(t.ynx(0,27),t.YNc(1,Oo,5,9,"th",28),t.YNc(2,Po,3,4,"td",29),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function ko(a,o){1&a&&t._UZ(0,"tr",32)}function So(a,o){1&a&&t._UZ(0,"tr",33)}function Do(a,o){if(1&a&&(t.TgZ(0,"div",19)(1,"p",20)(2,"span",21),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",22),t.YNc(6,To,3,1,"ng-container",23),t.YNc(7,ko,1,0,"tr",24),t.YNc(8,So,1,0,"tr",25),t.qZA(),t.TgZ(9,"p",26)(10,"span",21),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",null==e||null==e.data?null:e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function Ao(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(i,r)}),t.qZA()}}function Zo(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"a",37),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(4,"Send "),t._UZ(5,"i",38),t.qZA(),t.TgZ(6,"a",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(7,"PPT "),t._UZ(8,"i",39),t.qZA(),t.TgZ(9,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i)}),t.qZA(),t.TgZ(10,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(11,"i",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().downLoadTableData(i)}),t.qZA(),t.YNc(12,Ao,1,0,"i",43),t.qZA()(),t.TgZ(13,"div",44,45)(15,"p",20)(16,"span",21),t._uU(17,"Title\xa0:\xa0"),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"canvas",46),t.TgZ(20,"p",47)(21,"span",21),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(12),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("legend",n.pieChartLegend),t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function Ro(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().index;return t.oxw().openDialog(i,r)}),t.qZA()}}function Eo(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",49)(3,"a",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().analyze(i)}),t._uU(4,"Analyze"),t.qZA()(),t.TgZ(5,"div",36)(6,"a",37),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).sendChartToWhatsApp()}),t._uU(7,"Send "),t._UZ(8,"i",38),t.qZA(),t.TgZ(9,"a",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).addSlideToPPT(i)}),t._uU(10,"PPT "),t._UZ(11,"i",39),t.qZA(),t.TgZ(12,"i",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).generateImage(i)}),t.qZA(),t.TgZ(13,"i",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).downloadPpt(i)}),t.qZA(),t.TgZ(14,"i",42),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index;return t.oxw().downLoadTableData(i)}),t.qZA(),t.YNc(15,Ro,1,0,"i",43),t.qZA()(),t.TgZ(16,"div",51,52)(18,"p",20)(19,"span",21),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"div",53)(23,"p",54),t._uU(24),t.qZA(),t._UZ(25,"canvas",55),t.qZA(),t.TgZ(26,"p",56),t._uU(27),t.qZA(),t.TgZ(28,"p",47)(29,"span",21),t._uU(30,"Source\xa0:\xa0"),t.qZA(),t._uU(31),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(15),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.chartOptions)("plugins",n.chartPlugins)("legend",n.chartLegend)("chartType",n.chartType),t.xp6(2),t.hij(" ",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",null==e||null==e.data||null==e.data.metaDataValue?null:e.data.metaDataValue.source," ")}}function No(a,o){if(1&a&&t._UZ(0,"p",57),2&a){const e=t.oxw().$implicit;t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function Io(a,o){if(1&a&&(t.TgZ(0,"div",14),t.ynx(1,15),t.YNc(2,Do,13,6,"div",16),t.YNc(3,Zo,24,9,"div",17),t.YNc(4,Eo,32,11,"div",17),t.YNc(5,No,1,1,"p",18),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR"),t.xp6(1),t.Q6J("ngSwitchCase","TEXT")}}function Lo(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,Mo,2,1,"div",12),t.YNc(2,Io,6,5,"div",13),t.qZA()),2&a){const e=o.$implicit,n=o.index;t.xp6(1),t.Q6J("ngIf",n>0),t.xp6(1),t.Q6J("ngForOf",e)}}const Uo=function(){return{orderType:"driver"}};let Yo=(()=>{class a{constructor(e,n,i,r,c,l,d,f,h,u,_,g,v,w){this.routes=e,this.dialog=n,this.activatedRoutes=i,this.MarketEstimationService=r,this.spinner=c,this.pptService=l,this.whatsappService=d,this.toastr=f,this.localStorageService=h,this.reportSectionService=u,this.authService=_,this.SharedAnalyticsService=g,this.excelDownloadService=v,this.segmentService=w,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.allSegments=[],this.base_year="",this.start_year="",this.end_year="",this.pieChartData="",this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.allKeys=[],this.reportDataArray=[],this.selectedSegment="",this.labelX="",this.metric="",this.chart_title=[],this.title="",this.pieChartJson=[],this.colMetaData=[],this.dataStore=[],this.dataForTable=[],this.analyzeDataArray=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend,this.chartOptions=x.barChartOptions,this.chartType=x.barChartType,this.chartLegend=x.barChartLegend,this.chartPlugins=x.barChartPlugins,this.chartLabels=[],this.chartData=[],this.renderBar=!1,this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.bifurcationLevel=1,this.permissions=this.authService.getUserPermissions()}ngOnInit(){this.spinner.show();const e=this.activatedRoutes.snapshot.queryParams;e.phone&&this.localStorageService.set("CURRENT_USER_PHONE",e.phone),e&&e.segmentId&&(this.paramsSegmentId=e.segmentId),this.activatedRoutes.queryParams.subscribe(n=>{if(n&&n.segmentId){this.spinner.show();const i=P.find(this.allSegments,["id",n.segmentId]);i&&this.onSegementSelected(i.id,i.name)}window.scroll(0,0)}),this.dataStore=[],this.dataForTable=[],this.colMetaData=[],this.getReportDetails()}downloadPpt(e){this.pptService.downloadPPT(e)}addSlideToPPT(e){this.pptService.addSlideToPPT(e)}sendChartToWhatsApp(){if(!this.permissions.excelExport)return this.authService.showNotSubscribedMsg();this.spinner.show();const e=this.localStorageService.get("CURRENT_USER_PHONE");this.whatsappService.sendWhatsAppMessage(e).subscribe(n=>{this.spinner.hide(),this.toastr.success("Chart sent to WhatsApp successfully","Message")})}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let c=0;c<n[0].data.length&&c<2;c++)r.data.push(n[0].data[c])}this.interConnectData=r}let i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){let r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let c=0;c<i[0].data.length&&c<2;c++)r.data.push(i[0].data[c])}this.reportConnectData=r}}this.MarketEstimationService.getMeData(this.reportId).subscribe(n=>{console.log("d",n),n&&n.data&&n.data.length&&(this.getReportDetailsSuccess(n),this.segments=n.data[0].me.segment),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){if(e&&e.data&&e.data.length&&(e.data[0].me&&e.data[0].me.segment&&e.data[0].me.segment.length>0&&e.data[0].me.segment.forEach(n=>{"1"==n.pid&&this.allSegments.push(n)}),this.base_year=e.data[0].me.base_year,this.start_year=e.data[0].me.start_year,this.end_year=e.data[0].me.end_year,this.bifurcationLevel=e.data[0].me.bifurcationLevel),this.paramsSegmentId){const n=P.find(this.allSegments,["id",this.paramsSegmentId]);n&&this.onSegementSelected(n.id,n.name)}this.spinner.hide()}onSegementSelected(e,n){this.spinner.show(),this.selectedSegment=n,this.segmentService.getDataBySegment(this.reportId,e).subscribe(i=>{i&&i.data&&this.getSegmentDataSuccess(i),window.scroll(0,0)},i=>{})}getSegmentDataSuccess(e){if(e&&(this.segmentData=e),this.reportDataArray=[],this.barChartJson=[],this.textDataJson=[],this.tableDataJson=[],this.pieChartJson=[],e.data&&"object"==typeof e.data&&e.data.length){this.chart_title=[],e.data.forEach(i=>{let r="";if(r="Kilo Tons"==i.metric?i.metric:"USD "+(i.metric?i.metric:"Mn"),this.pieData={title:`${this.reportName} Market [${this.base_year}] by ${this.MarketEstimationService.getTitle(i.title,this.segments)} - (${r})`,source:"Wantstats",calType:"BY_VALUE",columns:[]},i.title.includes("BY SUB-SEGMENTS")){let f=i;if(f){this.metric=f.metric&&"Kilo Tons"==f.metric?f.metric:"USD "+(f.metric?f.metric:"Mn"),this.dataStore=[];let h="";f.rowHeaders.forEach(u=>{parseInt(u)||u.includes("%")||(h=u)}),f.value.forEach(u=>{let _=u[this.base_year];isNaN(_)||(_=parseFloat(_).toFixed(2));let g={header:u[h].split("_").join(" "),value:_},v=Object.assign({},u),w=Object.keys(v);w=w.filter(N=>N.includes("%")),w.forEach(N=>{delete v[N]}),delete Object.assign(v,{rowHeader:v[h]})[h],"Total"!=v.rowHeader&&(this.segments.forEach(N=>{let D,I=P.find(this.segments,["id",N.pid]);I&&(D=N.name.replace(I.name,"").replace("_","")),g.header==this.MarketEstimationService.replacedTxtWithSegName(N.name)&&(g.header=g.header.replace(g.header,D))}),this.pieData.columns.push(g))})}this.pieChartData=JSON.stringify(this.pieData)}else this.pieData.columns=[];let c=i;if(c){let f=c.text;this.segments.forEach(u=>{let _,g,v=P.find(this.segments,["id",u.pid]);v&&u.name.includes(v.name+"_")?(g=v.name,_=u.name.replace(v.name,"").replace("_","")):_=u.name,f.toLowerCase().includes(this.MarketEstimationService.replacedTxtWithSegName(u.name.toLowerCase()))&&(_.split(" ").forEach(w=>{f=f.split(this.MarketEstimationService.replacedTxtWithSegName(" "+w.toLowerCase()+" ")).join(" "+w+" ").split(g).join(""),g=""}),f=f.replace(this.reportName,this.reportName.toLowerCase()))}),c.custom_text&&(f=f+"<br><br>"+c.custom_text),this.textData={content:f},this.dataStore=[],this.dataForTable=[];let h="";if(c.value&&c.value.length&&Object.keys(c.value[0]).forEach(u=>{(u.includes("_")||!parseInt(u))&&(u.includes("%")||(h=u))}),c.value&&(c.value.forEach(u=>{let g=Object.assign({},u),v=Object.assign({},u),w=Object.keys(v);w=w.filter(D=>D.includes("%")),w.forEach(D=>{delete v[D]}),w=Object.keys(v),w.includes("rowHeader")||delete Object.assign(v,{rowHeader:v[h]})[h],"Total"!=v.rowHeader&&this.dataStore.push(v),Object.keys(g).forEach(D=>{isNaN(g[D])||(g[D]=parseFloat(g[D]).toFixed(2))}),this.dataForTable.push(g)}),this.colMetaData=[],this.dataStore.length)){let u={},g=Object.keys(this.dataStore[0]);this.colMetaData.push({header:this.reportName+" Market",name:"rowHeader",type:"text"});for(let v of g)this.colMetaData.push({name:v,header:v,type:"number"}),u[v]=""}}if(c&&this.dataStore.length){let f=this.dataStore,h=Object.keys(f[0]),u=[];this.dataForBarChart=[],f.forEach(_=>{let g=_.rowHeader.split("_").join(" ");this.segments.forEach(v=>{let w,N=P.find(this.segments,["id",v.pid]);N&&(w=v.name.replace(N.name,"").replace("_","")),g==this.MarketEstimationService.replacedTxtWithSegName(v.name)&&(g=g.replace(g,w))}),u.push(g)}),h=h.filter(_=>"rowHeader"!==_),h.forEach(_=>{let g={};for(let v=0;v<u.length;v++)g[u[v]]=f[v][_];g.rowHeader=_,this.dataForBarChart.push(g)})}i.title&&i.title.includes("BY SUB-SEGMENTS")?this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.MarketEstimationService.getTitle(i.title,this.segments)):i.title&&this.chart_title.push(this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+this.MarketEstimationService.getTitle(i.title,this.segments));let l="";if(i.title.includes("BY SUB-SEGMENTS"))l=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"] by "+this.MarketEstimationService.getTitle(i.title,this.segments),this.tabSelected=this.selectedSegment,this.subSegmentSelected="";else{let f=this.MarketEstimationService.getTitle(i.title,this.segments);l=this.reportName+" Market ["+this.startYear+"-"+this.endYear+"], "+f,this.title=f;let u=this.title.replace(/ by /gi," by ").split(" by ");this.tabSelected=u[1],this.subSegmentSelected=u[0],"Regions"==this.tabSelected&&(this.tabSelected="Region")}this.analyzeData={reportId:this.reportId,tabSelected:this.tabSelected,subSegmentSelected:this.subSegmentSelected},this.analyzeDataArray.push(this.analyzeData);let d="";if(d=i.metric&&"Kilo Tons"==i.metric?i.metric:"USD "+(i.metric?i.metric:"Mn"),this.barData={title:l,source:"Wantstats",columnMetaData:this.colMetaData,dataStore:this.dataForBarChart,labelY:d},this.allKeys=[],this.dataForTable&&this.dataForTable.length){let f=Object.keys(this.dataForTable[0]);f.forEach(_=>{(_.includes("_")||!parseInt(_))&&(_.includes("%")||this.allKeys.push(_))}),f.forEach(_=>{(!_.includes("_")&&parseInt(_)||_.includes("CAGR (%) ("))&&this.allKeys.push(_)});let h="";h=i.metric&&"Kilo Tons"==i.metric?i.metric:"USD "+(i.metric?i.metric:"Mn");let u="";if(i.title&&i.title.includes("BY SUB-SEGMENTS")?u=`${this.reportName} Market [${this.startYear} - ${this.endYear}] by ${this.MarketEstimationService.getTitle(i.title,this.segments)} - (${h})`:i.title&&(u=`${this.reportName} Market [${this.startYear} - ${this.endYear}], ${this.MarketEstimationService.getTitle(i.title,this.segments)} - (${h})`),u&&(this.tableData={title:u,source:"Wantstats",rows:this.allKeys.length,columns:this.allKeys,dataStore:this.dataForTable}),this.textData.content){let _=this.textData.content;_=_.replace(/%%/g,"%"),this.textData.content=_}this.pieChartJson.push(this.pieData),this.barChartJson.push(JSON.stringify(this.barData)),this.textDataJson.push(this.textData),this.tableDataJson.push(JSON.stringify(this.tableData))}});for(let i=0;i<this.barChartJson.length;i++){let r=[],c=[{data:this.barChartJson[i],order_id:2,type:"BAR"},{data:this.tableDataJson[i],order_id:3,type:"TABLE"},{data:this.textDataJson[i],order_id:4,type:"TEXT"}];this.pieChartJson[i].columns.length&&r.push({data:JSON.stringify(this.pieChartJson[i]),order_id:1,type:"PIE"}),c.forEach(l=>{r.push(l)}),this.reportDataArray.push(this.reportSectionService.convertToReportDataElement(r))}for(let i=0;i<this.reportDataArray.length;i++)this.reportDataArray[i][0].analyze=this.analyzeDataArray[i]}this.rederBarChart(),this.spinner.hide()}rederBarChart(){this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.renderBar=!0}generateImage(e){if(!this.permissions.excelExport)return this.authService.showNotSubscribedMsg();"PIE"===e.type?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"BAR"===e.type?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()}):"IMAGE"===e.type&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download=e.data.metaDataValue.title,this.downloadLink.nativeElement.click()})}openDialog(e,n){this.SharedAnalyticsService.data=this.analyzeDataArray[n],localStorage.setItem(O.cc.CURRENT_OUTPUT_CHART_AND_STATISTICS_DATA,e);const i={data:e,pieData:this.pieData.columns,barData:JSON.parse(this.tableDataJson[n])};this.dialog.open(Zt,{width:"99%",data:i,disableClose:!1}).afterClosed().subscribe(c=>{})}analyze(e){this.SharedAnalyticsService.data=this.analyzeDataArray[e],this.routes.navigateByUrl("/dashboard")}downLoadPieData(){this.excelDownloadService.downloadExcel({type:"PIE",data:{metaDataValue:this.pieData}})}downLoadTableData(e){let n=JSON.parse(this.tableDataJson[e]),i=P.keys(n.dataStore[0]);this.excelDownloadService.generateExcelSheet(i,n.dataStore,n.title,"BAR")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.F0),t.Y36(S.uw),t.Y36(T.gz),t.Y36(ht.L),t.Y36(U.t2),t.Y36(Ct._),t.Y36(fo.C),t.Y36(_t._W),t.Y36(Z.n),t.Y36(Y.A),t.Y36(A.e),t.Y36(B.g),t.Y36(it.O),t.Y36(yt.B))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-me-segments"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Co,5),t.Gf(xo,5),t.Gf(bo,5),t.Gf(wo,5),t.Gf(yo,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:18,vars:9,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["class","down-header container-fluid",4,"ngIf"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","container-fluid float-l-width over-flow",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],["class","content-p container-fluid",3,"innerHTML",4,"ngSwitchCase"],[1,"container-fluid","float-l-width","over-flow"],[1,"mat-caption",2,"text-align","center","margin-top","15px","font-size","14px","font-weight","500"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-caption",2,"font-size","13px !important","margin-top","10px"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"container-fluid"],[1,"float-l-width","header-background"],[1,"float-right"],[1,"btn-icon","ppt-btn",3,"click"],[1,"fa","fa-whatsapp"],[1,"fa","fa-plus"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid","float-l-width",2,"border","1px solid #00000033"],["screenPie",""],["baseChart","",3,"data","labels","chartType","options","plugins","legend"],[1,"mat-caption",2,"font-size","13px !important","margin-top","10px"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"float-l"],["role","button",1,"analyze",3,"click"],[1,"container-fluid","float-l-width",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],[1,"mat-caption",2,"text-align","center"],[1,"content-p","container-fluid",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.ALo(7,"replaceUnderscoreWithSpace"),t.qZA(),t.TgZ(8,"div",4),t.YNc(9,Lo,3,2,"div",6),t.qZA()(),t._UZ(10,"div"),t.qZA(),t.TgZ(11,"div",7),t._UZ(12,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(13,"div",9),t._UZ(14,"img",null,10)(16,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("Market Estimation, ",n.reportName," Market [",n.startYear," - ",n.endYear,"] By ",t.lcZ(7,6,n.selectedSegment),""),t.xp6(3),t.Q6J("ngForOf",n.reportDataArray),t.xp6(3),t.Q6J("suggestion",t.DdM(8,Uo)))},directives:[M.sg,M.O5,M.RF,M.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,W.jh,X],pipes:[vo,Rt,Et,Nt],styles:[".down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.card-border{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border{border:0!important}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.down-header{font-weight:700;margin:10px 15px;font-size:15px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-year-conatiner{position:relative}.outer-year-conatiner .year-container{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner .center{text-align:center}.align-center{color:#0000008a;align-items:center}.tabular2{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center}.sub-heading{font-weight:500;font-size:15px;margin:5px 0}.listing{padding:0;list-style:none;display:flex;margin:0}.listing li{margin:0 10px}.mat-raised-button{background:#305497;color:#fff;line-height:30px}.mat-raised-button:hover{opacity:.7}.component-renderer{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer{padding-bottom:20px}div.comment-item{outline:none}.conponent-table{width:100%}.my-sidebar{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div th.mat-header-cell:first-of-type,.seprator-div td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div th.mat-header-cell:last-of-type,.seprator-div td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);background:#305497;color:#fff}.seprator-div td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div tr.mat-header-row{height:20px!important}.seprator-div tr.mat-row{height:32px!important}.main-container{padding:0}.border{border:1px solid #00000033}.margin-20-bottom{margin-bottom:20px}p{padding-left:15px}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.table-caption{margin-top:0;margin-bottom:20px;font:400 12px/20px Roboto,Helvetica Neue,sans-serif}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.first-letter-caps{text-transform:capitalize}.over-flow{overflow-x:auto!important}.purchase-notification{border:2px solid black;padding:2px;font-size:1.2em;font-weight:700;text-align:center}\n"],encapsulation:2}),a})();var xt=k(9516);const qo=["mermaidId"],Ho=["screen"],Jo=["canvas"],zo=["downloadLink"],Qo=["callAPIDialog"];let Go=(()=>{class a{constructor(e,n,i,r,c,l){this.dialogRef=e,this.data=n,this.localStorageService=i,this.sharedAnalyticsService=r,this.routes=c,this.authService=l,this.chainType="",this.chartText="",this.output="",this.svgCode="",this.reportId="",this.portersModules=[]}ngOnInit(){this.sharedAnalyticsService.setReload(!0);const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.mermaidId.nativeElement.innerHTML=this.data.svgCode,this.chainType=this.data.chainType,window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Supply/Value chain",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}ngAfterViewInit(){xt.initialize({theme:"forest",startOnLoad:!1,securityLevel:"loose",cloneCssStyles:!0,flowchart:{htmlLabels:!1,useMaxWidth:!1}})}generateChart(){this.chartText=this.data,this.svgCode="",this.chartText||(this.chartText="graph TD;");const e=this.mermaidId.nativeElement;xt.render("graphDiv",this.chartText,(i,r)=>{e.innerHTML=i})}generateImage(){if(console.log(678),!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(B.g),t.Y36(T.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-supply-chain-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(qo,5),t.Gf(Ho,5),t.Gf(Jo,5),t.Gf(zo,5),t.Gf(Qo,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.mermaidId=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:26,vars:4,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-times",3,"click"],[1,"padding10-20","outer-conatiner1","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"align-center"],[1,"mermaid","svg-width1"],["mermaidId",""],[1,"supply-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.doClose()}),t.qZA()()(),t.TgZ(7,"mat-card-content",6,7)(9,"div",8)(10,"p",9)(11,"span",10),t._uU(12,"Title :"),t.qZA(),t._uU(13),t.qZA()(),t.TgZ(14,"div",11),t._UZ(15,"div",12,13),t.qZA(),t.TgZ(17,"p",14)(18,"span",10),t._uU(19,"Source :"),t.qZA(),t._uU(20,"Wantstats "),t.qZA()(),t.TgZ(21,"div",15),t._UZ(22,"img",null,16)(24,"a",null,17),t.qZA()),2&e&&(t.xp6(13),t.HOy("",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[F.dn],styles:[".down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.down-header{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}::ng-deep .mat-select-value,::ng-deep .mat-select-arrow,::ng-deep .mat-select-placeholder{color:#fff!important}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.outer-conatiner1{position:relative;display:block;padding:10px}.align-center{align-items:center}.source{font-size:11px}.mat-head{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.seprator-div{padding:10px 0}.center{text-align:center}foreignObject>div>span{margin:.25rem!important;text-align:justified!important}foreignObject>div>span i{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid .edgeLabel{background-color:#fff;text-align:left;opacity:1!important}.mermaid .label{padding:1rem .25rem!important}foreignObject>div,circle{padding:-10% 0!important}svg{overflow:auto!important;margin-left:auto;margin-right:auto}.svg-width1{width:auto;display:flex;align-items:center;justify-content:center;align-content:space-between;height:34vh}.vendor{font-size:14px;font-weight:500;color:#333;margin-bottom:0}::ng-deep .mat-expansion-panel-spacing{margin:16px 0!important}::ng-deep .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}::ng-deep .mat-expansion-panel-header,::ng-deep .mat-expansion-panel-body{padding:0!important}.conclusion{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.supply-caption{margin-bottom:0;padding-left:0;font-size:14px}.mat-dialog-container{padding:0}\n"],encapsulation:2}),a})();var It=k(8306),Lt=k(2843);let Fo=(()=>{class a{constructor(e){this.httpClient=e,this.serviceEndPoint="http://172.16.0.116:8081/api/supplyChainNode",this.kamleshApiServiceEndPoint="http://172.16.0.116:8081/api"}getAll(){return this.httpClient.get(this.serviceEndPoint)}save(e){return""===e._id?this.httpClient.post(this.serviceEndPoint,e):new It.y}remove(e){return this.httpClient.delete(`${this.kamleshApiServiceEndPoint}/supply/${e}`)}updateModule(e,n){return""!==e?this.httpClient.put(`${this.kamleshApiServiceEndPoint}/supply/${e}`,n):new It.y}saveSupplyChainData(e,n){const i=new gt.WM({"Content-Type":"application/json"});return this.httpClient.post(O.Ap.ES_API+`/${e}/toc`,[n],{headers:i})}getSupplyChainData(e,n,i){return this.httpClient.get(O.Ap.ES_API+"/"+e+"/toc?msid="+i+"&sid="+n)}handleError(e){return(0,Lt._)(e)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(gt.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Mt=k(4905);let Ot=(()=>{class a{constructor(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const jo=["mermaidId"],Bo=["screen"],$o=["canvas"],Vo=["downloadLink"],Ko=["callAPIDialog"];function Wo(a,o){1&a&&(t.TgZ(0,"p",28),t._uU(1,"Vendors"),t.qZA())}function Xo(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e)}}function tr(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",24),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div"),t._UZ(5,"p",25),t.qZA(),t.TgZ(6,"div"),t.YNc(7,Wo,2,0,"p",26),t.TgZ(8,"table",27),t.YNc(9,Xo,3,1,"tr",21),t.qZA()()()()),2&a){const e=o.$implicit;t.xp6(2),t.hij(" ",e.title," "),t.xp6(3),t.Q6J("innerHTML",null==e.data[0]?null:e.data[0].info,t.oJD),t.xp6(2),t.Q6J("ngIf",(null==e.data[1]?null:e.data[1].info.length)>0),t.xp6(2),t.Q6J("ngForOf",null==e.data[1]?null:e.data[1].info)}}const er=function(){return{orderType:"supplychain"}};let nr=(()=>{class a{constructor(e,n,i,r,c,l,d,f,h,u,_,g){this.supplyChainApiService=e,this.chartService=n,this.portersApiService=i,this.routes=r,this.dialog=c,this.authService=l,this.reportService=d,this.reportSectionService=f,this.spinner=h,this.localStorageService=u,this.sharedAnalyticsService=_,this.activateRoutes=g,this.modules={},this.paths=[],this.chartText="",this.output="",this.svgCode="",this.chainType="",this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]}}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download=this.chainType+", "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Supply/Value chain",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);if(this.localStorageService.get(O.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let i=this.overlaps.filter(c=>"Suuply / Value Chain Analysis"==c.section_name);if(i.length){let c={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){c.section=i[0].section_name;for(let l=0;l<i[0].data.length&&l<2;l++)c.data.push(i[0].data[l])}this.interConnectData=c}let r=this.overlaps.filter(c=>"Report"==c.section_name);if(r.length){let c={section:"",data:[]};if(r[0].data&&r[0].data.length&&r[0].section_name){c.section=r[0].section_name;for(let l=0;l<r[0].data.length&&l<2;l++)c.data.push(r[0].data[l])}this.reportConnectData=c}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{})}getReportDetailsSuccess(e){e.forEach(n=>{"supply-chain"===n.meta_info.section_key&&(this.chainType=n.meta.chain_type,this.chainType=P.upperFirst(P.toLower(this.chainType)),this.getSupplyChainDataSuccess(n.meta.data,n.content))}),this.spinner.hide()}getSupplyChainDataSuccess(e,n){this.paths=e,this.nodes=n,this.generateChart()}ngAfterViewInit(){xt.initialize({theme:"forest",startOnLoad:!1,securityLevel:"loose",cloneCssStyles:!0,flowchart:{htmlLabels:!1,useMaxWidth:!1}}),window.scrollTo(0,0)}generateChart(){let e="graph LR;";for(let r=0;r<this.paths.length;r++){let c=this.paths[r].from.title,l=this.paths[r].to.title;c=c.replace(/(.{20}[^\s]*)/g,"$1<br>"),l=l.replace(/(.{20}[^\s]*)/g,"$1<br>"),e+=this.paths[r].from.order_id+'["'+c+'"] --\x3e'+this.paths[r].to.order_id+'["'+l+'"];'}this.chartText=e,this.svgCode="",this.chartText||(this.chartText="graph TD;");const n=this.mermaidId.nativeElement;xt.render("graphDiv",this.chartText,(r,c)=>{n.innerHTML=r,this.svgCode=r,document.getElementById("graphDiv").style.maxWidth=""})}openDroctDialog(){this.dialog.open(Go,{width:"99%",data:{svgCode:this.svgCode,chainType:this.chainType},disableClose:!1}).afterClosed().subscribe(i=>{})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Fo),t.Y36(Mt.f),t.Y36(Ot),t.Y36(T.F0),t.Y36(S.uw),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n),t.Y36(B.g),t.Y36(T.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-supply-chain-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(jo,5),t.Gf(Bo,5),t.Gf($o,5),t.Gf(Vo,5),t.Gf(Ko,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.mermaidId=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:31,vars:11,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row"],[1,"col-9","m8"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"padding20","outer-year-conatiner1","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center","font-size","14px","font-weight","500"],[1,"font-weight-bold"],[1,"row","align-center",2,"height","100%"],[1,"mermaid","svg-width"],["mermaidId",""],[1,"supply-caption"],[1,"down-header"],[1,"accordion"],[4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],[1,"mat-head"],[1,"content-p",3,"innerHTML"],["class","vendor",4,"ngIf"],[1,"content-p"],[1,"vendor"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),t.NdJ("click",function(){return n.analyze()}),t._uU(7,"Analyze"),t.qZA()(),t.TgZ(8,"div",7)(9,"i",8),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(10,"i",9),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(11,"mat-card-content",10,11)(13,"div",12)(14,"p",13)(15,"span",14),t._uU(16,"Title\xa0:\xa0"),t.qZA(),t._uU(17),t.qZA()(),t.TgZ(18,"div",15),t._UZ(19,"div",16,17),t.TgZ(21,"p",18)(22,"span",14),t._uU(23,"Source\xa0:\xa0"),t.qZA(),t._uU(24,"Wantstats "),t.qZA()()(),t.TgZ(25,"div",19),t._uU(26),t.qZA(),t.TgZ(27,"div",20),t.YNc(28,tr,10,4,"div",21),t.qZA()(),t.TgZ(29,"div",22),t._UZ(30,"app-hardcoded-suggestions",23),t.qZA()()()()),2&e&&(t.xp6(17),t.HOy("",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(9),t.HOy(" ",n.chainType,", ",n.reportName," [",n.startYear," - ",n.endYear,"] "),t.xp6(2),t.Q6J("ngForOf",n.nodes),t.xp6(2),t.Q6J("suggestion",t.DdM(10,er)))},directives:[F.dn,M.sg,M.O5,X],styles:[".down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right[_ngcontent-%COMP%]{float:right}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:15px!important;text-align:justify}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:20px 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}  .mat-select-value,   .mat-select-arrow,   .mat-select-placeholder{color:#fff!important}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner1[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.1);display:block;padding:10px 20px 20px;margin-bottom:20px}.align-center[_ngcontent-%COMP%]{display:block}.source[_ngcontent-%COMP%]{font-size:11px}.mat-head[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin:5px 0 15px}.scroll-window[_ngcontent-%COMP%]{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.center[_ngcontent-%COMP%]{text-align:center}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:.25rem!important;text-align:justified!important}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid[_ngcontent-%COMP%]   .edgeLabel[_ngcontent-%COMP%]{background-color:#fff;text-align:left;opacity:1!important}.mermaid[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:1rem .25rem!important}foreignObject[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], circle[_ngcontent-%COMP%]{padding:-10% 0!important}svg[_ngcontent-%COMP%]{overflow:auto!important;margin-left:auto;margin-right:auto}.svg-width[_ngcontent-%COMP%]{width:70%!important;display:flex;align-items:center;justify-content:center;padding:15px;margin:auto}.vendor[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333;margin-bottom:0}  .mat-expansion-panel-spacing{margin:16px 0!important}  .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}  .mat-expansion-panel-header,   .mat-expansion-panel-body{padding:0!important}.conclusion[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.supply-caption[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}"]}),a})();const ir=["container1"],ar=["screen"],or=["canvas"],rr=["downloadLink"],sr=["callAPIDialog"];let cr=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialogRef=e,this.data=n,this.localStorageService=i,this.chartService=r,this.sharedAnalyticsService=c,this.routes=l,this.authService=d,this.reportId="",this.portersModules=[]}ngOnInit(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.portersModules=this.data,this.reportId=e._id,window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}ngAfterViewInit(){this.htmlElement=this.element.nativeElement,this.chartService.setup(this.htmlElement),this.chartService.populate(this.portersModules)}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}generateImage(){if(console.log(45),!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(Mt.f),t.Y36(B.g),t.Y36(T.F0),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porters-radar-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ir,5),t.Gf(ar,5),t.Gf(or,5),t.Gf(rr,5),t.Gf(sr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.element=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:31,vars:3,consts:[[1,"row","col","header-background"],[1,"col-2"],["role","button",3,"click"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"year-container"],[1,"row"],[1,"container"],["container1",""],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1)(6,"div",3),t.TgZ(7,"div",4)(8,"div",5)(9,"i",6),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(10,"i",7),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(11,"mat-card-content",8,9)(13,"div",10)(14,"p",11)(15,"span",12),t._uU(16,"Title :"),t.qZA(),t._uU(17),t.qZA(),t._UZ(18,"div",13),t.qZA(),t.TgZ(19,"div",14),t._UZ(20,"div",15,16),t.TgZ(22,"p",17)(23,"span",12),t._uU(24,"Source :"),t.qZA(),t._uU(25,"Wantstats "),t.qZA()()(),t.TgZ(26,"div",18),t._UZ(27,"img",null,19)(29,"a",null,20),t.qZA()),2&e&&(t.xp6(17),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[F.dn],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.mat-dialog-container{padding:0!important}.outer-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block}\n"],encapsulation:2}),a})();const lr=["porters"],dr=["canvas"],pr=["downloadLink"];function gr(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function hr(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function mr(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function ur(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function _r(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}let Ut=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialogRef=e,this.data=n,this.localStorageService=i,this.authService=r,this.reportService=c,this.sharedAnalyticsService=l,this.routes=d,this.threatOfNewEntrantsRating=[],this.bargainingPowerOfSuppliersRating=[],this.threatOfSubstitutesRating=[],this.bargainingPowerOfBuyersRating=[],this.segmentRivalryRating=[],this.modulesData=[{bargainingPowerOfBuyersRating:0,bargainingPowerOfSuppliersRating:0,name:"",segmentRivalryRating:0,threatOfNewEntrantsRating:0,threatOfSubstitutesRating:0}],this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.localStorageService.get(O.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(e._id,"MARKET_FACTOR_ANALYSIS").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}getReportDetailsSuccess(e){e.forEach(n=>{"porter"===n.meta_info.section_key&&(this.getPortersDataSuccess(n.meta),n.content&&(this.conclusion=n.content[0].data.content))})}getPortersDataSuccess(e){if(e&&e.data)if(this.result=e.data,this.impact=e.impact,this.result.filter(n=>{let i={name:P.upperFirst(P.toLower(n.name)),type:n.type,rating:n.rating};0!=n.rating&&("Threat of New Entrants"==n.type?this.threatOfNewEntrantsRating.push(i):"Bargaining Power of Suppliers"==n.type?this.bargainingPowerOfSuppliersRating.push(i):"Threat of Substitutes"==n.type?this.threatOfSubstitutesRating.push(i):"Bargaining Power of Buyers"==n.type?this.bargainingPowerOfBuyersRating.push(i):"Segment Rivalry"==n.type&&this.segmentRivalryRating.push(i))}),this.impact&&this.impact.length)this.impact.forEach(n=>{"Threat of New Entrants"==n.name?(this.threats=n.impact,this.modulesData[0].threatOfNewEntrantsRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Suppliers"==n.name?(this.suppliers=n.impact,this.modulesData[0].bargainingPowerOfSuppliersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Threat of Substitutes"==n.name?(this.substitutes=n.impact,this.modulesData[0].threatOfSubstitutesRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Buyers"==n.name?(this.buyers=n.impact,this.modulesData[0].bargainingPowerOfBuyersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Segment Rivalry"==n.name&&(this.segments=n.impact,this.modulesData[0].segmentRivalryRating="high"==n.impact?8:"medium"==n.impact?5:2)});else{let n=0;this.threatOfNewEntrantsRating.forEach(d=>{n+=parseInt(d.rating)}),this.modulesData[0].threatOfNewEntrantsRating=n/this.threatOfNewEntrantsRating.length;let i=0;this.bargainingPowerOfSuppliersRating.forEach(d=>{i+=parseInt(d.rating)}),this.modulesData[0].bargainingPowerOfSuppliersRating=i/this.bargainingPowerOfSuppliersRating.length;let r=0;this.bargainingPowerOfBuyersRating.forEach(d=>{r+=parseInt(d.rating)}),this.modulesData[0].bargainingPowerOfBuyersRating=r/this.bargainingPowerOfBuyersRating.length;let c=0;this.threatOfSubstitutesRating.forEach(d=>{c+=parseInt(d.rating)}),this.modulesData[0].threatOfSubstitutesRating=c/this.threatOfSubstitutesRating.length;let l=0;this.segmentRivalryRating.forEach(d=>{l+=parseInt(d.rating)}),this.modulesData[0].segmentRivalryRating=l/this.segmentRivalryRating.length,this.modulesData[0].name=this.reportName,this.portersModules=this.modulesData,this.threats=this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<=10?this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<8?"medium":"high":"low",this.suppliers=this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<=10?this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<8?"medium":"high":"low",this.segments=this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<=10?this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<8?"medium":"high":"low",this.buyers=this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<=10?this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<8?"medium":"high":"low",this.substitutes=this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<=10?this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<8?"medium":"high":"low"}}generatePortersImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.porters.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="porters.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(A.e),t.Y36(L.r),t.Y36(B.g),t.Y36(T.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porters5-diagram"]],viewQuery:function(e,n){if(1&e&&(t.Gf(lr,5),t.Gf(dr,5),t.Gf(pr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.porters=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:63,vars:22,consts:[[1,"row","col","header-background"],[1,"col-2"],["role","button",3,"click"],[1,"col-6"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-close",3,"click"],[2,"padding","10px 20px"],["porters",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"porters","porters-50"],[1,"flexer","wrapper"],[1,"block",3,"ngClass"],[1,"h6"],[1,"ul"],[4,"ngFor","ngForOf"],[1,"triangle-down",3,"ngClass"],[1,"porters","middle"],[1,"flexer"],[1,"block-v",3,"ngClass"],[1,"triangle-left",3,"ngClass"],[1,"block-o",3,"ngClass"],[1,"block-in"],[1,"triangle-right",3,"ngClass"],[1,"triangle-up",3,"ngClass"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t._UZ(4,"div",1)(5,"div",1),t.TgZ(6,"div",3)(7,"div",4)(8,"i",5),t.NdJ("click",function(){return n.generatePortersImage()}),t.qZA(),t.TgZ(9,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(10,"div",7,8)(12,"div",9)(13,"p",10)(14,"span",11),t._uU(15,"Title :"),t.qZA(),t._uU(16),t.qZA()(),t.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15),t._uU(21),t.qZA(),t.TgZ(22,"ul",16),t.YNc(23,gr,2,1,"li",17),t.qZA()(),t._UZ(24,"div",18),t.qZA()(),t.TgZ(25,"div",19)(26,"div",20)(27,"div",21)(28,"h6",15),t._uU(29),t.qZA(),t.TgZ(30,"ul",16),t.YNc(31,hr,2,1,"li",17),t.qZA()(),t._UZ(32,"div",22),t.qZA(),t.TgZ(33,"div",23)(34,"div",24)(35,"h6",15),t._uU(36),t.qZA(),t.TgZ(37,"ul",16),t.YNc(38,mr,2,1,"li",17),t.qZA()()(),t.TgZ(39,"div",20),t._UZ(40,"div",25),t.TgZ(41,"div",21)(42,"h6",15),t._uU(43),t.qZA(),t.TgZ(44,"ul",16),t.YNc(45,ur,2,1,"li",17),t.qZA()()()(),t.TgZ(46,"div",12)(47,"div",13),t._UZ(48,"div",26),t.TgZ(49,"div",14)(50,"h6",15),t._uU(51),t.qZA(),t.TgZ(52,"ul",16),t.YNc(53,_r,2,1,"li",17),t.qZA()()()(),t.TgZ(54,"p",27)(55,"span",11),t._uU(56,"Source :"),t.qZA(),t._uU(57,"Wantstats "),t.qZA()(),t.TgZ(58,"div",28),t._UZ(59,"img",null,29)(61,"a",null,30),t.qZA()),2&e&&(t.xp6(16),t.lnq("Porter's 5 Forces, ",n.reportName," Market, [",n.startYear," - ",n.endYear,"]"),t.xp6(3),t.Q6J("ngClass","low"===n.threats?"green":"medium"===n.threats?"grey":"high"===n.threats?"red":""),t.xp6(2),t.hij("Threat of New Entrants (",n.threats,")"),t.xp6(2),t.Q6J("ngForOf",n.threatOfNewEntrantsRating),t.xp6(1),t.Q6J("ngClass","low"===n.threats?"t-down-green":"medium"===n.threats?"t-down-grey":"high"===n.threats?"t-down-red":""),t.xp6(3),t.Q6J("ngClass","low"===n.suppliers?"green":"medium"===n.suppliers?"grey":"high"===n.suppliers?"red":""),t.xp6(2),t.hij("Bargaining Power of Suppliers (",n.suppliers,")"),t.xp6(2),t.Q6J("ngForOf",n.bargainingPowerOfSuppliersRating),t.xp6(1),t.Q6J("ngClass","low"===n.suppliers?"t-left-green":"medium"===n.suppliers?"t-left-grey":"high"===n.suppliers?"t-left-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.segments?"green":"medium"===n.segments?"grey":"high"===n.segments?"red":""),t.xp6(3),t.hij("Segment Rivalry (",n.segments,")"),t.xp6(2),t.Q6J("ngForOf",n.segmentRivalryRating),t.xp6(2),t.Q6J("ngClass","low"===n.buyers?"t-right-green":"medium"===n.buyers?"t-right-grey":"high"===n.buyers?"t-right-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.buyers?"green":"medium"===n.buyers?"grey":"high"===n.buyers?"red":""),t.xp6(2),t.hij("Bargaining Power of Buyers (",n.buyers,")"),t.xp6(2),t.Q6J("ngForOf",n.bargainingPowerOfBuyersRating),t.xp6(3),t.Q6J("ngClass","low"===n.substitutes?"t-up-green":"medium"===n.substitutes?"t-up-grey":"high"===n.substitutes?"t-up-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.substitutes?"green":"medium"===n.substitutes?"grey":"high"===n.substitutes?"red":""),t.xp6(2),t.hij("Threat of Substitutes (",n.substitutes,")"),t.xp6(2),t.Q6J("ngForOf",n.threatOfSubstitutesRating))},directives:[M.mk,M.sg],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;font-size:15px}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:15px!important;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0}.porters[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.porters[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{width:60%;height:19vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center;overflow-y:auto}.porters[_ngcontent-%COMP%]   .block-v[_ngcontent-%COMP%]{width:50%;height:20vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center;overflow-y:auto}.porters[_ngcontent-%COMP%]   .block-o[_ngcontent-%COMP%]{width:24%;height:31vh;border-radius:50%;background:transparent;margin:10px 0;display:flex;align-items:center;justify-content:center;overflow:auto}.middle[_ngcontent-%COMP%]{align-items:center;justify-content:center}.triangle-left[_ngcontent-%COMP%]{height:0;width:0;border-left:3vw solid transparent;border-right:0px solid transparent;border-bottom:15vh solid transparent;border-top:15vh solid transparent}.triangle-right[_ngcontent-%COMP%]{height:0;width:0;border-right:3vw solid transparent;border-left:0px solid transparent;border-bottom:15vh solid transparent;border-top:15vh solid transparent}.triangle-down[_ngcontent-%COMP%]{height:0;width:0;border-top:3vw solid transparent;border-bottom:0px solid transparent;border-right:20vh solid transparent;border-left:20vh solid transparent}.triangle-up[_ngcontent-%COMP%]{height:0;width:0;border-bottom:3vw solid transparent;border-top:0px solid transparent;border-right:20vh solid transparent;border-left:20vh solid transparent}.flexer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.porters-50[_ngcontent-%COMP%]{width:30%;margin:auto}.block-in[_ngcontent-%COMP%]{width:80%;height:20vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.h6[_ngcontent-%COMP%]{margin:10px;font-size:10px;font-weight:500;color:#fff;text-align:center;display:flex;align-items:center}.ul[_ngcontent-%COMP%]{padding:0 5px 0 10px;list-style:none;font-size:12px;color:#fff;font-weight:100}.ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px}.green[_ngcontent-%COMP%]{background:green!important}.grey[_ngcontent-%COMP%]{background:gray!important}.t-left-green[_ngcontent-%COMP%]{border-left:3vw solid green!important}.t-left-grey[_ngcontent-%COMP%]{border-left:3vw solid gray!important}.t-left-red[_ngcontent-%COMP%]{border-left:3vw solid red!important}.t-right-green[_ngcontent-%COMP%]{border-right:3vw solid green!important}.t-right-grey[_ngcontent-%COMP%]{border-right:3vw solid gray!important}.t-right-red[_ngcontent-%COMP%]{border-right:3vw solid red!important}.t-down-green[_ngcontent-%COMP%]{border-top:3vw solid green!important}.t-down-grey[_ngcontent-%COMP%]{border-top:3vw solid gray!important}.t-down-red[_ngcontent-%COMP%]{border-top:3vw solid red!important}.t-up-green[_ngcontent-%COMP%]{border-bottom:3vw solid green!important}.t-up-grey[_ngcontent-%COMP%]{border-bottom:3vw solid gray!important}.t-up-red[_ngcontent-%COMP%]{border-bottom:3vw solid red!important}.flexer[_ngcontent-%COMP%]{width:250px}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000001a;border-radius:0}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;box-shadow:inset 0 0 6px #0000001a}"]}),a})();const fr=["screen"],vr=["canvas"],Cr=["downloadLink"];let xr=(()=>{class a{constructor(e,n,i,r){this.dialogRef=e,this.data=n,this.localStorageService=i,this.authService=r,this.finalObject=[]}ngOnInit(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.types=this.data.types,this.data&&(this.sectionName=this.data[0].name),this.generateTrees(),window.scroll(0,0),this.permissions=this.authService.getUserPermissions()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Chart.png",this.downloadLink.nativeElement.click()})}generateTrees(){if(this.cnt=0,0==this.cnt){let e=this.data.length;this.cnt=(this.cnt+1+e)%e,this.renderTree(this.data[this.cnt]),this.showYear=this.data[this.cnt].year,this.cnt++,this.cnt>0&&E.interval(()=>{this.data.length>0&&(this.cnt=(this.cnt+1+e)%e,E.select("#driver-container1 svg").remove(),this.renderTree(this.data[this.cnt]),this.showYear=this.data[this.cnt].year)},1e3)}}renderTree(e){var f,c=E.select("#driver-container1").append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),l=0,h=E.tree().size([245,300]);(f=E.hierarchy(e,function(g){return g.children})).x0=122.5,f.y0=0,function _(g){var v=h(f),w=v.descendants(),N=v.descendants().slice(1),D=c.selectAll("g.node").data(w,function(p){return p.id||(p.id=++l)}),I=D.enter().append("g").attr("class","node").attr("transform",function(p){return"translate("+g.y0+","+g.x0+")"});I.append("image").attr("href",function(p){return p.children||p._children?1==p.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(p){return p._children?"lightsteelblue":"#fff"}).style("color","#000"),I.append("text").attr("x",function(p){return 10}).attr("dy",function(p){return p.children||p._children?"-1em":"0.5em"}).attr("text-anchor",function(p){return p.children||p._children?"middle":"start"}).text(function(p){return p.depth>0?p.data.rating>=4&&p.data.rating<=10?p.data.rating>=4&&p.data.rating<=7?p.data.name+" ( medium )":p.data.name+" ( high )":p.depth>0?p.data.name+" ( low )":p.data.name:p.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(p){return p.data.percent>=70?"bold":"normal"});var q=I.merge(D);q.attr("transform",function(p){return"translate("+p.y+","+p.x+")"}),q.select("image").attr("href",function(p){return p.children||p._children?p.data.rating>0?"../../assets/images/"+p.data.rating+".png":1==p.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),q.select("text").style("fill-opacity",1);var z=D.exit().attr("transform",function(p){return"translate("+g.y+","+g.x+")"}).remove();z.select("circle").attr("r",1e-6),z.select("text").style("fill-opacity",1e-6);var H=c.selectAll("path.link").data(N,function(p){return p.id});function Q(p,s){return`M ${p.y} ${p.x}\n            C ${(p.y+s.y)/2} ${p.x},\n              ${(p.y+s.y)/2} ${s.x},\n              ${s.y} ${s.x}`}H.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(p){return.5*p.data.rating+"px"}).attr("stroke",function(p){return p.data.rating>=4&&p.data.rating<=10?p.data.rating>=4&&p.data.rating<8?"#999":"red":"green"}).attr("d",function(p){var s={x:g.x0,y:g.y0};return Q(s,s)}).merge(H).attr("d",function(p){return Q(p,p.parent)}),H.exit().attr("d",function(p){var s={x:g.x,y:g.y};return Q(s,s)}).remove(),w.forEach(function(p){p.x0=p.x,p.y0=p.y})}(f)}doClose(){this.data=[],E.select("#driver-container1").selectAll("svg").remove(),this.dialogRef.close()}clickout(){this.data=[]}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porters-output-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(fr,5),t.Gf(vr,5),t.Gf(Cr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n.clickout()},!1,t.evT)},decls:29,vars:4,consts:[[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[1,"row"],["id","driver-container1"],[2,"width","100%"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"div",0),t._UZ(2,"div",1)(3,"div",1)(4,"div",1)(5,"div",2),t.TgZ(6,"div",3)(7,"div",4)(8,"i",5),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(9,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(10,"mat-card-content",7,8)(12,"div",9)(13,"p",10)(14,"span",11),t._uU(15,"Title :"),t.qZA(),t._uU(16),t.qZA()(),t.TgZ(17,"div",12),t._UZ(18,"div",13),t.TgZ(19,"div",14)(20,"p",15)(21,"span",11),t._uU(22,"Source :"),t.qZA(),t._uU(23,"Wantstats "),t.qZA()()()()(),t.TgZ(24,"div",16),t._UZ(25,"img",null,17)(27,"a",null,18),t.qZA()),2&e&&(t.xp6(16),t.HOy("",n.sectionName,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"))},directives:[F.dn],styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}  .mat-dialog-container{padding:0!important}"]}),a})();const br=["driverContainer"],wr=["screen"],yr=["canvas"],Mr=["downloadLink"],Or=["callAPIDialog"];let Pr=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.portersApiService=n,this.routes=i,this.authService=r,this.reportService=c,this.reportSectionService=l,this.localStorageService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.treeArray=[{name:"",children:[],id:""}],this.cnt=0}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(n=>{this.getReportDetailsSuccess(n)})}getReportDetailsSuccess(e){e.forEach(n=>{"porter"===n.meta_info.section_key&&this.getPortersDataSuccess(n.meta.data)})}getPortersDataSuccess(e){this.result=e,this.result.filter(n=>{n.type==this.dataType&&this.treeArray&&(this.treeArray[0].name=this.dataType,0!=n.rating&&this.treeArray[0].children.push(n))}),this.renderChart(),this.toggleDivVisibility()}toggleDivVisibility(){this.driverContainer.nativeElement.style.display=this.treeArray[0].children.length>0?"block":"none"}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()})}renderChart(){if(0==this.cnt&&(this.cnt=(this.cnt+1+this.treeArray.length)%this.treeArray.length,this.renderTree(this.treeArray[this.cnt]),this.showYear=this.treeArray[this.cnt],this.cnt++,this.cnt>0)){this.cnt=(this.cnt+1+this.treeArray.length)%this.treeArray.length;const e="#driver-container-"+this.chartId+" svg";this.treeArray[0].id=e,E.select(e).remove(),this.renderTree(this.treeArray[this.cnt]),this.showYear=this.treeArray[this.cnt]}}renderTree(e){var h,l=E.select("#driver-container-"+this.chartId).append("svg").attr("width",800).attr("height",260).append("g").attr("transform","translate(100,5)"),d=0,u=E.tree().size([245,300]);(h=E.hierarchy(e,function(v){return v.children})).x0=122.5,h.y0=0,function g(v){var w=u(h),N=w.descendants(),D=w.descendants().slice(1),I=l.selectAll("g.node").data(N,function(m){return m.id||(m.id=++d)}),q=I.enter().append("g").attr("class","node").attr("transform",function(m){return"translate("+v.y0+","+v.x0+")"});q.append("image").attr("href",function(m){return m.children||m._children?1==m.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}).attr("x",-5).attr("x",-5).attr("y",-10).attr("width",20).attr("height",20).attr("stroke","black").attr("fill","black").attr("text","+").style("fill",function(m){return m._children?"lightsteelblue":"#fff"}).style("color","#000"),q.append("text").attr("x",function(m){return 10}).attr("dy",function(m){return m.children||m._children?"-1em":"0.5em"}).attr("text-anchor",function(m){return m.children||m._children?"middle":"start"}).text(function(m){return m.depth>0?m.data.rating>=4&&m.data.rating<=10?m.data.rating>=4&&m.data.rating<=7?m.data.name+" ( medium )":m.data.name+" ( high )":m.depth>0?m.data.name+" ( low )":m.data.name:m.data.name}).style("fill-opacity",1e-6).style("font","12px sans-serif").style("font-weight",function(m){return m.data.percent>=70?"bold":"normal"}).call(function s(m,R){m.each(function(){for(var G,et=E.select(this),nt=et.text().split(/\s+/).reverse(),at=[],mt=0,rt=et.attr("y"),K=parseFloat(et.attr("dy")),bt=et.text(null).append("tspan").attr("x",0).attr("y",rt).attr("dy",K+"em");G=nt.pop();)at.push(G),bt.text(at.join(" ")),bt.node().getComputedTextLength()>R&&(at.pop(),bt.text(at.join(" ")),at=[G],bt=et.append("tspan").attr("x",0).attr("y",rt).attr("dy",1*++mt+K+"em").text(G))})},380);var z=q.merge(I);z.attr("transform",function(m){return"translate("+m.y+","+m.x+")"}),z.select("image").attr("href",function(m){return m.children||m._children?m.data.rating>0?"../../assets/images/"+m.data.rating+".png":1==m.data.open?"../../assets/images/remove.png":"../../assets/images/add.png":""}),z.select("text").style("fill-opacity",1);var H=I.exit().attr("transform",function(m){return"translate("+v.y+","+v.x+")"}).remove();H.select("circle").attr("r",1e-6),H.select("text").style("fill-opacity",1e-6);var j=l.selectAll("path.link").data(D,function(m){return m.id});function V(m,R){return`M ${m.y} ${m.x}\n        C ${(m.y+R.y)/2} ${m.x},\n          ${(m.y+R.y)/2} ${R.x},\n          ${R.y} ${R.x}`}j.enter().insert("path","g").attr("class","link").attr("fill","none").attr("stroke-width",function(m){return.5*m.data.rating+"px"}).attr("stroke",function(m){return m.data.rating>=4&&m.data.rating<=10?m.data.rating>=4&&m.data.rating<8?"#999":"red":"green"}).attr("d",function(m){var R={x:v.x0,y:v.y0};return V(R,R)}).merge(j).attr("d",function(m){return V(m,m.parent)}),j.exit().attr("d",function(m){var R={x:v.x,y:v.y};return V(R,R)}).remove(),N.forEach(function(m){m.x0=m.x,m.y0=m.y})}(h)}openDroctDialog(){this.dialog.open(xr,{width:"99%",data:this.treeArray,disableClose:!1})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(Ot),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porter-driver"]],viewQuery:function(e,n){if(1&e&&(t.Gf(br,5),t.Gf(wr,5),t.Gf(yr,5),t.Gf(Mr,5),t.Gf(Or,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.driverContainer=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},inputs:{dataType:"dataType",chartId:"chartId"},decls:24,vars:5,consts:[["driverContainer",""],[1,"float-l-width","header-background"],[1,"float-right"],["title","Download Chart",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"outer-year-conatiner","float-l-width"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[3,"id"],[1,"mat-caption"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",null,0)(2,"div",1)(3,"div",2)(4,"i",3),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(5,"i",4),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(6,"div",5,6)(8,"div",7)(9,"p",8)(10,"span",9),t._uU(11,"Title :"),t.qZA(),t._uU(12),t.qZA()(),t.TgZ(13,"div"),t._UZ(14,"div",10),t.TgZ(15,"p",11)(16,"span",9),t._uU(17,"Source :"),t.qZA(),t._uU(18,"Wantstats "),t.qZA()()(),t.TgZ(19,"div",12),t._UZ(20,"img",null,13)(22,"a",null,14),t.qZA()()),2&e&&(t.xp6(12),t.HOy("",n.treeArray[0].name,", ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(2),t.s9C("id","driver-container-"+n.chartId))},styles:[".header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:0;padding-left:0}.analyze[_ngcontent-%COMP%]{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}"]}),a})();const Tr=["container"],kr=["screen"],Sr=["porters"],Dr=["canvas"],Ar=["downloadLink"],Zr=["callAPIDialog"];function Rr(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",45),t._uU(2),t.qZA(),t._UZ(3,"app-porter-driver",46),t.qZA()),2&a){const e=o.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("dataType",e.name)("chartId",e.id)}}function Er(a,o){if(1&a&&(t.TgZ(0,"div")(1,"p",45),t._uU(2,"Conclusion"),t.qZA(),t._UZ(3,"p",47),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("innerHTML",e.conclusion,t.oJD)}}const Nr=function(){return{orderType:"porter"}};let Ir=(()=>{class a{constructor(e,n,i,r,c,l,d,f,h,u,_){this.chartService=e,this.portersApiService=n,this.routes=i,this.authService=r,this.dialog=c,this.reportService=l,this.reportSectionService=d,this.spinner=f,this.localStorageService=h,this.sharedAnalyticsService=u,this.activateRoutes=_,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.conclusion="",this.portersModules=[],this.data=[{id:"1",name:"Threat of New Entrants",children:[]},{id:"2",name:"Bargaining Power of Suppliers",children:[]},{id:"3",name:"Threat of Substitutes",children:[]},{id:"4",name:"Bargaining Power of Buyers",children:[]},{id:"5",name:"Segment Rivalry",children:[]}],this.bargainingPowerOfBuyersRating=[],this.bargainingPowerOfSuppliersRating=[],this.segmentRivalryRating=[],this.threatOfNewEntrantsRating=[],this.threatOfSubstitutesRating=[],this.modulesData=[{bargainingPowerOfBuyersRating:0,bargainingPowerOfSuppliersRating:0,name:"",segmentRivalryRating:0,threatOfNewEntrantsRating:0,threatOfSubstitutesRating:0}],this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.permissions=this.authService.getUserPermissions(),this.spinner.show()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Porters"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let c=0;c<n[0].data.length&&c<2;c++)r.data.push(n[0].data[c])}this.interConnectData=r}let i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){let r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let c=0;c<i[0].data.length&&c<2;c++)r.data.push(i[0].data[c])}this.reportConnectData=r}}this.activateRoutes.snapshot.queryParams&&(this.activateRoutes.snapshot.queryParams.reportId&&(this.reportId=this.activateRoutes.snapshot.queryParams.reportId,this.reportService.setReportData(this.reportId)),this.activateRoutes.snapshot.queryParams.reportName&&(this.reportName=this.activateRoutes.snapshot.queryParams.reportName)),this.reportService.getSectionKeyDetials(this.reportId,"MARKET_FACTOR_ANALYSIS").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}getReportDetailsSuccess(e){e&&e.forEach(n=>{"porter"===n.meta_info.section_key&&(this.getPortersDataSuccess(n.meta),n.content&&(this.conclusion=n.content[0].data.content))}),this.spinner.hide()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Porter's 5 Forces, "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}generatePortersImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.porters.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="Porter's 5 Forces, "+this.reportName+" ["+this.startYear+"-"+this.endYear+"]",this.downloadLink.nativeElement.click()})}ngOnInit(){this.getReportDetails()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Porter's 5",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getPortersDataSuccess(e){if(e&&e.data){if(this.result=e.data,e.impact&&(this.impact=e.impact),this.result.filter(n=>{0!=n.rating&&("Threat of New Entrants"==n.type?this.threatOfNewEntrantsRating.push(n):"Bargaining Power of Suppliers"==n.type?this.bargainingPowerOfSuppliersRating.push(n):"Threat of Substitutes"==n.type?this.threatOfSubstitutesRating.push(n):"Bargaining Power of Buyers"==n.type?this.bargainingPowerOfBuyersRating.push(n):"Segment Rivalry"==n.type&&this.segmentRivalryRating.push(n))}),this.impact&&this.impact.length)this.impact.forEach(n=>{"Threat of New Entrants"==n.name?(this.threats=n.impact,this.modulesData[0].threatOfNewEntrantsRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Suppliers"==n.name?(this.suppliers=n.impact,this.modulesData[0].bargainingPowerOfSuppliersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Threat of Substitutes"==n.name?(this.substitutes=n.impact,this.modulesData[0].threatOfSubstitutesRating="high"==n.impact?8:"medium"==n.impact?5:2):"Bargaining Power of Buyers"==n.name?(this.buyers=n.impact,this.modulesData[0].bargainingPowerOfBuyersRating="high"==n.impact?8:"medium"==n.impact?5:2):"Segment Rivalry"==n.name&&(this.segments=n.impact,this.modulesData[0].segmentRivalryRating="high"==n.impact?8:"medium"==n.impact?5:2)});else{let n=0;this.threatOfNewEntrantsRating.forEach(d=>{n+=parseInt(d.rating)}),this.modulesData[0].threatOfNewEntrantsRating=n/this.threatOfNewEntrantsRating.length;let i=0;this.bargainingPowerOfSuppliersRating.forEach(d=>{i+=parseInt(d.rating)}),this.modulesData[0].bargainingPowerOfSuppliersRating=i/this.bargainingPowerOfSuppliersRating.length;let r=0;this.bargainingPowerOfBuyersRating.forEach(d=>{r+=parseInt(d.rating)}),this.modulesData[0].bargainingPowerOfBuyersRating=r/this.bargainingPowerOfBuyersRating.length;let c=0;this.threatOfSubstitutesRating.forEach(d=>{c+=parseInt(d.rating)}),this.modulesData[0].threatOfSubstitutesRating=c/this.threatOfSubstitutesRating.length;let l=0;this.segmentRivalryRating.forEach(d=>{l+=parseInt(d.rating)}),this.modulesData[0].segmentRivalryRating=l/this.segmentRivalryRating.length,this.threats=this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<=10?this.modulesData[0].threatOfNewEntrantsRating>=4&&this.modulesData[0].threatOfNewEntrantsRating<8?"medium":"high":"low",this.suppliers=this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<=10?this.modulesData[0].bargainingPowerOfSuppliersRating>=4&&this.modulesData[0].bargainingPowerOfSuppliersRating<8?"medium":"high":"low",this.segments=this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<=10?this.modulesData[0].segmentRivalryRating>=4&&this.modulesData[0].segmentRivalryRating<8?"medium":"high":"low",this.buyers=this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<=10?this.modulesData[0].bargainingPowerOfBuyersRating>=4&&this.modulesData[0].bargainingPowerOfBuyersRating<8?"medium":"high":"low",this.substitutes=this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<=10?this.modulesData[0].threatOfSubstitutesRating>=4&&this.modulesData[0].threatOfSubstitutesRating<8?"medium":"high":"low"}this.modulesData[0].name=this.reportName,this.portersModules=this.modulesData,this.htmlElement=this.element.nativeElement,this.chartService.setup(this.htmlElement),this.chartService.populate(this.portersModules)}}openDroctDialog(){this.dialog.open(cr,{width:"99%",data:this.modulesData,disableClose:!1}).afterClosed().subscribe(n=>{})}openPortersDiagramDialog(){this.dialog.open(Ut,{width:"99%",data:"",disableClose:!1}).afterClosed().subscribe(n=>{})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Mt.f),t.Y36(Ot),t.Y36(T.F0),t.Y36(A.e),t.Y36(S.uw),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n),t.Y36(B.g),t.Y36(T.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-porters-forces-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Tr,5),t.Gf(kr,5),t.Gf(Sr,5),t.Gf(Dr,5),t.Gf(Ar,5),t.Gf(Zr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.element=i.first),t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.porters=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first)}},decls:86,vars:27,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row"],[1,"col-9","m8"],[1,"down-header"],[1,"top-div"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"outer-year-conatiner","float-l-width",2,"height","370px","width","468px"],["screen",""],[1,"center"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],[2,"height","350px"],[1,"container-fluid"],["container",""],[1,"mat-caption"],[1,"sec-div"],[1,"outer-year-conatiner","float-l-width",2,"height","370px"],["porters",""],[1,"porters","porters-50"],[1,"flexer","wrapper"],[1,"block",3,"ngClass"],[1,"h6"],[1,"triangle-down",3,"ngClass"],[1,"porters","middle"],[1,"flexer"],[1,"block-v",3,"ngClass"],[1,"triangle-left",3,"ngClass"],[1,"block-o",3,"ngClass"],[1,"block-in"],[1,"triangle-right",3,"ngClass"],[1,"triangle-up",3,"ngClass"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"accordion"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-3"],[3,"suggestion"],[1,"mat-head"],[3,"dataType","chartId"],[1,"content-p",3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"div")(8,"div",6)(9,"div",7)(10,"a",8),t.NdJ("click",function(){return n.analyze()}),t._uU(11,"Analyze"),t.qZA()(),t.TgZ(12,"div",9)(13,"i",10),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(14,"i",11),t.NdJ("click",function(){return n.openDroctDialog()}),t.qZA()()(),t.TgZ(15,"div",12,13)(17,"div",14)(18,"p",15)(19,"span",16),t._uU(20,"Title\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()(),t.TgZ(22,"div",17),t._UZ(23,"div",18,19),t.TgZ(25,"p",20)(26,"span",16),t._uU(27,"Source\xa0:\xa0"),t.qZA(),t._uU(28,"Wantstats "),t.qZA()()()(),t.TgZ(29,"div",21)(30,"div",6)(31,"div",7)(32,"a",8),t.NdJ("click",function(){return n.analyze()}),t._uU(33,"Analyze"),t.qZA()(),t.TgZ(34,"div",9)(35,"i",10),t.NdJ("click",function(){return n.generatePortersImage()}),t.qZA(),t.TgZ(36,"i",11),t.NdJ("click",function(){return n.openPortersDiagramDialog()}),t.qZA()()(),t.TgZ(37,"div",22,23)(39,"div",14)(40,"p",15)(41,"span",16),t._uU(42,"Title\xa0:\xa0"),t.qZA(),t._uU(43),t.qZA()(),t.TgZ(44,"div",24)(45,"div",25)(46,"div",26)(47,"div",27),t._uU(48),t.qZA()(),t._UZ(49,"div",28),t.qZA()(),t.TgZ(50,"div",29)(51,"div",30)(52,"div",31)(53,"h6",27),t._uU(54),t.qZA()(),t._UZ(55,"div",32),t.qZA(),t.TgZ(56,"div",33)(57,"div",34)(58,"h6",27),t._uU(59),t.qZA()()(),t.TgZ(60,"div",30),t._UZ(61,"div",35),t.TgZ(62,"div",31)(63,"h6",27),t._uU(64),t.qZA()()()(),t.TgZ(65,"div",24)(66,"div",25),t._UZ(67,"div",36),t.TgZ(68,"div",26)(69,"h6",27),t._uU(70),t.qZA()()()(),t.TgZ(71,"div")(72,"p",20)(73,"span",16),t._uU(74,"Source\xa0:\xa0"),t.qZA(),t._uU(75,"Wantstats "),t.qZA()()()()(),t.TgZ(76,"div",37),t._UZ(77,"img",null,38)(79,"a",null,39),t.qZA(),t.TgZ(81,"div",40),t.YNc(82,Rr,4,3,"div",41),t.YNc(83,Er,4,1,"div",42),t.qZA()(),t.TgZ(84,"div",43),t._UZ(85,"app-hardcoded-suggestions",44),t.qZA()()()()),2&e&&(t.xp6(5),t.lnq(" Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"] "),t.xp6(16),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(22),t.lnq("Porter's 5 Forces, ",n.reportName," [",n.startYear," - ",n.endYear,"]"),t.xp6(3),t.Q6J("ngClass","low"===n.threats?"green":"medium"===n.threats?"grey":"high"===n.threats?"red":""),t.xp6(2),t.hij("Threat of New Entrants (",n.threats,")"),t.xp6(1),t.Q6J("ngClass","low"===n.threats?"t-down-green":"medium"===n.threats?"t-down-grey":"high"===n.threats?"t-down-red":""),t.xp6(3),t.Q6J("ngClass","low"===n.suppliers?"green":"medium"===n.suppliers?"grey":"high"===n.suppliers?"red":""),t.xp6(2),t.hij("Bargaining Power of Suppliers (",n.suppliers,")"),t.xp6(1),t.Q6J("ngClass","low"===n.suppliers?"t-left-green":"medium"===n.suppliers?"t-left-grey":"high"===n.suppliers?"t-left-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.segments?"green":"medium"===n.segments?"grey":"high"===n.segments?"red":""),t.xp6(3),t.hij("Segment Rivalry (",n.segments,")"),t.xp6(2),t.Q6J("ngClass","low"===n.buyers?"t-right-green":"medium"===n.buyers?"t-right-grey":"high"===n.buyers?"t-right-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.buyers?"green":"medium"===n.buyers?"grey":"high"===n.buyers?"red":""),t.xp6(2),t.hij("Bargaining Power of Buyers (",n.buyers,")"),t.xp6(3),t.Q6J("ngClass","low"===n.substitutes?"t-up-green":"medium"===n.substitutes?"t-up-grey":"high"===n.substitutes?"t-up-red":""),t.xp6(1),t.Q6J("ngClass","low"===n.substitutes?"green":"medium"===n.substitutes?"grey":"high"===n.substitutes?"red":""),t.xp6(2),t.hij("Threat of Substitutes (",n.substitutes,")"),t.xp6(12),t.Q6J("ngForOf",n.data),t.xp6(1),t.Q6J("ngIf",n.conclusion),t.xp6(2),t.Q6J("suggestion",t.DdM(26,Nr)))},directives:[M.mk,M.sg,Pr,M.O5,X],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.float-right{float:right}.content-p{font-size:15px!important}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.desc{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.align-center{color:#0000008a;align-items:center}.source{font-size:11px}.mat-head{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.center{text-align:center}foreignObject>div>span{margin:.25rem!important;text-align:justified!important}foreignObject>div>span i{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid .edgeLabel{background-color:#fff;text-align:left;opacity:1!important}.mermaid .label{padding:1rem .25rem!important}foreignObject>div,circle{padding:-10% 0!important}svg{overflow:auto!important;margin-left:auto;margin-right:auto}.vendor{font-size:14px;font-weight:500;color:#333}.mat-expansion-panel-spacing{margin:16px 0!important}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.mat-expansion-panel-header,.mat-expansion-panel-body{padding:0!important}:host,:host .container{width:100%;display:block}svg{margin:0 auto;display:block}.axis text.label{font-size:12px;font-weight:700}.company-tooltip{position:absolute;width:270px;padding:5px;font-size:.8rem;background:#cccccc;border:1px solid;border-radius:5px;pointer-events:none;color:#373a3c}.company-tooltip h3{font-size:.7rem;margin-bottom:.2rem}.company-tooltip .overall{font-style:italic;margin-bottom:.5rem}.company-tooltip .rating{font-size:.7rem}.outer-year-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block;padding:15px!important;margin-bottom:15px!important}.container-title{display:block;margin-top:16px;margin-bottom:0}.mat-card-content{margin-bottom:0}.conclusion{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.conclusion p,b{font-size:14px;font-weight:600;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.conclusion p,b{font-weight:600}.porters{width:100%;display:flex;justify-content:center}.porters .block{width:48%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.porters .block-v{width:60%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.porters .block-o{width:50%;height:12vh;border-radius:50%;background:transparent;margin:10px;display:flex;align-items:center;justify-content:center}.middle{align-items:center;justify-content:center}.triangle-left{height:0;width:0;border-left:1vw solid transparent;border-right:0px solid transparent;border-bottom:4vw solid transparent;border-top:4vw solid transparent}.triangle-right{height:0;width:0;border-right:1vw solid transparent;border-left:0px solid transparent;border-bottom:4vw solid transparent;border-top:4vw solid transparent}.triangle-down{height:0;width:0;border-top:1vw solid transparent;border-bottom:0px solid transparent;border-right:4vw solid transparent;border-left:4vw solid transparent}.triangle-up{height:0;width:0;border-bottom:1vw solid transparent;border-top:0px solid transparent;border-right:4vw solid transparent;border-left:4vw solid transparent}.flexer{display:flex;align-items:center;justify-content:center}.wrapper{flex-wrap:wrap;justify-content:center}.porters-50{width:40%;margin:auto}.block-in{width:80px;height:80px;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.h6{margin:10px;font-size:9px;font-weight:400;color:#fff;text-align:center;display:flex;align-items:center}.ul{padding:0 5px 0 10px;list-style:none;font-size:14px;color:#fff;font-weight:100}.red{background:red!important}.green{background:green!important}.grey{background:gray!important}.t-left-green{border-left:1vw solid green!important}.t-left-grey{border-left:1vw solid gray!important}.t-left-red{border-left:1vw solid red!important}.t-right-green{border-right:1vw solid green!important}.t-right-grey{border-right:1vw solid gray!important}.t-right-red{border-right:1vw solid red!important}.t-down-green{border-top:1vw solid green!important}.t-down-grey{border-top:1vw solid gray!important}.t-down-red{border-top:1vw solid red!important}.t-up-green{border-bottom:1vw solid green!important}.t-up-grey{border-bottom:1vw solid gray!important}.t-up-red{border-bottom:1vw solid red!important}.top-div{display:flex}.sec-div{margin-left:10px}@media screen and (min-width: 600px) and (max-width: 1000px){.top-div{display:flex;flex-direction:column}.sec-div{margin-left:0;height:490px;border:1px solid rgba(0,0,0,.3)}.porters .block{width:100%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.outer-year-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block;overflow-y:hidden;overflow-x:auto}}\n"],encapsulation:2}),a})();const Lr=["screenPie"],Ur=["screenBar"],Yr=["screenImg"],qr=["canvas"],Hr=["downloadLink"];let Jr=(()=>{class a{constructor(e,n,i,r,c,l,d){this.authService=e,this.dialog=n,this.routes=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.driverList=[],this.emptyList=[],this.compareList=["Drivers","Restraints","Opportunities","Challenges","Trends"],this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.spinner.show(),this.permissions=this.authService.getUserPermissions(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.localStorageService.get(O.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"MARKET_INTRODUCTION").subscribe(i=>{this.getReportDetailsSuccess(i),window.scroll(0,0)},i=>{console.log("error",i)})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length?(e.forEach(n=>{"scope"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Scope of the study, Market Introduction"}),this.emptyList.push(n.section_name),this.emptyList=P.uniq(this.emptyList)}),this.emptyList=P.remove(this.emptyList,n=>"MARKET DYNAMICS"!==n),this.compareList.forEach(n=>{let i=!1;this.emptyList=this.emptyList.filter(r=>!(!i&&r==n&&(this.driverList.push(r),i=!0,1)))})):this.routes.navigate([""]),this.spinner.hide()}OnClickDriver(e){("Drivers"===e||"Restraints"===e||"Opportunities"===e||"Challenges"===e||"Trends"===e)&&this.routes.navigate(["droctcontainer"],{queryParams:{id:this.reportId,type:e,sectKey:"MARKET_DYNAMICS"}})}ngAfterViewInit(){}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(A.e),t.Y36(S.uw),t.Y36(T.F0),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mi-market-study-of-scope"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Lr,5),t.Gf(Ur,5),t.Gf(Yr,5),t.Gf(qr,5),t.Gf(Hr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[ct],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const zr=["screenPie"],Qr=["screenBar"],Gr=["screenImg"],Fr=["canvas"],jr=["downloadLink"];function Br(a,o){if(1&a&&(t.TgZ(0,"div",16),t._UZ(1,"div",17),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",e.data,t.oJD)}}function $r(a,o){if(1&a&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Vr(a,o){if(1&a&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function Kr(a,o){1&a&&(t.ynx(0,26),t.YNc(1,$r,2,1,"th",27),t.YNc(2,Vr,2,1,"td",28),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function Wr(a,o){1&a&&t._UZ(0,"tr",31)}function Xr(a,o){1&a&&t._UZ(0,"tr",32)}function ts(a,o){if(1&a&&(t.TgZ(0,"div",18)(1,"p",19)(2,"span",20),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",21),t.YNc(6,Kr,3,1,"ng-container",22),t.YNc(7,Wr,1,0,"tr",23),t.YNc(8,Xr,1,0,"tr",24),t.qZA(),t.TgZ(9,"p",25)(10,"span",20),t._uU(11,"Source\xa0:\xa0"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function es(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function ns(a,o){if(1&a&&t._UZ(0,"img",46),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function is(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",39),t.YNc(10,es,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",41,42)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",43),t.YNc(18,ns,1,1,"img",44),t.qZA(),t.TgZ(19,"p",25)(20,"span",20),t._uU(21,"Source\xa0:\xa0"),t.qZA(),t._uU(22),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function as(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function os(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t.TgZ(9,"i",47),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().downloadExcel(i)}),t.qZA(),t.YNc(10,as,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",41,48)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",49),t.TgZ(18,"p",25)(19,"span",20),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function rs(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"i",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().openDialog(i)}),t.qZA()}}function ss(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",33),t._UZ(2,"div",34)(3,"div",34)(4,"div",34)(5,"div",35),t.TgZ(6,"div",36)(7,"div",37)(8,"i",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",39),t.YNc(10,rs,1,0,"i",40),t.qZA()()(),t.TgZ(11,"div",50,51)(13,"p",19)(14,"span",20),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",52)(18,"p",53),t._uU(19),t.qZA(),t._UZ(20,"canvas",54),t.qZA(),t.TgZ(21,"p",19),t._uU(22),t.qZA(),t.TgZ(23,"p",25)(24,"span",20),t._uU(25,"Source\xa0:\xa0"),t.qZA(),t._uU(26),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(10),t.Q6J("ngIf",!n.openD),t.xp6(6),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function cs(a,o){if(1&a&&(t.TgZ(0,"div",12),t.ynx(1,13),t.YNc(2,Br,2,1,"div",14),t.YNc(3,ts,13,6,"div",15),t.YNc(4,is,23,4,"div",15),t.YNc(5,os,22,10,"div",15),t.YNc(6,ss,27,11,"div",15),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}const ls=function(){return{orderType:"driver"}};let lt=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=c,this.localStorageService=l,this.excelDownloadService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){if(this.permissions=this.authService.getUserPermissions(),window.scroll(0,0),this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;let e=this.overlaps.filter(i=>"Drivers"==i.section_name);if(e.length){let i={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){i.section=e[0].section_name;for(let r=0;r<e[0].data.length&&r<2;r++)i.data.push(e[0].data[r])}this.interConnectData=i}let n=this.overlaps.filter(i=>"Report"==i.section_name);if(n.length){let i={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){i.section=n[0].section_name;for(let r=0;r<n[0].data.length&&r<2;r++)i.data.push(n[0].data[r])}this.reportConnectData=i}}}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}downloadExcel(e){this.excelDownloadService.downloadExcel(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(Z.n),t.Y36(it.O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-secondary-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(zr,5),t.Gf(Qr,5),t.Gf(Gr,5),t.Gf(Fr,5),t.Gf(jr,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},inputs:{secondaryOutputModel:"secondaryOutputModel"},decls:17,vars:7,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,""],[1,"down-header","container-fluid"],["class","seprator-div",4,"ngFor","ngForOf"],[1,"col-3"],[3,"suggestion"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p container-fluid",4,"ngSwitchCase"],["class","container-fluid",4,"ngSwitchCase"],[1,"content-p","container-fluid"],[3,"innerHTML"],[1,"container-fluid"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["class","btn-icon fa fa-expand","title","Full Screen",3,"click",4,"ngIf"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"responsiveImg",3,"src"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["screenPie",""],["baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,cs,7,6,"div",6),t.qZA()(),t._UZ(9,"div"),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"app-hardcoded-suggestions",8),t.qZA()()()(),t.TgZ(12,"div",9),t._UZ(13,"img",null,10)(15,"a",null,11),t.qZA()),2&e&&(t.xp6(6),t.HOy("",null==n.secondaryOutputModel?null:n.secondaryOutputModel.heading,", Competitive Landscape, ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.reportName," Market [",null==n.secondaryOutputModel?null:n.secondaryOutputModel.startYear," - ",null==n.secondaryOutputModel?null:n.secondaryOutputModel.endYear,"]"),t.xp6(2),t.Q6J("ngForOf",null==n.secondaryOutputModel?null:n.secondaryOutputModel.mainData),t.xp6(3),t.Q6J("suggestion",t.DdM(6,ls)))},directives:[M.sg,M.RF,M.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,M.O5,W.jh,X],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;font-size:15px}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:450px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding:15px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px;font-size:14px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:15px!important;text-align:justify}"]}),a})();const ds=["screenPie"],ps=["screenBar"],gs=["screenImg"],hs=["canvas"],ms=["downloadLink"];let us=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"overview"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Competitive Overivew"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-overview"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ds,5),t.Gf(ps,5),t.Gf(gs,5),t.Gf(hs,5),t.Gf(ms,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[lt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const _s=["screenPie"],fs=["screenBar"],vs=["screenImg"],Cs=["canvas"],xs=["downloadLink"];let bs=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"marketAnalysis"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Market Share/Strategy/Ranking Analysis"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-market-analysis-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_s,5),t.Gf(fs,5),t.Gf(vs,5),t.Gf(Cs,5),t.Gf(xs,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[lt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const ws=["screenPie"],ys=["screenBar"],Ms=["screenImg"],Os=["canvas"],Ps=["downloadLink"];let Ts=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.show()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"devAndGrowthStrategies"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Key Developments And Growth Strategies"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-key-development-strategy-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ws,5),t.Gf(ys,5),t.Gf(Ms,5),t.Gf(Os,5),t.Gf(Ps,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[lt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const ks=["screenPie"],Ss=["screenBar"],Ds=["screenImg"],As=["canvas"],Zs=["downloadLink"];let Rs=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"newDevelopment"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"New Product/Service Development"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-new-development-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ks,5),t.Gf(Ss,5),t.Gf(Ds,5),t.Gf(As,5),t.Gf(Zs,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[lt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Es=["screenPie"],Ns=["screenBar"],Is=["screenImg"],Ls=["canvas"],Us=["downloadLink"];let Ys=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getReportDetails()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"mergerAndAquisition"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Merger & Acquisition"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-merger-and-acquisition-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Es,5),t.Gf(Ns,5),t.Gf(Is,5),t.Gf(Ls,5),t.Gf(Us,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[lt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const qs=["screenPie"],Hs=["screenBar"],Js=["screenImg"],zs=["canvas"],Qs=["downloadLink"];let Gs=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.routes=n,this.authService=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData(),window.scroll(0,0)}getAPIData(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.show()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"benchMarking"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Competitive benchmarking"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(T.F0),t.Y36(A.e),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-benchmarking-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(qs,5),t.Gf(Hs,5),t.Gf(Js,5),t.Gf(zs,5),t.Gf(Qs,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[lt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();const Fs=["screenPie"],js=["screenBar"],Bs=["screenImg"],$s=["canvas"],Vs=["downloadLink"];function Ks(a,o){if(1&a&&(t.TgZ(0,"div",8),t._UZ(1,"div",9),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",null==e?null:e.data,t.oJD)}}function Ws(a,o){if(1&a&&(t.TgZ(0,"th",20),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e," ")}}function Xs(a,o){if(1&a&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n]," ")}}function tc(a,o){1&a&&(t.ynx(0,17),t.YNc(1,Ws,2,1,"th",18),t.YNc(2,Xs,2,1,"td",19),t.BQk()),2&a&&t.s9C("matColumnDef",o.$implicit)}function ec(a,o){1&a&&t._UZ(0,"tr",22)}function nc(a,o){1&a&&t._UZ(0,"tr",23)}function ic(a,o){if(1&a&&(t.TgZ(0,"div")(1,"p",10)(2,"span",11),t._uU(3,"Title\xa0:\xa0"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"table",12),t.YNc(6,tc,3,1,"ng-container",13),t.YNc(7,ec,1,0,"tr",14),t.YNc(8,nc,1,0,"tr",15),t.qZA(),t.TgZ(9,"p",16)(10,"span",11),t._uU(11,"Source :"),t.qZA(),t._uU(12),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(4),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("dataSource",e.data.dataStore),t.xp6(1),t.Q6J("ngForOf",e.data.cols),t.xp6(1),t.Q6J("matHeaderRowDef",e.data.cols),t.xp6(1),t.Q6J("matRowDefColumns",e.data.cols),t.xp6(4),t.hij(" ",e.data.metaDataValue.source," ")}}function ac(a,o){if(1&a&&t._UZ(0,"img",36),2&a){const e=t.oxw(2).$implicit;t.Q6J("src",e.data.imageUrl,t.LSH)}}function oc(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().openDialog(i)}),t.qZA()()()(),t.TgZ(11,"div",32,33)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",34),t.YNc(18,ac,1,1,"img",35),t.qZA(),t.TgZ(19,"p",16)(20,"span",11),t._uU(21,"Source:"),t.qZA(),t._uU(22),t.qZA()()()}if(2&a){const e=t.oxw().$implicit;t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(2),t.Q6J("ngIf",e.data.imageUrl),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function rc(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().openDialog(i)}),t.qZA()()()(),t.TgZ(11,"div",32,37)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t._UZ(17,"canvas",38),t.TgZ(18,"p",16)(19,"span",11),t._uU(20,"Source\xa0:\xa0"),t.qZA(),t._uU(21),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(1),t.Q6J("data",e.data.chartData)("labels",e.data.chartLabels)("chartType",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins)("colors",n.pieChartColors)("legend",n.pieChartLegend),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function sc(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",24),t._UZ(2,"div",25)(3,"div",25)(4,"div",25)(5,"div",26),t.TgZ(6,"div",27)(7,"div",28)(8,"i",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().generateImage(i.type)}),t.qZA(),t._UZ(9,"i",30),t.TgZ(10,"i",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().openDialog(i)}),t.qZA()()()(),t.TgZ(11,"div",39,40)(13,"p",10)(14,"span",11),t._uU(15,"Title\xa0:\xa0"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"div",41)(18,"p",42),t._uU(19),t.qZA(),t._UZ(20,"canvas",43),t.qZA(),t.TgZ(21,"p",10),t._uU(22),t.qZA(),t.TgZ(23,"p",16)(24,"span",11),t._uU(25,"Source\xa0:\xa0"),t.qZA(),t._uU(26),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,n=t.oxw();t.xp6(16),t.hij("",e.data.metaDataValue.title," "),t.xp6(3),t.hij(" ",e.data.metaDataValue.labelY,""),t.xp6(1),t.Q6J("datasets",e.data.chartData)("labels",e.data.chartLabels)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",n.barChartLegend)("chartType",n.barChartType),t.xp6(2),t.hij(" ",e.data.metaDataValue.labelX,""),t.xp6(4),t.hij("",e.data.metaDataValue.source," ")}}function cc(a,o){if(1&a&&(t.TgZ(0,"div",4),t.ynx(1,5),t.YNc(2,Ks,2,1,"div",6),t.YNc(3,ic,13,6,"div",7),t.YNc(4,oc,23,3,"div",7),t.YNc(5,rc,22,9,"div",7),t.YNc(6,sc,27,10,"div",7),t.BQk(),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",null==e?null:e.type),t.xp6(1),t.Q6J("ngSwitchCase","TEXT"),t.xp6(1),t.Q6J("ngSwitchCase","TABLE"),t.xp6(1),t.Q6J("ngSwitchCase","IMAGE"),t.xp6(1),t.Q6J("ngSwitchCase","PIE"),t.xp6(1),t.Q6J("ngSwitchCase","BAR")}}let lc=(()=>{class a{constructor(e,n){this.dialog=e,this.authService=n,this.outputData=[],this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions()}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-company-shared"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Fs,5),t.Gf(js,5),t.Gf(Bs,5),t.Gf($s,5),t.Gf(Vs,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},inputs:{outputData:"outputData"},decls:6,vars:1,consts:[["class","seprator-div","id","min-div",4,"ngFor","ngForOf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["id","min-div",1,"seprator-div"],[1,"component-element-renderer",3,"ngSwitch"],["class","content-p",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"content-p"],[3,"innerHTML"],[1,"mat-caption",2,"text-align","center"],[1,"font-weight-bold"],["mat-table","",1,"conponent-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-caption"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["style","margin: 5px 8px !important;","id","min-div","mat-cell","",4,"matCellDef"],["mat-header-cell",""],["id","min-div","mat-cell","",2,"margin","5px 8px !important"],["mat-header-row",""],["mat-row",""],[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",2,"cursor","not-allowed"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"container-fluid",2,"border","1px solid #00000033"],["screenImg",""],[2,"display","flex","justify-content","center"],["class","responsiveImg",3,"src",4,"ngIf"],[1,"responsiveImg",3,"src"],["screenPie",""],["height","75","baseChart","",3,"data","labels","chartType","options","plugins","colors","legend"],[1,"container-fluid",2,"border","1px solid rgba(0,0,0,0.2)"],["screenBar",""],[2,"display","flex","align-items","center","width","98%"],[1,"mat-caption",2,"text-align","left"],["height","75","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.YNc(0,cc,7,6,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",null,2)(4,"a",null,3),t.qZA()),2&e&&t.Q6J("ngForOf",n.outputData)},directives:[M.sg,M.RF,M.n9,y.BZ,y.w1,y.fO,y.ge,y.Dz,y.ev,y.as,y.XQ,y.nj,y.Gk,M.O5,W.jh],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;font-size:15px}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:15px!important;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.BoldTextChar[_ngcontent-%COMP%]{font-weight:700!important;font-size:15px!important}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important;font-size:15px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.seprator-div[_ngcontent-%COMP%]   .TableHeader1[_ngcontent-%COMP%]{padding:5px!important}"]}),a})();const dc=["screen"],pc=["canvas"],gc=["downloadLink"];function hc(a,o){if(1&a&&(t.TgZ(0,"div",15),t._UZ(1,"canvas",16),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("datasets",e.chartData)("labels",e.chartLabels)("options",e.chartOptions)("plugins",e.chartPlugins)("legend",e.chartLegend)("chartType",e.chartType)}}let mc=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialogRef=e,this.data=n,this.localStorageService=i,this.authService=r,this.excelDownloadService=c,this.sharedAnalyticsService=l,this.routes=d,this.chartOptions=x.barChartOptions,this.chartType=x.barChartType,this.chartLegend=x.barChartLegend,this.chartPlugins=x.barChartPlugins,this.dataStore=[],this.chartLabels=[],this.chartData=[],this.render=!1,this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.currentCompany=this.data.cpName,this.renderBarChart(this.data.data),window.scroll(0,0)}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Financial overview",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard"),this.doClose()}renderBarChart(e){this.dataStore=JSON.parse(e.content);const n=this.dataStore.data.dataStore,i=P.pull(P.keys(n[0]),"rowHeader","content"),r=[];i.forEach(h=>{const u={rowHeader:h};n.forEach(_=>{u[_.rowHeader]=_[h]}),r.push(u)}),this.labelX=e.name;const c=this.labelX+"/years";this.colMetaData=[];const l=P.keys(r[0]);this.rowNames=r.map(h=>h.rowHeader),this.colMetaData.push({header:c,name:"rowHeader",type:"text"});for(let h of l)this.colMetaData.push({name:h,header:h,type:"number"}),this.labelY=e.currency+"-"+e.metric;const f=this.colMetaData.map(h=>h.name).filter(h=>"rowHeader"!=h).map(h=>{const u=r.map(_=>_[h]);return{label:h,data:u}});this.chartLabels=this.rowNames,this.chartData=f,this.chartOptions=(0,x.getChartOptions)(this.labelX,this.labelY),this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.render=!0}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="bar chart.png",this.downloadLink.nativeElement.click()})}doClose(){this.dialogRef.close()}downloadExcel(){const e=["year"];this.data.chartData.forEach(i=>{e.push(i.label)}),this.excelDownloadService.generateExcelSheet(e,this.data.excelData,this.data.title,"BAR")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.so),t.Y36(S.WI),t.Y36(Z.n),t.Y36(A.e),t.Y36(it.O),t.Y36(B.g),t.Y36(T.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-company-bar-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(dc,5),t.Gf(pc,5),t.Gf(gc,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:25,vars:5,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["title","Close",1,"btn-icon","fa","fa-close",3,"click"],[1,"main-swot","float-l-width"],["screen",""],[1,"chart-headers",2,"margin","10px"],["style","width: 100%;margin-top: 10px;",4,"ngIf"],[1,"chart-headers",2,"width","100%","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[2,"width","100%","margin-top","10px"],["baseChart","",3,"datasets","labels","options","plugins","legend","chartType"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.downloadExcel()}),t.qZA(),t.TgZ(7,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()(),t.TgZ(8,"div",7,8)(10,"mat-card-subtitle",9)(11,"span"),t._uU(12,"Title: "),t.qZA(),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.YNc(15,hc,2,6,"div",10),t.TgZ(16,"mat-card-subtitle",11)(17,"span"),t._uU(18,"Source:"),t.qZA(),t._uU(19," Wantstats "),t.qZA()(),t.TgZ(20,"div",12),t._UZ(21,"img",null,13)(23,"a",null,14),t.qZA()),2&e&&(t.xp6(13),t.AsE("",t.lcZ(14,3,n.currentCompany),", Financial Overview, ",null==n.data?null:n.data.type," "),t.xp6(2),t.Q6J("ngIf",n.render))},directives:[F.$j,M.O5,W.jh],pipes:[M.rS],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.listing[_ngcontent-%COMP%]{list-style:none;display:flex;padding:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}  .mat-dialog-container{padding:0}']}),a})();const uc=["screen"],_c=["canvas"],fc=["downloadLink"];function vc(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"/ Company revenue"),t.qZA())}function Cc(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"div",19)(2,"div",20)(3,"button",21),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().onElementSelect(r)}),t._uU(4),t.YNc(5,vc,2,0,"span",22),t.qZA()()()()}if(2&a){const e=o.$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngClass",e==n.selectData?"mat-raised-button clicked-btn":"mat-raised-button"),t.xp6(1),t.Oqu(e),t.xp6(1),t.Q6J("ngIf","By SBU"==e)}}function xc(a,o){1&a&&(t.TgZ(0,"label"),t._uU(1," / Company revenue"),t.qZA())}function bc(a,o){if(1&a&&(t.TgZ(0,"mat-card-subtitle",23)(1,"span"),t._uU(2,"Title\xa0:\xa0"),t.qZA(),t._uU(3),t.YNc(4,xc,2,0,"label",22),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.AsE("",e.currentCompany.company_name,", Financial Overview , ",e.selectData,""),t.xp6(1),t.Q6J("ngIf","By SBU"==e.selectData)}}function wc(a,o){if(1&a&&(t.TgZ(0,"div",24),t._UZ(1,"canvas",25),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("datasets",e.chartData)("labels",e.chartLabels)("options",e.chartOptions)("plugins",e.chartPlugins)("legend",e.chartLegend)("chartType",e.chartType)}}function yc(a,o){if(1&a&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.AsE("",n.currentCompany.company_name,", ",e.rowHeader,"")}}function Mc(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,yc,2,2,"div",26),t._UZ(2,"p",27),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.content),t.xp6(1),t.Q6J("innerHTML",e.content,t.oJD)}}function Oc(a,o){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,Mc,3,2,"div",22),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.textData.length)}}let Pc=(()=>{class a{constructor(e,n,i,r,c,l,d,f,h){this.localStorageService=e,this.companyProfileService=n,this.dialog=i,this.authService=r,this.pptService=c,this.excelDownloadService=l,this.sharedAnalyticsService=d,this.routes=f,this.paramRoute=h,this.bySBU=[],this.contentList=[],this.chartOptions=x.barChartOptions,this.chartType=x.barChartType,this.chartLegend=x.barChartLegend,this.chartPlugins=x.barChartPlugins,this.chartLabels=[],this.chartData=[],this.render=!1,this.byVertical=[],this.byRegion=[],this.rowNames=[],this.dataStore=[],this.textData=[],this.dialogData=[],this.reportId=""}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.getReportDetails()})}downloadPpt(e){this.pptService.downloadPPT({type:"BAR",data:{chartData:e,chartLabels:this.chartLabels,metaDataValue:{title:this.currentCompany.company_name+", Financial Overview, "+this.selectData}}})}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Financial overview",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.companyProfileService.getCompanyAllDetails(this.cmpId,"financial_overview,company_name").subscribe(e=>{e&&(this.generateData(e),this.currentCompany=e,window.scroll(0,0))})}generateData(e){e&&e.financial_overview.length&&(this.contentList=[],e.financial_overview.forEach(n=>{n.content&&JSON.parse(n.content).data&&JSON.parse(n.content).data.dataStore&&JSON.parse(n.content).data.dataStore.length&&("SBU"===n.key?(this.contentList.push("By SBU"),this.bySBU=n):"VERTICAL"===n.key?(this.contentList.push("By vertical"),this.byVertical=n):"REGIONAL"===n.key&&(this.contentList.push("By region"),this.byRegion=n))}),this.selectData=this.contentList[0],this.onElementSelect(this.selectData))}renderBarChart(e){this.dataStore=JSON.parse(e.content);const n=this.dataStore.data.dataStore,i=P.pull(P.keys(n[0]),"rowHeader","content"),r=[];i.forEach(h=>{const u={rowHeader:h};n.forEach(_=>{u[_.rowHeader]=_[h]}),r.push(u)}),this.labelX=e.name;const c=this.labelX+"/years";this.colMetaData=[];const l=P.keys(r[0]);this.rowNames=r.map(h=>h.rowHeader),this.colMetaData.push({header:c,name:"rowHeader",type:"text"});for(let h of l)this.colMetaData.push({name:h,header:h,type:"number"}),this.labelY=e.currency+"-"+e.metric;const f=this.colMetaData.map(h=>h.name).filter(h=>"rowHeader"!=h).map(h=>{const u=r.map(_=>_[h]);return{label:h,data:u}});this.chartLabels=this.rowNames,this.chartData=f,this.chartOptions=(0,x.getChartOptions)(this.labelX,this.labelY),this.chartOptions.scales.xAxes[0].stacked=!1,this.chartOptions.scales.yAxes[0].stacked=!1,this.render=!0,this.execelData=r}downloadExcel(){const e=["year"];this.chartData.forEach(i=>{e.push(i.label)}),this.excelDownloadService.generateExcelSheet(e,this.execelData,`${this.currentCompany.company_name}_${this.selectData}`,null)}onElementSelect(e){this.selectData=e,"By SBU"===this.selectData?(this.renderBarChart(this.bySBU),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.bySBU):"By vertical"===this.selectData?(this.renderBarChart(this.byVertical),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.byVertical):"By region"===this.selectData&&(this.renderBarChart(this.byRegion),this.textData=[],this.textData=this.dataStore.data.dataStore,this.dialogData=this.byRegion)}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="bar chart.png",this.downloadLink.nativeElement.click()})}openDialog(){this.dialog.open(mc,{width:"99%",data:{data:this.dialogData,chartData:this.chartData,excelData:this.execelData,cpName:this.currentCompany.company_name,type:this.selectData,title:`${this.currentCompany.company_name}_${this.selectData}`},disableClose:!1}).afterClosed().subscribe(i=>{})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z.n),t.Y36(ut.t),t.Y36(S.uw),t.Y36(A.e),t.Y36(Ct._),t.Y36(it.O),t.Y36(B.g),t.Y36(T.F0),t.Y36(T.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-financial-overview"]],viewQuery:function(e,n){if(1&e&&(t.Gf(uc,5),t.Gf(_c,5),t.Gf(fc,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:26,vars:4,consts:[[1,"listing"],[4,"ngFor","ngForOf"],[1,"header-background","float-l-width"],[1,"float-l"],["role","button",1,"btn-link","text-white",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Download PPT",1,"btn-icon","fa","fa-file-powerpoint-o",3,"click"],[1,"btn-icon","fa","fa-file-excel-o",3,"click"],["title","full screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"main-swot","main-swot-bar","float-l-width"],["screen",""],["style","margin: 10px","class","chart-headers",4,"ngIf"],["style","width: 100%;margin-top: 10px;",4,"ngIf"],[1,"chart-headers",2,"width","100%","padding","10px"],[2,"margin-top","20px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"row"],[1,"col-6","desc"],["mat-raised-button","","id","i",3,"ngClass","click"],[4,"ngIf"],[1,"chart-headers",2,"margin","10px"],[2,"width","100%","margin-top","10px"],["height","88vh","baseChart","",3,"datasets","labels","options","plugins","legend","chartType"],["class","down-header",4,"ngIf"],[2,"font-size","14px",3,"innerHTML"],[1,"down-header"]],template:function(e,n){1&e&&(t.TgZ(0,"ul",0),t.YNc(1,Cc,6,3,"li",1),t.qZA(),t.TgZ(2,"div",2)(3,"div",3)(4,"a",4),t.NdJ("click",function(){return n.analyze()}),t._uU(5,"Analyze"),t.qZA()(),t.TgZ(6,"div",5)(7,"i",6),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(8,"i",7),t.NdJ("click",function(){return n.downloadPpt(n.chartData)}),t.qZA(),t.TgZ(9,"i",8),t.NdJ("click",function(){return n.downloadExcel()}),t.qZA(),t.TgZ(10,"i",9),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(11,"div",10,11),t.YNc(13,bc,5,3,"mat-card-subtitle",12),t.YNc(14,wc,2,6,"div",13),t.TgZ(15,"mat-card-subtitle",14)(16,"span"),t._uU(17,"Source\xa0:\xa0"),t.qZA(),t._uU(18," Wantstats "),t.qZA()(),t.TgZ(19,"div",15),t.YNc(20,Oc,2,1,"div",1),t.qZA(),t.TgZ(21,"div",16),t._UZ(22,"img",null,17)(24,"a",null,18),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.contentList),t.xp6(12),t.Q6J("ngIf",n.currentCompany),t.xp6(1),t.Q6J("ngIf",n.render),t.xp6(6),t.Q6J("ngForOf",n.textData))},directives:[M.sg,M.mk,M.O5,F.$j,W.jh],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.listing[_ngcontent-%COMP%]{list-style:none;display:flex;padding:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}']}),a})();var Tc=k(2828);const kc=["screen"],Sc=["canvas"],Dc=["downloadLink"];function Ac(a,o){if(1&a&&(t.TgZ(0,"mat-card-subtitle",17)(1,"span"),t._uU(2,"Title\xa0:\xa0"),t.qZA(),t._uU(3),t.qZA()),2&a){const e=t.oxw();t.xp6(3),t.hij("",e.currentCompany.company_name,", Product/Service offering ")}}let Zc=(()=>{class a{constructor(e,n,i,r,c,l,d){this.localStorageService=e,this.companyProfileService=n,this.dialog=i,this.authService=r,this.sharedAnalyticsService=c,this.routes=l,this.paramRoute=d,this.treeData=[],this.zoom=0,this.reportId="",this.orgData=[],this.flag=0}ngOnInit(){$,$("#chart-container").empty(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId||e.companyId,this.getReportDetails()}),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"Product/Services offering",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}getReportDetails(){this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.reportId=this.currentReport._id,this.companyProfileService.getCompanyAllDetails(this.cmpId,"product_offering,company_name").subscribe(e=>{e&&(this.data=e,this.currentCompany=e,this.orgCharts(),window.scroll(0,0))})}orgCharts(){this.flag=0,this.orgData=[],$("#chart-container").empty();let e=this;var n,i;n=$,i=JSONLoop,n(function(){e.datasource={name:e.currentCompany.company_name,id:"1",parentId:null,relationship:null,level:0},e.data.product_offering.forEach(function(l,d){l.parentId?new i(e.datasource,"id","children").findNodeById(e.datasource,l.parentId,function(h,u){h?(e.flag=1,console.error(h)):(delete l.parentId,u.children?u.children.push(l):u.children=[l])}):(delete l.parentId,Object.assign(e.datasource,l))}),n("#chart-container").orgchart({data:e.datasource,chartClass:"edit-state",zoom:!0,pan:!0,parentNodeSymbol:"fa-th-large",createNode:function(l,d){e.orgData.push(d)}}),e.flag&&e.onSubmitInfo()})}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screenPie.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="product offering.png",this.downloadLink.nativeElement.click()})}openDialog(){this.dialog.open(Tc.d,{width:"99%",data:{datasource:this.datasource,company_name:this.currentCompany.company_name},disableClose:!1}).afterClosed().subscribe(i=>{})}zoomin(){this.zoom=this.zoom+1,this.zoom<=9&&(document.getElementById("chart-container").style.transform=`scale(1.${this.zoom})`)}zoomout(){this.zoom>=0&&(this.zoom=this.zoom-1,document.getElementById("chart-container").style.transform=`scale(1.${this.zoom})`)}onSubmitInfo(){this.orgData.map(e=>{e.children&&delete e.children}),this.companyProfileService.saveCompanyProductOffering(this.currentCompany._id,this.orgData).subscribe(e=>{console.log("Company Produce Offering saved successfully")},e=>{console.error("Error occured while saving Company Produce Offering")})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z.n),t.Y36(ut.t),t.Y36(S.uw),t.Y36(A.e),t.Y36(B.g),t.Y36(T.F0),t.Y36(T.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-product-offering"]],viewQuery:function(e,n){if(1&e&&(t.Gf(kc,5),t.Gf(Sc,5),t.Gf(Dc,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:26,vars:1,consts:[[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","full screen",1,"btn-icon","fa","fa-expand",3,"click"],["id","zoom",1,"main-swot","main-swot-bar","float-l-width",2,"overflow","auto","height","55vh !important"],["screen",""],["style","margin: 10px","class","chart-headers",4,"ngIf"],[1,"org-container",2,"width","100%","margin-top","10px"],["id","chart-container"],[1,"chart-headers",2,"width","100%","padding","10px"],["title","zoom in",3,"click"],["title","zoom out",3,"click"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"chart-headers",2,"margin","10px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return n.analyze()}),t._uU(3,"Analyze"),t.qZA()(),t.TgZ(4,"div",3)(5,"i",4),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(6,"i",5),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(7,"div",6,7),t.YNc(9,Ac,4,1,"mat-card-subtitle",8),t.TgZ(10,"div",9),t._UZ(11,"div",10),t.qZA(),t.TgZ(12,"mat-card-subtitle",11)(13,"span"),t._uU(14,"Source\xa0:\xa0"),t.qZA(),t._uU(15," Wantstats "),t.qZA()(),t.TgZ(16,"div")(17,"button",12),t.NdJ("click",function(){return n.zoomin()}),t._uU(18,"+"),t.qZA(),t.TgZ(19,"button",13),t.NdJ("click",function(){return n.zoomout()}),t._uU(20,"-"),t.qZA()(),t.TgZ(21,"div",14),t._UZ(22,"img",null,15)(24,"a",null,16),t.qZA()),2&e&&(t.xp6(9),t.Q6J("ngIf",n.currentCompany))},directives:[M.O5,F.$j],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.listing[_ngcontent-%COMP%]{list-style:none;display:flex;padding:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}.org-container[_ngcontent-%COMP%]{width:100%;margin-top:10px;display:flex}#chart-container[_ngcontent-%COMP%]{overflow:initial!important;width:100%!important;height:auto!important}.orgchart[_ngcontent-%COMP%]{transform:matrix(.566231,0,0,.566231,-552,-106)!important;cursor:default!important}  .orgchart .node .leftEdge,   .orgchart .node .rightEdge,   .orgchart .node .topEdge{display:none}  .orgchart{transform:matrix(.954721,0,0,.954721,-30,-40);cursor:default!important;background-image:none;display:flex}  .orgchart .node .title{background:#305497;height:25px!important;display:flex!important;align-items:center!important;padding:0 10px!important;width:auto!important}  .orgchart .node .title i{padding-right:10px}']}),a})();var Rc=k(8340);const Ec=["screen"],Nc=["canvas"],Ic=["downloadLink"];function Lc(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Uc(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Yc(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function qc(a,o){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}let Hc=(()=>{class a{constructor(e,n,i,r,c,l){this.localStorageService=e,this.dialog=n,this.routes=i,this.sharedAnalyticsService=r,this.paramRoute=c,this.authService=l,this.outputData=[],this.swotData=[],this.reportId=""}ngOnInit(){this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.currentProfile=this.outputData.company_name}),this.outputData&&this.categorizedData(this.outputData),this.permissions=this.authService.getUserPermissions()}analyze(){this.analyzeData={reportId:this.reportId,tabSelected:"SWOT",subSegmentSelected:""},this.sharedAnalyticsService.data=this.analyzeData,this.routes.navigateByUrl("/dashboard")}categorizedData(e){e.swot.map(n=>{"STRENGTH"===n.key&&(this.strength=n.value),"WEAKNESS"===n.key&&(this.weakness=n.value),"OPPORTUNITIES"===n.key&&(this.opportunity=n.value),"THREAT"===n.key&&(this.threat=n.value)})}openDialog(){this.dialog.open(Rc.A,{width:"99%",data:this.outputData,disableClose:!1}).afterClosed().subscribe(n=>{})}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(this.screen.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="swot.png",this.downloadLink.nativeElement.click()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z.n),t.Y36(S.uw),t.Y36(T.F0),t.Y36(B.g),t.Y36(T.gz),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-swot-analysis"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ec,5),t.Gf(Nc,5),t.Gf(Ic,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},inputs:{outputData:"outputData"},decls:55,vars:16,consts:[["id","scroll",1,"main-container"],[1,"row"],[1,"col-12","m8"],[1,""],[1,"down-header"],[1,"float-l-width","header-background"],[1,"float-l"],["role","button",1,"btn-link",3,"click"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"main-swot","float-l"],["screen",""],[1,"chart-headers",2,"margin","10px"],[1,"swot-container"],[1,"swot","bg1"],[4,"ngFor","ngForOf"],[1,"swot","bg2"],[1,"swot","bg3"],[1,"bg5"],[1,"swot","bg4"],[1,"chart-headers",2,"width","100%","padding","10px"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"a",7),t.NdJ("click",function(){return n.analyze()}),t._uU(13,"Analyze"),t.qZA()(),t.TgZ(14,"div",8)(15,"i",9),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(16,"i",10),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(17,"div",11,12)(19,"mat-card-subtitle",13)(20,"span"),t._uU(21,"Title\xa0:\xa0"),t.qZA(),t._uU(22),t.ALo(23,"titlecase"),t.qZA(),t.TgZ(24,"div",14)(25,"div",15)(26,"p"),t._uU(27,"Strength"),t.qZA(),t.TgZ(28,"ul"),t.YNc(29,Lc,2,1,"li",16),t.qZA()(),t.TgZ(30,"div",17)(31,"p"),t._uU(32,"Weakness"),t.qZA(),t.TgZ(33,"ul"),t.YNc(34,Uc,2,1,"li",16),t.qZA()(),t.TgZ(35,"div",18)(36,"p"),t._uU(37,"Opportunity"),t.qZA(),t.TgZ(38,"ul"),t.YNc(39,Yc,2,1,"li",16),t.qZA()(),t._UZ(40,"div",19),t.TgZ(41,"div",20)(42,"p"),t._uU(43,"Threat"),t.qZA(),t.TgZ(44,"ul"),t.YNc(45,qc,2,1,"li",16),t.qZA()()(),t.TgZ(46,"mat-card-subtitle",21)(47,"span"),t._uU(48,"Source\xa0:\xa0"),t.qZA(),t._uU(49," Wantstats "),t.qZA()()()()()()(),t.TgZ(50,"div",22),t._UZ(51,"img",null,23)(53,"a",null,24),t.qZA()),2&e&&(t.xp6(6),t.lnq("",n.currentReport.title," Market [",n.currentReport.me.start_year," - ",n.currentReport.me.end_year,"] "),t.xp6(2),t.hij(" ",t.lcZ(9,12,n.outputData.company_name),", SWOT Analysis "),t.xp6(14),t.HOy(" ",n.currentReport.title," Market [",n.currentReport.me.start_year," - ",n.currentReport.me.end_year,"], ",t.lcZ(23,14,n.outputData.company_name),", SWOT Analysis "),t.xp6(7),t.Q6J("ngForOf",n.strength),t.xp6(5),t.Q6J("ngForOf",n.weakness),t.xp6(5),t.Q6J("ngForOf",n.opportunity),t.xp6(6),t.Q6J("ngForOf",n.threat))},directives:[F.$j,M.sg],pipes:[M.rS],styles:['.swot-container[_ngcontent-%COMP%]{width:80%;height:50vh;background:white;display:flex;flex-wrap:wrap;margin:10px 0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]{width:50%;height:25vh;border:2px solid #fff}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:400;padding:5px;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 20px 0;list-style:none;margin:0}.swot-container[_ngcontent-%COMP%]   .swot[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:12px}.swot-container[_ngcontent-%COMP%]   .bg1[_ngcontent-%COMP%]{overflow-y:auto;background:#bf77ab;border-top-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg2[_ngcontent-%COMP%]{overflow-y:auto;background:#6cb78a;border-top-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg3[_ngcontent-%COMP%]{overflow-y:auto;background:#6ba9b4;border-bottom-left-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg4[_ngcontent-%COMP%]{overflow-y:auto;background:#86473f;border-bottom-right-radius:25px}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]{width:0;height:0}.swot-container[_ngcontent-%COMP%]   .bg5[_ngcontent-%COMP%]:after{content:"SWOT";position:absolute;width:14%;height:7vh;background:#2f5597;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:10px;font-size:20px;display:none}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.main-swot[_ngcontent-%COMP%]{display:flex;justify-content:center;border:1px solid rgba(0,0,0,.3);flex-wrap:wrap}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.chart-headers[_ngcontent-%COMP%]{font-size:12px;color:#000}.chart-headers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}']}),a})();function Jc(a,o){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",16),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().onElementSelect(r)}),t._uU(2),t.qZA(),t.BQk()}if(2&a){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",e==n.selectEle?"mat-raised-button clicked-btn":"mat-raised-button"),t.xp6(1),t.Oqu(e)}}function zc(a,o){if(1&a&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,null==e.currentCompany?null:e.currentCompany.company_name),", ",e.selectEle," ")}}function Qc(a,o){if(1&a&&(t.TgZ(0,"div")(1,"div",17),t._uU(2),t.qZA(),t.YNc(3,zc,3,4,"div",18),t.qZA()),2&a){const e=t.oxw();t.xp6(2),t.lnq("",e.currentReport.title," Market [",e.currentReport.me.start_year," - ",e.currentReport.me.end_year,"] "),t.xp6(1),t.Q6J("ngIf",e.currentCompany)}}function Gc(a,o){if(1&a&&(t.TgZ(0,"div",19),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.companyOverview)}}function Fc(a,o){1&a&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-financial-overview"),t.qZA())}function jc(a,o){1&a&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-product-offering"),t.qZA())}function Bc(a,o){if(1&a&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.keyDevelopment)}}function $c(a,o){if(1&a&&(t.TgZ(0,"div",22),t._UZ(1,"app-output-swot-analysis",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.swotData)}}function Vc(a,o){if(1&a&&(t.TgZ(0,"div",21),t._UZ(1,"app-output-company-shared",20),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("outputData",e.strategy)}}const Kc=function(a){return{orderType:"topPlayers",interConnect:a}};function Wc(a,o){if(1&a&&t._UZ(0,"app-hardcoded-suggestions",23),2&a){const e=t.oxw();t.Q6J("suggestion",t.VKq(1,Kc,e.interConnectData))}}let Xc=(()=>{class a{constructor(e,n,i,r,c,l,d,f){this.companyProfileService=e,this.localStorageService=n,this.reportSectionService=i,this.spinner=r,this.routes=c,this.paramRoute=l,this.reportService=d,this.secEdgarService=f,this.companyEleList=[],this.topCompanies=[],this.fillingConnectData=[]}ngOnInit(){if(this.currentReport=this.localStorageService.get(O.cc.CURRENT_REPORT),this.currentReport.overlaps){this.overlaps=this.currentReport.overlaps;const e=this.overlaps.filter(n=>"Report"==n.section_name);if(e.length){const n={section:"",data:[]};if(e[0].data&&e[0].data.length&&e[0].section_name){n.section=e[0].section_name;for(let i=0;i<e[0].data.length&&i<2;i++)n.data.push(e[0].data[i])}this.reportConnectData=n}}this.spinner.show(),this.paramRoute.queryParams.subscribe(e=>{this.cmpId=e.segmentId,this.getCompanyDetails(),this.getReportMenuItems(this.currentReport._id)})}getCompanyDetails(){this.spinner.show(),this.companyProfileService.getCompanyAllDetails(this.cmpId,"financial_overview,company_name,product_offering").subscribe(e=>{this.getReportSpecificCPdetails(),this.generateList(e),this.currentCompany=e,window.scroll(0,0),this.spinner.hide()})}onElementSelect(e){this.selectEle=e,window.scroll(0,0)}generateList(e){if(e){const n=e;n.financial_overview&&n.financial_overview.length&&n.financial_overview.forEach(i=>{i&&i.content&&JSON.parse(i.content)&&JSON.parse(i.content).data&&JSON.parse(i.content).data.dataStore&&JSON.parse(i.content).data.dataStore.length&&(this.companyEleList.push("Financial overview"),this.companyEleList=P.uniq(this.companyEleList))}),n.product_offering&&n.product_offering.length>1&&this.companyEleList.push("Product/Service offering")}else this.routes.navigate(["output-company-profile"]);this.selectEle=this.companyEleList[0],this.spinner.hide()}getReportSpecificCPdetails(){this.companyEleList=[],this.reportService.getRportCpData(this.currentReport._id).subscribe(e=>{e.data.cp&&e.data.cp.length&&e.data.cp.forEach(n=>{if(n.company_id===this.cmpId&&n.company_overview&&n.company_overview.length&&(this.companyOverview=this.reportSectionService.convertToReportDataElement(n.company_overview),this.companyEleList.push("Company overview")),n.company_id===this.cmpId&&n.swot_analysis&&n.swot_analysis.length){const i=P.flatMap(n.swot_analysis,"value");i&&i.length&&(this.swotData={swot:n.swot_analysis,company_name:this.currentCompany.company_name},this.companyEleList.push("SWOT analysis"))}n.company_id===this.cmpId&&n.strategy&&n.strategy.length&&(this.strategy=this.reportSectionService.convertToReportDataElement(n.strategy),this.companyEleList.push("Strategy")),n.company_id===this.cmpId&&n.key_development&&n.key_development.length&&(this.keyDevelopment=this.reportSectionService.convertToReportDataElement(n.key_development),this.companyEleList.push("Key development"))}),this.selectEle||(this.selectEle=this.companyEleList[0])})}getReportMenuItems(e){this.reportService.getReportMenuItems(e).subscribe(n=>{n&&n.data&&n.data.finalMenuData&&n.data.finalMenuData.length&&(this.appItems=n.data.finalMenuData,this.appItems.forEach(i=>{"Top Players"==i.label&&i.segmentItems.forEach(r=>{if(r.id!=this.cmpId){const c={_id:r.id,section:"Top Players",name:r.name};this.topCompanies.length<5&&this.topCompanies.push(c)}})}),this.interConnectData={data:this.topCompanies,section:"topPlayers"},this.checkAllTopPlayers(this.topCompanies))})}checkAllTopPlayers(e){e.forEach(n=>{this.secEdgarService.getSearchResult(void 0,"All Forms",n.name,void 0,void 0,1).subscribe(i=>{if(i&&!i.error){const r=JSON.parse(i);r.data&&r.data.length&&this.fillingConnectData.push({_id:n._id,name:n.name,section:n.section,sec_data:r})}})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(ut.t),t.Y36(Z.n),t.Y36(Y.A),t.Y36(U.t2),t.Y36(T.F0),t.Y36(T.gz),t.Y36(L.r),t.Y36(kt.M))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-output-companies"]],decls:21,vars:10,consts:[["id","scroll",1,"main-container"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,"tabular-company"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngIf"],["style","padding: 15px 10px",4,"ngSwitchCase"],["style","padding-top: 15px 10px",4,"ngSwitchCase"],["style","padding: 15px",4,"ngSwitchCase"],[1,"col-3"],[3,"suggestion",4,"ngIf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["mat-raised-button","",1,"company-btn-option",3,"ngClass","click"],[1,"down-header"],["class","down-header",4,"ngIf"],[2,"padding","15px 10px"],[3,"outputData"],[2,"padding-top","15px 10px"],[2,"padding","15px"],[3,"suggestion"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,Jc,3,2,"ng-container",5),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,Qc,4,4,"div",7),t.YNc(8,Gc,2,1,"div",8),t.YNc(9,Fc,2,0,"div",9),t.YNc(10,jc,2,0,"div",9),t.YNc(11,Bc,2,1,"div",9),t.YNc(12,$c,2,1,"div",10),t.YNc(13,Vc,2,1,"div",9),t.qZA()(),t.TgZ(14,"div",11),t.YNc(15,Wc,1,3,"app-hardcoded-suggestions",12),t.qZA()()()(),t.TgZ(16,"div",13),t._UZ(17,"img",null,14)(19,"a",null,15),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngForOf",n.companyEleList),t.xp6(1),t.Q6J("ngSwitch",n.selectEle),t.xp6(1),t.Q6J("ngIf","SWOT analysis"!=n.selectEle),t.xp6(1),t.Q6J("ngSwitchCase","Company overview"),t.xp6(1),t.Q6J("ngSwitchCase","Financial overview"),t.xp6(1),t.Q6J("ngSwitchCase","Product/Service offering"),t.xp6(1),t.Q6J("ngSwitchCase","Key development"),t.xp6(1),t.Q6J("ngSwitchCase","SWOT analysis"),t.xp6(1),t.Q6J("ngSwitchCase","Strategy"),t.xp6(2),t.Q6J("ngIf",n.interConnectData))},directives:[M.sg,M.mk,M.RF,M.O5,M.n9,lc,Pc,Zc,Hc,X],pipes:[M.rS],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.driver-btn[_ngcontent-%COMP%]{margin-right:5px}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;font-size:15px}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:-190px!important;display:flex;border-top:1px solid rgba(0,0,0,.1);align-items:flex-start;justify-content:center;padding-top:10px;width:65%}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:75%}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.Table1RightCenter[_ngcontent-%COMP%]{border:1px solid red!important}.border[_ngcontent-%COMP%]{border:1px solid #00000033}.content-p[_ngcontent-%COMP%]{line-height:30px;font-size:15px!important;text-align:justify}.mat-caption2[_ngcontent-%COMP%]{padding:40px!important;margin-top:-10px!important}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 8px!important}.main-container[_ngcontent-%COMP%]{padding:0}.tabular-company[_ngcontent-%COMP%]   .company-btn-option[_ngcontent-%COMP%]{margin:0 10px 10px 0;font-size:12px}.company-container[_ngcontent-%COMP%]{margin-top:20px}.clicked-btn[_ngcontent-%COMP%]{background:#fff!important;color:#305497!important}"]}),a})();const tl=["screenPie"],el=["screenBar"],nl=["screenImg"],il=["canvas"],al=["downloadLink"];let ol=(()=>{class a{constructor(e,n,i,r,c,l,d){this.dialog=e,this.authService=n,this.routes=i,this.reportService=r,this.reportSectionService=c,this.spinner=l,this.localStorageService=d,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.pieChartType=C.Sm,this.pieChartOptions=C.If,this.pieChartPlugins=C.r0,this.pieChartColors=C.Qf,this.pieChartLegend=C.ic,this.barChartType=x.barChartType,this.barChartOptions=x.barChartOptions,this.barChartPlugins=x.barChartPlugins,this.barChartLegend=x.barChartLegend}ngOnInit(){this.permissions=this.authService.getUserPermissions(),this.spinner.show(),this.getAPIData()}getAPIData(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{this.spinner.hide()})}generateImage(e){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();"PIE"===e?b(this.screenPie.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Pie Chart.png",this.downloadLink.nativeElement.click()}):"BAR"===e?b(this.screenBar.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Bar Chart.png",this.downloadLink.nativeElement.click()}):"IMAGE"===e&&b(this.screenImg.nativeElement).then(n=>{this.canvas.nativeElement.src=n.toDataURL(),this.downloadLink.nativeElement.href=n.toDataURL("image/png"),this.downloadLink.nativeElement.download="Image.png",this.downloadLink.nativeElement.click()})}openDialog(e){this.dialog.open(J.C,{width:"99%",data:e,disableClose:!1}).afterClosed().subscribe(i=>{})}getReportDetailsSuccess(e){e&&e.length&&e.forEach(n=>{"jointVenture"===n.meta_info.section_key&&(this.secondaryOutputModel={mainData:this.reportSectionService.convertToReportDataElement(n.content),reportName:this.reportName,startYear:this.startYear,endYear:this.endYear,reportId:this.reportId,heading:"Joint Ventures"})}),this.spinner.hide()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(S.uw),t.Y36(A.e),t.Y36(T.F0),t.Y36(L.r),t.Y36(Y.A),t.Y36(U.t2),t.Y36(Z.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-joint-ventures-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(tl,5),t.Gf(el,5),t.Gf(nl,5),t.Gf(il,5),t.Gf(al,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screenPie=i.first),t.iGM(i=t.CRH())&&(n.screenBar=i.first),t.iGM(i=t.CRH())&&(n.screenImg=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first)}},decls:1,vars:1,consts:[[3,"secondaryOutputModel"]],template:function(e,n){1&e&&t._UZ(0,"app-competitive-secondary-output",0),2&e&&t.Q6J("secondaryOutputModel",n.secondaryOutputModel)},directives:[lt],styles:[".card-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);box-shadow:none}.no-border[_ngcontent-%COMP%]{border:0!important}.float-right[_ngcontent-%COMP%]{float:right}.upper-div[_ngcontent-%COMP%]{border:1px solid black;min-height:50px}.zero-margin[_ngcontent-%COMP%]{margin:0}.zero-padding[_ngcontent-%COMP%]{padding:0}.right-heading[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.btn[_ngcontent-%COMP%]{margin-right:10px}.right-part[_ngcontent-%COMP%]{padding:0;margin:0;font-size:12px}.margin-one[_ngcontent-%COMP%]{margin:5px 0}.down-header[_ngcontent-%COMP%]{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif}.desc[_ngcontent-%COMP%]{font:600 14px Montserrat,Helvetica Neue,Arial,sans-serif}.header-background[_ngcontent-%COMP%]{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.btn-icon[_ngcontent-%COMP%]{padding:4px;margin-right:7px;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{opacity:.7}.outer-year-conatiner[_ngcontent-%COMP%]{position:relative}.outer-year-conatiner[_ngcontent-%COMP%]   .year-container[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;font-size:12px;color:#0000008a}.outer-year-conatiner[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.align-center[_ngcontent-%COMP%]{color:#0000008a;align-items:center}.tabular[_ngcontent-%COMP%]{position:fixed;bottom:0;display:flex;border-top:1px solid rgba(0,0,0,.1);height:40%;align-items:flex-start;justify-content:center}.sub-heading[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:5px 0}.listing[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin:0}.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}  .mat-raised-button{background:#305497;color:#fff;line-height:30px;border-radius:0}.component-renderer[_ngcontent-%COMP%]{height:71vh;width:98%;overflow:auto;border:1px solid black}.component-element-renderer[_ngcontent-%COMP%]{padding-bottom:20px}div.comment-item[_ngcontent-%COMP%]{outline:none}.conponent-table[_ngcontent-%COMP%]{width:100%}.my-sidebar[_ngcontent-%COMP%]{flex:0 0 10px;padding-left:0;padding-right:0}.responsiveImg[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:300px}.responsiveImg[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px 1px #008cba80}.seprator-div[_ngcontent-%COMP%]{padding:10px 0}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:first-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:first-of-type{padding-left:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell:last-of-type, .seprator-div[_ngcontent-%COMP%]     td.mat-cell:last-of-type{padding-right:10px!important}.seprator-div[_ngcontent-%COMP%]     th.mat-header-cell{padding:10px!important;border:1px solid rgba(0,0,0,.2);text-transform:capitalize;background:#305497;color:#fff}.seprator-div[_ngcontent-%COMP%]     td.mat-cell{padding:0 10px!important;border:none;border:1px solid rgba(0,0,0,.2)}.seprator-div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.seprator-div[_ngcontent-%COMP%]     tr.mat-header-row{height:20px!important}.seprator-div[_ngcontent-%COMP%]     tr.mat-row{height:32px!important}.main-container[_ngcontent-%COMP%]{padding:0}.border[_ngcontent-%COMP%]{border:1px solid #00000033}"]}),a})();var Pt=k(5245);let Yt=(()=>{class a{transform(e){return e&&e.replace(/[^a-zA-Z]/g,"")}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"startOnlyWithAlphabets",type:a,pure:!0}),a})(),qt=(()=>{class a{transform(e){let n=[];return e.forEach(i=>{i.value.forEach(r=>{n.push(r)})}),n}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"valueFromKey",type:a,pure:!0}),a})();const rl=["screen"],sl=["porters"],cl=["canvas"],ll=["downloadLink"],dl=["callAPIDialog"],pl=["container"];function gl(a,o){if(1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"startOnlyWithAlphabets"),t.qZA()),2&a){const e=o.$implicit,n=t.oxw();t.uIk("colspan",n.data.allHeads[e.key].length),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.key),"")}}function hl(a,o){if(1&a&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}function ml(a,o){if(1&a&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(n[e])}}function ul(a,o){1&a&&(t.TgZ(0,"mat-icon"),t._uU(1,"done"),t.qZA())}function _l(a,o){1&a&&(t.TgZ(0,"mat-icon"),t._uU(1,"close"),t.qZA())}function fl(a,o){if(1&a&&(t.TgZ(0,"td"),t.YNc(1,ml,2,1,"p",21),t.YNc(2,ul,2,0,"mat-icon",21),t.YNc(3,_l,2,0,"mat-icon",21),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.checkType(n[e])),t.xp6(1),t.Q6J("ngIf",!i.checkType(n[e])&&n[e]),t.xp6(1),t.Q6J("ngIf",!i.checkType(n[e])&&!n[e])}}function vl(a,o){if(1&a&&(t.TgZ(0,"tr"),t.YNc(1,fl,4,3,"td",16),t.qZA()),2&a){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.objectKeys(e))}}let Cl=(()=>{class a{constructor(e,n,i,r,c,l){this.routes=e,this.dialog=n,this.localStorageService=i,this.data=r,this.dialogRef=c,this.authService=l,this.colspans=[],this.allKeys=[],this.objectKeys=Object.keys,this.objectValues=Object.values,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.sectionId="",this.mainSectionId=""}ngAfterViewInit(){document.querySelector("#scroll").scrollIntoView()}ngOnInit(){this.getReportDetails(),document.getElementById("scrollToTop").scrollTo(0,-100),this.permissions=this.authService.getUserPermissions()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);this.localStorageService.get(O.cc.CURRENT_SECTION),this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(document.getElementById("myTable")).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="porters.png",this.downloadLink.nativeElement.click()})}checkType(e){return"boolean"!=typeof e}doClose(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.F0),t.Y36(S.uw),t.Y36(Z.n),t.Y36(S.WI),t.Y36(S.so),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-dashboard-dialog"]],viewQuery:function(e,n){if(1&e&&(t.Gf(rl,5),t.Gf(sl,5),t.Gf(cl,5),t.Gf(ll,5),t.Gf(dl,5),t.Gf(pl,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.porters=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first),t.iGM(i=t.CRH())&&(n.element=i.first)}},decls:40,vars:12,consts:[[1,"row","col","header-background"],[1,"col-2"],[1,"col-4"],[1,"col-2","zero-padding"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Close",1,"btn-icon","fa","fa-times",3,"click"],[1,"padding20","outer-year-conatiner","table-height"],[1,"table-container"],["screen",""],["id","myTable",1,"table","table-bordered"],[1,"caption-top"],[1,"mat-caption"],[1,"font-weight-bold"],[1,"caption-bottom"],["rowspan","2"],[4,"ngFor","ngForOf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],["id","result"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"div",0),t._UZ(2,"div",1)(3,"div",1)(4,"div",1)(5,"div",2),t.TgZ(6,"div",3)(7,"div",4)(8,"i",5),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(9,"i",6),t.NdJ("click",function(){return n.doClose()}),t.qZA()()()(),t.TgZ(10,"mat-card-content",7)(11,"div",8,9)(13,"table",10)(14,"caption",11)(15,"p",12)(16,"span",13),t._uU(17,"Title :"),t.qZA(),t._uU(18),t.qZA()(),t.TgZ(19,"caption",14)(20,"p",12)(21,"span",13),t._uU(22,"Source :"),t.qZA(),t._uU(23,"Wantstats "),t.qZA()(),t.TgZ(24,"tr")(25,"th",15),t._uU(26,"Company Name"),t.qZA(),t.YNc(27,gl,3,4,"th",16),t.ALo(28,"keyvalue"),t.qZA(),t.TgZ(29,"tr"),t.YNc(30,hl,2,1,"th",16),t.ALo(31,"valueFromKey"),t.ALo(32,"keyvalue"),t.qZA(),t.YNc(33,vl,2,1,"tr",16),t.qZA()()()(),t.TgZ(34,"div",17),t._UZ(35,"img",null,18)(37,"a",null,19),t.qZA(),t._UZ(39,"div",20)),2&e&&(t.xp6(18),t.lnq("Competitive Dashboard, ",n.reportName," Market [",n.startYear," - ",n.endYear,"]"),t.xp6(9),t.Q6J("ngForOf",t.lcZ(28,6,n.data.allHeads)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(31,8,t.lcZ(32,10,n.data.allHeads))),t.xp6(3),t.Q6J("ngForOf",n.data.allData))},directives:[F.dn,M.sg,M.O5,Pt.Hw],pipes:[M.Nd,Yt,qt],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.mat-dialog-container{padding:0!important}.table-height{padding:2px 16px;overflow:auto;max-height:calc(100vh - 144px)}.caption-top{padding-top:.75rem;padding-bottom:.75rem;text-align:left;caption-side:top;color:#000000de}.caption-bottom{padding-top:.75rem;padding-bottom:.75rem;text-align:left;caption-side:bottom;color:#000000de}\n"],encapsulation:2}),a})();var xl=k(4004),bl=k(262);let wl=(()=>{class a{constructor(e){this.httpClient=e}saveCompetitiveDashboard(e,n){const i=new gt.WM({"Content-Type":"application/json"});return this.httpClient.post(O.Ap.ES_API+`/${e}/toc/`,[n],{headers:i}).pipe((0,xl.U)(r=>{}),(0,bl.K)(this.handleError))}getCompetitorDashboardColumns(e,n,i){return this.httpClient.get(O.Ap.REPORT_API+`/${e}?select=me.segment`)}getCompetitorDashboardData(e,n,i){return this.httpClient.get(O.Ap.ES_API+"/"+e+"/toc?msid="+i+"&sid="+n)}handleError(e){return(0,Lt._)(e)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(gt.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const yl=["screen"],Ml=["porters"],Ol=["canvas"],Pl=["downloadLink"],Tl=["callAPIDialog"],kl=["container"];function Sl(a,o){if(1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"startOnlyWithAlphabets"),t.qZA()),2&a){const e=o.$implicit,n=t.oxw();t.uIk("colspan",n.data.allHeads[e.key].length),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.key),"")}}function Dl(a,o){if(1&a&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}function Al(a,o){if(1&a&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(n[e])}}function Zl(a,o){1&a&&(t.TgZ(0,"mat-icon"),t._uU(1,"done"),t.qZA())}function Rl(a,o){1&a&&(t.TgZ(0,"mat-icon"),t._uU(1,"close"),t.qZA())}function El(a,o){if(1&a&&(t.TgZ(0,"td"),t.YNc(1,Al,2,1,"p",25),t.YNc(2,Zl,2,0,"mat-icon",25),t.YNc(3,Rl,2,0,"mat-icon",25),t.qZA()),2&a){const e=o.$implicit,n=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.checkType(n[e])),t.xp6(1),t.Q6J("ngIf",!i.checkType(n[e])&&n[e]),t.xp6(1),t.Q6J("ngIf",!i.checkType(n[e])&&!n[e])}}function Nl(a,o){if(1&a&&(t.TgZ(0,"tr"),t.YNc(1,El,4,3,"td",19),t.qZA()),2&a){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.objectKeys(e))}}const Il=function(){return{orderType:"driver"}},Ll=[{path:"market-estimation",component:oa},{path:"executive-summary",component:Bn},{path:"definition",component:pa},{path:"list-of-assumptions",component:ya},{path:"market-structure",component:Na},{path:"key-takeaways",component:fa},{path:"market-insights",component:Sa},{path:"me-segments",component:Yo},{path:"me-region",component:_o},{path:"driveroutput",component:vi},{path:"droctcontainer",component:Bi},{path:"supply-chain-output",component:nr},{path:"porters-forces-output",component:Ir},{path:"porter-daigram",component:Ut},{path:"scope-of-study",component:Jr},{path:"competitive-overview",component:us},{path:"market-share-analysis",component:bs},{path:"key-development-growth-strategies",component:Ts},{path:"new-product-service-development",component:Rs},{path:"merger-and-acquisition",component:Ys},{path:"competitive-benchmarking",component:Gs},{path:"output-company",component:Xc},{path:"joint-ventures",component:ol},{path:"competitor-dashboard-output",component:(()=>{class a{constructor(e,n,i,r,c,l,d,f){this.routes=e,this.dialog=n,this.reportService=i,this.spinner=r,this.localStorageService=c,this.competitiveDashboardServiceApi=l,this.segmentService=d,this.authService=f,this.colspans=[],this.allKeys=[],this.data={allHeads:{},allData:[]},this.cnt=0,this.objectKeys=Object.keys,this.objectValues=Object.values,this.reportName="",this.startYear="",this.endYear="",this.reportId="",this.sectionId="",this.mainSectionId="",this.interConnectData={section:"",data:[]},this.reportConnectData={section:"",data:[]},this.spinner.show()}ngAfterViewInit(){document.querySelector("#scroll").scrollIntoView()}ngOnInit(){this.getReportDetails(),this.permissions=this.authService.getUserPermissions()}getReportDetails(){const e=this.localStorageService.get(O.cc.CURRENT_REPORT);if(this.reportName=e.title,this.startYear=e.me.start_year,this.endYear=e.me.end_year,this.reportId=e._id,e.overlaps){this.overlaps=e.overlaps;let n=this.overlaps.filter(r=>"Drivers"==r.section_name);if(n.length){let r={section:"",data:[]};if(n[0].data&&n[0].data.length&&n[0].section_name){r.section=n[0].section_name;for(let c=0;c<n[0].data.length&&c<2;c++)r.data.push(n[0].data[c])}this.interConnectData=r}let i=this.overlaps.filter(r=>"Report"==r.section_name);if(i.length){let r={section:"",data:[]};if(i[0].data&&i[0].data.length&&i[0].section_name){r.section=i[0].section_name;for(let c=0;c<i[0].data.length&&c<2;c++)r.data.push(i[0].data[c])}this.reportConnectData=r}}this.reportService.getSectionKeyDetials(this.reportId,"COMPETITIVE_LANDSCAPE").subscribe(n=>{this.getReportDetailsSuccess(n),window.scroll(0,0)},n=>{})}getReportDetailsSuccess(e){e&&e.length?e.forEach(n=>{"dashboard"===n.meta_info.section_key&&(this.sectionId=n.section_id,this.mainSectionId=n.main_section_id,n.content&&n.content.length&&n.content[0].data&&n.content[0].data.content&&(this.data.allData=n.content[0].data.content))}):this.routes.navigate([""]),this.getCompetitiveDashboard1()}getCompetitiveDashboard1(){this.competitiveDashboardServiceApi.getCompetitorDashboardColumns(this.reportId,this.sectionId,this.mainSectionId).subscribe(e=>{this.getCompetitiveDashboardSuccess(e),window.scroll(0,0)},e=>{})}getCompetitiveDashboardSuccess(e){this.rawData=e;let n=[];this.rawData.data[0]&&(n=this.rawData.data[0].me.segment,n.forEach(i=>{1==i.pid&&this.colspans.push(i)}),this.colspans.forEach(i=>{this.cnt++;const r=this.cnt+i.name;this.data.allHeads[r]=[],n.forEach(c=>{1!=c.pid&&(c.pid==i.id&&this.data.allHeads[r].push(c.name),this.colspans.push(c))})})),this.getFormInfo()}getFormInfo(){this.segmentService.getReportInfoByKey(this.reportId,O.cc.GEO_REGION_GET_KEY).subscribe(e=>{this.getFormInfoSuccess(e),window.scroll(0,0)},e=>{this.spinner.hide()})}getFormInfoSuccess(e){e.me.geo_segment.forEach(n=>{if(this.colspans.push(n.region),n.countries){this.cnt++;const i=this.cnt+n.region;this.data.allHeads[i]=[],n.countries.forEach(r=>{this.data.allHeads[i].push(r.name)})}}),this.spinner.hide()}generateImage(){if(!this.permissions.imageExport)return this.authService.showNotSubscribedMsg();b(document.getElementById("myTable")).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="porters.png",this.downloadLink.nativeElement.click()})}checkType(e){return"boolean"!=typeof e}openDialog(){this.dialog.open(Cl,{width:"99%",data:this.data,disableClose:!1}).afterClosed().subscribe(n=>{})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.F0),t.Y36(S.uw),t.Y36(L.r),t.Y36(U.t2),t.Y36(Z.n),t.Y36(wl),t.Y36(yt.B),t.Y36(A.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-competitive-dashboard-output"]],viewQuery:function(e,n){if(1&e&&(t.Gf(yl,5),t.Gf(Ml,5),t.Gf(Ol,5),t.Gf(Pl,5),t.Gf(Tl,5),t.Gf(kl,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.screen=i.first),t.iGM(i=t.CRH())&&(n.porters=i.first),t.iGM(i=t.CRH())&&(n.canvas=i.first),t.iGM(i=t.CRH())&&(n.downloadLink=i.first),t.iGM(i=t.CRH())&&(n.callAPIDialog=i.first),t.iGM(i=t.CRH())&&(n.element=i.first)}},decls:41,vars:17,consts:[["id","scroll",1,"container-fluid"],[1,"mt-4"],[1,"row","margin-0"],[1,"col-9","m8"],[1,"down-header","container-fluid"],[1,"float-l-width","header-background"],[1,"float-right"],["title","Download",1,"btn-icon","fa","fa-download",3,"click"],["title","Full Screen",1,"btn-icon","fa","fa-expand",3,"click"],[1,"padding20","outer-year-conatiner","table-height1","float-l-width"],["screen",""],[1,"table-container"],["id","myTable",1,"table","table-bordered"],[1,"caption-top"],[1,"mat-caption",2,"font-size","14px","font-weight","500"],[1,"font-weight-bold"],[1,"caption-bottom"],[1,"mat-caption",2,"font-size","14px !important"],["rowspan","2"],[4,"ngFor","ngForOf"],["id","download",2,"display","none"],["canvas",""],["downloadLink",""],[1,"col-3"],[3,"suggestion"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"i",7),t.NdJ("click",function(){return n.generateImage()}),t.qZA(),t.TgZ(9,"i",8),t.NdJ("click",function(){return n.openDialog()}),t.qZA()()(),t.TgZ(10,"mat-card-content",9,10)(12,"div",11)(13,"table",12)(14,"caption",13)(15,"p",14)(16,"span",15),t._uU(17,"Title\xa0 :\xa0"),t.qZA(),t._uU(18),t.qZA()(),t.TgZ(19,"caption",16)(20,"p",17)(21,"span",15),t._uU(22,"Source\xa0:\xa0"),t.qZA(),t._uU(23,"Wantstats "),t.qZA()(),t.TgZ(24,"tr")(25,"th",18),t._uU(26,"Company Name"),t.qZA(),t.YNc(27,Sl,3,4,"th",19),t.ALo(28,"keyvalue"),t.qZA(),t.TgZ(29,"tr"),t.YNc(30,Dl,2,1,"th",19),t.ALo(31,"valueFromKey"),t.ALo(32,"keyvalue"),t.qZA(),t.YNc(33,Nl,2,1,"tr",19),t.qZA()()(),t.TgZ(34,"div",20),t._UZ(35,"img",null,21)(37,"a",null,22),t.qZA()(),t.TgZ(39,"div",23),t._UZ(40,"app-hardcoded-suggestions",24),t.qZA()()()()),2&e&&(t.xp6(5),t.lnq("Competitive Dashboard, Competitive Landscape, ",n.reportName," Market [",n.startYear," - ",n.endYear,"]"),t.xp6(13),t.lnq("Competitive Dashboard, ",n.reportName," Market [",n.startYear," - ",n.endYear,"]"),t.xp6(9),t.Q6J("ngForOf",t.lcZ(28,10,n.data.allHeads)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(31,12,t.lcZ(32,14,n.data.allHeads))),t.xp6(3),t.Q6J("ngForOf",n.data.allData),t.xp6(7),t.Q6J("suggestion",t.DdM(16,Il)))},directives:[F.dn,M.sg,M.O5,Pt.Hw,X],pipes:[M.Nd,Yt,qt],styles:[".header-background{align-items:center;background:#2f5597;color:#fff;padding:5px;margin:0}.down-header{font-weight:700;margin:0 0 10px;font-family:Montserrat,Helvetica Neue,Arial,sans-serif;padding-left:0}.mat-caption{margin-top:20px;margin-bottom:0;padding-left:0}.analyze{font-size:13px!important;color:#fff;font-weight:500;cursor:pointer}.card-border{box-shadow:0 2px 1px -1px #0003,0 1px 1px 1px #00000024,0 1px 3px 2px #0000001f}.table-bordered th{border:1px solid black!important}.table th{font-weight:500!important}.float-right{float:right}.upper-div{border:1px solid black;min-height:50px}.zero-margin{margin:0}.zero-padding{padding:0}.right-heading{font-weight:700;font-size:14px}.btn{margin-right:10px}.right-part{padding:0;margin:0;font-size:12px}.margin-one{margin:5px 0}.desc{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}::ng-deep .mat-select-value,::ng-deep .mat-select-arrow,::ng-deep .mat-select-placeholder{color:#fff!important}.btn-icon{padding:4px;margin-right:7px;cursor:pointer}.btn-icon:hover{opacity:.7}.align-center{color:#0000008a;align-items:center}.source{font-size:11px}.mat-head{font-size:16px;font-weight:500;color:#000;margin-top:20px}.scroll-window{height:250px;overflow:hidden;overflow-y:auto;margin:0;border:1px solid rgba(0,0,0,.3);padding:10px}.center{text-align:center}foreignObject>div>span{margin:.25rem!important;text-align:justified!important}foreignObject>div>span i{font-size:2.5rem!important;margin-left:.85rem!important;margin-top:-.5rem}.mermaid .edgeLabel{background-color:#fff;text-align:left;opacity:1!important}.mermaid .label{padding:1rem .25rem!important}foreignObject>div,circle{padding:-10% 0!important}svg{overflow:auto!important;margin-left:auto;margin-right:auto}.vendor{font-size:14px;font-weight:500;color:#333}.mat-expansion-panel-spacing{margin:16px 0!important}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}.mat-expansion-panel-header,.mat-expansion-panel-body{padding:0!important}:host,:host .container{width:100%;display:block}svg{margin:0 auto;display:block}.axis text.label{font-size:12px;font-weight:700}.company-tooltip{position:absolute;width:270px;padding:5px;font-size:.8rem;background:#cccccc;border:1px solid;border-radius:5px;pointer-events:none;color:#373a3c}.company-tooltip h3{font-size:.7rem;margin-bottom:.2rem}.company-tooltip .overall{font-style:italic;margin-bottom:.5rem}.company-tooltip .rating{font-size:.7rem}.outer-year-conatiner{position:relative;border:1px solid rgba(0,0,0,.1);display:block}.container-title{display:block;margin-top:16px;margin-bottom:0}.mat-card-content{margin-bottom:0}.conclusion,.conclusion p,b{font-size:14px;font-weight:400;color:#333;font:400 14px/20px Roboto,Helvetica Neue,sans-serif}.conclusion p,b{font-weight:500}.porters{width:100%;display:flex;justify-content:center}.porters .block{width:48%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.porters .block-v{width:60%;height:10vh;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.porters .block-o{width:50%;height:12vh;border-radius:50%;background:transparent;margin:10px;display:flex;align-items:center;justify-content:center}.middle{align-items:center;justify-content:center}.triangle-left{height:0;width:0;border-left:1vw solid transparent;border-right:0px solid transparent;border-bottom:4vw solid transparent;border-top:4vw solid transparent}.triangle-right{height:0;width:0;border-right:1vw solid transparent;border-left:0px solid transparent;border-bottom:4vw solid transparent;border-top:4vw solid transparent}.triangle-down{height:0;width:0;border-top:1vw solid transparent;border-bottom:0px solid transparent;border-right:4vw solid transparent;border-left:4vw solid transparent}.triangle-up{height:0;width:0;border-bottom:1vw solid transparent;border-top:0px solid transparent;border-right:4vw solid transparent;border-left:4vw solid transparent}.flexer{display:flex;align-items:center;justify-content:center}.wrapper{flex-wrap:wrap;justify-content:center}.porters-50{width:40%;margin:auto}.block-in{width:80px;height:80px;background:transparent;display:flex;flex-wrap:wrap;justify-content:center}.h6{margin:10px;font-size:9px;font-weight:400;color:#fff;text-align:center;display:flex;align-items:center}.ul{padding:0 5px 0 10px;list-style:none;font-size:14px;color:#fff;font-weight:100}.red{background:red!important}.green{background:green!important}.grey{background:gray!important}.t-left-green{border-left:1vw solid green!important}.t-left-grey{border-left:1vw solid gray!important}.t-left-red{border-left:1vw solid red!important}.t-right-green{border-right:1vw solid green!important}.t-right-grey{border-right:1vw solid gray!important}.t-right-red{border-right:1vw solid red!important}.t-down-green{border-top:1vw solid green!important}.t-down-grey{border-top:1vw solid gray!important}.t-down-red{border-top:1vw solid red!important}.t-up-green{border-bottom:1vw solid green!important}.t-up-grey{border-bottom:1vw solid gray!important}.t-up-red{border-bottom:1vw solid red!important}.table-height1{padding:2px 16px;overflow:auto}.caption-top{padding-top:.75rem;padding-bottom:.75rem;text-align:left;caption-side:top;color:#000000de}.caption-bottom{padding-top:.75rem;padding-bottom:.75rem;text-align:left;caption-side:bottom;color:#000000de}\n"],encapsulation:2}),a})()}];let Ul=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[T.Bz.forChild(Ll)],T.Bz]}),a})();var Yl=k(7531),ql=k(7261);let Hl=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[M.ez,Ul,F.QW,W.m9,gt.JF,Yl.c,y.p0,ql.ZX,U.ef,At.g0,ft.To,Pt.Ps]]}),a})()}}]);